{"version":3,"file":"DropdownList.js","sourceRoot":"","sources":["../../../../../../src/.internal/charts/stock/toolbar/DropdownList.ts"],"names":[],"mappings":"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","sourcesContent":["import { Dropdown, IDropdownSettings, IDropdownPrivate, IDropdownEvents } from \"./Dropdown\"\r\n//import type { IDisposer } from \"../../../core/util/Disposer\";\r\n\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n\r\nexport interface IDropdownListItem {\r\n\tid: string;\r\n\tlabel: string;\r\n\tsubLabel?: string;\r\n\tclassName?: string;\r\n\ticon?: SVGElement;\r\n\tform?: \"radio\" | \"checkbox\";\r\n\tvalue?: string;\r\n\tchecked?: boolean;\r\n\toptions?: IDropdownListItem[];\r\n}\r\n\r\nexport interface IDropdownListSettings extends IDropdownSettings {\r\n\titems?: IDropdownListItem[];\r\n\tmaxSearchItems?: number;\r\n\tsearchable?: boolean;\r\n\tsearchCallback?: (query: string) => Promise<IDropdownListItem[]>;\r\n}\r\n\r\n\r\nexport interface IDropdownListPrivate extends IDropdownPrivate {\r\n\tlist?: HTMLUListElement;\r\n\tsearch?: HTMLDivElement;\r\n\tcurrentId?: string;\r\n}\r\n\r\nexport interface IDropdownListEvents extends IDropdownEvents {\r\n\tinvoked: {\r\n\t\titem: IDropdownListItem;\r\n\t};\r\n\r\n\tchanged: {\r\n\t\titem: IDropdownListItem;\r\n\t\tvalue: string | boolean;\r\n\t}\r\n}\r\n\r\n/**\r\n * @todo revview\r\n */\r\nexport class DropdownList extends Dropdown {\r\n\tpublic static className: string = \"DropdownList\";\r\n\tpublic static classNames: Array<string> = Dropdown.classNames.concat([DropdownList.className]);\r\n\r\n\tdeclare public _settings: IDropdownListSettings;\r\n\tdeclare public _privateSettings: IDropdownListPrivate;\r\n\tdeclare public _events: IDropdownListEvents;\r\n\r\n\t// private _itemDisposers: Array<IDisposer> = [];\r\n\r\n\tprotected _afterNew() {\r\n\t\tsuper._afterNew();\r\n\t\tthis._root.addDisposer(this);\r\n\t}\r\n\r\n\tprotected _initElements(): void {\r\n\t\tsuper._initElements();\r\n\r\n\t\t// Create container\r\n\t\tconst container = this.getPrivate(\"container\")!;\r\n\r\n\t\t// Init search\r\n\t\tif (this.get(\"searchable\")) {\r\n\t\t\tthis._initSearch();\r\n\t\t}\r\n\r\n\t\t// Create list\r\n\t\tconst list = document.createElement(\"ul\");\r\n\t\tlist.className = \"am5stock-control-list\";\r\n\t\tcontainer.appendChild(list);\r\n\t\tthis.setPrivate(\"list\", list);\r\n\r\n\t\tthis._initItems();\r\n\t}\r\n\r\n\tprotected _initItems(items?: IDropdownListItem[]): void {\r\n\t\tconst list = this.getPrivate(\"list\")!;\r\n\t\tlist.innerHTML = \"\";\r\n\r\n\t\tif (!items) {\r\n\t\t\titems = this.get(\"items\", []);\r\n\t\t}\r\n\t\t$array.each(items, (item) => {\r\n\t\t\tthis.addItem(item);\r\n\t\t});\r\n\t}\r\n\r\n\tprotected _initSearch(): void {\r\n\t\tlet searchBox = this.getPrivate(\"search\");\r\n\t\tif (this.get(\"searchable\")) {\r\n\t\t\tif (!searchBox) {\r\n\t\t\t\tconst container = this.getPrivate(\"container\")!;\r\n\t\t\t\tsearchBox = document.createElement(\"div\");\r\n\t\t\t\tsearchBox.className = \"am5stock-list-search\";\r\n\t\t\t\tcontainer.appendChild(searchBox);\r\n\t\t\t\tthis.setPrivate(\"search\", searchBox);\r\n\r\n\t\t\t\tconst input = document.createElement(\"input\");\r\n\t\t\t\tinput.type = \"text\";\r\n\t\t\t\tinput.placeholder = this._root.language.translateAny(\"Search\");\r\n\t\t\t\tsearchBox.appendChild(input);\r\n\r\n\t\t\t\tthis._disposers.push($utils.addEventListener(input, \"input\", (_ev) => {\r\n\t\t\t\t\tthis._filterItems(input.value);\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (searchBox) {\r\n\t\t\tsearchBox.style.display = \"none\";\r\n\t\t}\r\n\t}\r\n\r\n\tpublic _beforeChanged() {\r\n\t\tsuper._beforeChanged();\r\n\r\n\t\tif (this.isDirty(\"items\")) {\r\n\t\t\tthis._initItems();\r\n\t\t}\r\n\r\n\t\tif (this.isDirty(\"searchable\")) {\r\n\t\t\tthis._initSearch();\r\n\t\t}\r\n\r\n\t\tif (this.isPrivateDirty(\"currentId\")) {\r\n\t\t\t// @todo\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprotected _dispose(): void {\r\n\t\tsuper._dispose();\r\n\r\n\t\t// $array.each(this._itemDisposers, (x) => {\r\n\t\t// \tx.dispose();\r\n\t\t// });\r\n\t}\r\n\r\n\tprotected async _filterItems(search?: string) {\r\n\t\tconst searchCallback = this.get(\"searchCallback\");\r\n\t\tif (searchCallback && search) {\r\n\t\t\tconst maxItems = this.get(\"maxSearchItems\", 1000);\r\n\t\t\tlet items = await searchCallback.call(this, search);\r\n\t\t\tif (maxItems && (items.length > maxItems)) {\r\n\t\t\t\titems = items.slice(0, maxItems - 1);\r\n\t\t\t\titems.push({\r\n\t\t\t\t\tid: \"\",\r\n\t\t\t\t\tclassName: \"am5stock-list-info\",\r\n\t\t\t\t\tlabel: this._root.language.translateAny(\"Seach results are limited to %1.\", undefined, \"\" + maxItems)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis._initItems(items);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconst list = this.getPrivate(\"list\");\r\n\t\t\tif (list) {\r\n\t\t\t\tconst items = list.getElementsByTagName(\"li\");\r\n\t\t\t\t$array.each(items, (item) => {\r\n\t\t\t\t\tconst regex = new RegExp(search || \"\", \"i\");\r\n\t\t\t\t\tif (!search || item.innerText.match(regex)) {\r\n\t\t\t\t\t\titem.style.display = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\titem.style.display = \"none\";\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic addItem(info: IDropdownListItem): void {\r\n\t\tconst list = this.getPrivate(\"list\")!;\r\n\t\tconst item = document.createElement(\"li\");\r\n\t\titem.className = \"am5stock-list-item\";\r\n\r\n\t\tif (info.className) {\r\n\t\t\titem.className += \" \" + info.className;\r\n\t\t}\r\n\r\n\t\tif (info.icon) {\r\n\t\t\titem.appendChild(info.icon);\r\n\t\t}\r\n\r\n\t\tlet inputId: string | undefined;;\r\n\t\tif (info.form) {\r\n\t\t\tconst input: HTMLInputElement = document.createElement(\"input\");\r\n\t\t\tinputId = \"am5stock-list-\" + info.id;\r\n\t\t\tinput.type = info.form;\r\n\t\t\tif (info.value) {\r\n\t\t\t\tinput.value = info.value;\r\n\t\t\t}\r\n\t\t\tif (info.form == \"radio\") {\r\n\t\t\t\tinput.name = info.id;\r\n\t\t\t\tinputId +=  \"-\" + info.value;\r\n\t\t\t}\r\n\t\t\tif (info.checked) {\r\n\t\t\t\tinput.checked = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tinput.id = inputId;\r\n\r\n\t\t\t// this._disposers.push($utils.addEventListener(input, \"change\", (ev) => {\r\n\t\t\t// \tconsole.log(\"change\")\r\n\t\t\t// \tev.preventDefault();\r\n\t\t\t// \tthis.events.dispatch(\"changed\", {\r\n\t\t\t// \t\ttype: \"changed\",\r\n\t\t\t// \t\titem: info,\r\n\t\t\t// \t\tvalue: input.checked,\r\n\t\t\t// \t\tchecked: input.checked,\r\n\t\t\t// \t\ttarget: this\r\n\t\t\t// \t});\r\n\t\t\t// }));\r\n\r\n\t\t\tthis._disposers.push($utils.addEventListener(item, \"click\", (ev) => {\r\n\t\t\t\t//ev.preventDefault();\r\n\t\t\t\tif (ev.target !== input) {\r\n\t\t\t\t\tinput.checked = !input.checked;\r\n\t\t\t\t}\r\n\t\t\t\tthis.events.dispatch(\"changed\", {\r\n\t\t\t\t\ttype: \"changed\",\r\n\t\t\t\t\titem: info,\r\n\t\t\t\t\tvalue: input.checked,\r\n\t\t\t\t\tchecked: input.checked,\r\n\t\t\t\t\ttarget: this\r\n\t\t\t\t});\r\n\t\t\t}));\r\n\r\n\t\t\titem.appendChild(input);\r\n\t\t}\r\n\r\n\t\tconst label = document.createElement(\"label\");\r\n\t\tlabel.innerHTML = info.label;\r\n\t\tif (info.label == \"\") {\r\n\t\t\tlabel.style.display = \"none\";\r\n\t\t}\r\n\t\titem.appendChild(label);\r\n\r\n\t\tif (info.subLabel) {\r\n\t\t\tconst subLabel = document.createElement(\"label\");\r\n\t\t\tsubLabel.className = \"am5stock-list-sub\";\r\n\t\t\tsubLabel.innerHTML = info.subLabel;\r\n\t\t\titem.appendChild(subLabel);\r\n\t\t}\r\n\r\n\t\tlist.appendChild(item);\r\n\r\n\t\t// Add click event\r\n\t\tthis._disposers.push($utils.addEventListener(item, \"click\", (_ev) => {\r\n\t\t\tthis.hide();\r\n\t\t\tthis.events.dispatch(\"invoked\", {\r\n\t\t\t\ttype: \"invoked\",\r\n\t\t\t\titem: info,\r\n\t\t\t\ttarget: this\r\n\t\t\t});\r\n\t\t}));\r\n\t}\r\n\r\n\tpublic hide(): void {\r\n\t\tsuper.hide();\r\n\t\tthis._filterItems();\r\n\t\tlet searchBox = this.getPrivate(\"search\");\r\n\t\tif (searchBox) {\r\n\t\t\tconst inputs = searchBox.getElementsByTagName(\"input\");\r\n\t\t\tlet isCustomSearch = false;\r\n\t\t\t$array.each(inputs, (input) => {\r\n\t\t\t\tif (input.value !== \"\") {\r\n\t\t\t\t\tisCustomSearch = true;\r\n\t\t\t\t\tinput.value = \"\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (this.get(\"searchCallback\") && isCustomSearch) {\r\n\t\t\t\tthis._initItems();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}"]}