{"version":3,"file":"DrawingControl.js","sourceRoot":"","sources":["../../../../../../src/.internal/charts/stock/toolbar/DrawingControl.ts"],"names":[],"mappings":"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","sourcesContent":["//import type { IDisposer } from \"../../../core/util/Disposer\";\r\nimport type { DrawingSeries } from \"../drawing/DrawingSeries\";\r\nimport type { XYSeries } from \"../../xy/series/XYSeries\";\r\nimport type { Color } from \"../../../core/util/Color\";\r\nimport type { ColorSet } from \"../../../core/util/ColorSet\";\r\nimport type { IDropdownListItem } from \"./DropdownList\";\r\n\r\nimport { color } from \"../../../core/util/Color\";\r\n\r\nimport { StockControl, IStockControlSettings, IStockControlPrivate, IStockControlEvents } from \"./StockControl\";\r\nimport { DrawingToolControl, DrawingTools } from \"./DrawingToolControl\";\r\nimport { ColorControl } from \"./ColorControl\";\r\nimport { DropdownListControl } from \"./DropdownListControl\";\r\nimport { IconControl, IIcon } from \"./IconControl\";\r\nimport { StockIcons } from \"./StockIcons\";\r\n\r\nimport { AverageSeries } from \"../drawing/AverageSeries\";\r\nimport { CalloutSeries } from \"../drawing/CalloutSeries\";\r\nimport { EllipseSeries } from \"../drawing/EllipseSeries\";\r\nimport { DoodleSeries } from \"../drawing/DoodleSeries\";\r\nimport { FibonacciSeries } from \"../drawing/FibonacciSeries\";\r\nimport { FibonacciTimezoneSeries } from \"../drawing/FibonacciTimezoneSeries\";\r\nimport { HorizontalLineSeries } from \"../drawing/HorizontalLineSeries\";\r\nimport { HorizontalRaySeries } from \"../drawing/HorizontalRaySeries\";\r\nimport { IconSeries } from \"../drawing/IconSeries\";\r\nimport { LabelSeries } from \"../drawing/LabelSeries\";\r\nimport { SimpleLineSeries } from \"../drawing/SimpleLineSeries\";\r\nimport { PolylineSeries } from \"../drawing/PolylineSeries\";\r\nimport { QuadrantLineSeries } from \"../drawing/QuadrantLineSeries\";\r\nimport { RectangleSeries } from \"../drawing/RectangleSeries\";\r\nimport { RegressionSeries } from \"../drawing/RegressionSeries\";\r\nimport { TrendLineSeries } from \"../drawing/TrendLineSeries\";\r\nimport { VerticalLineSeries } from \"../drawing/VerticalLineSeries\";\r\nimport type { StockPanel } from \"../StockPanel\";\r\n\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $object from \"../../../core/util/Object\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n\r\nexport interface IDrawingControlSettings extends IStockControlSettings {\r\n\r\n\t/**\r\n\t * List of tools available in drawing mode.\r\n\t *\r\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/stock/toolbar/drawing-control/#Tool_list} for more info\r\n\t */\r\n\ttools?: DrawingTools[];\r\n\r\n\t/**\r\n\t * Default tool.\r\n\t */\r\n\ttool?: DrawingTools,\r\n\r\n\t/**\r\n\t * Target series for drawing.\r\n\t */\r\n\tseries?: XYSeries[];\r\n\r\n\t/**\r\n\t * Colors to show in color pickers.\r\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/stock/toolbar/drawing-control/#Colors} for more info\r\n\t */\r\n\tcolors?: ColorSet;\r\n\r\n\t/**\r\n\t * Default color for lines/borders.\r\n\t */\r\n\tstrokeColor?: Color;\r\n\r\n\t/**\r\n\t * Default line/border width in pixels.\r\n\t */\r\n\tstrokeWidth?: number;\r\n\r\n\t/**\r\n\t * Available line widths for user to choose from.\r\n\t */\r\n\tstrokeWidths?: number[];\r\n\r\n\t/**\r\n\t * Default dasharray setting.\r\n\t */\r\n\tstrokeDasharray?: number[];\r\n\r\n\t/**\r\n\t * Available line dash settings for user to choose from.\r\n\t */\r\n\tstrokeDasharrays?: number[][];\r\n\r\n\t/**\r\n\t * Default line/border opacity.\r\n\t */\r\n\tstrokeOpacity?: number;\r\n\r\n\t/**\r\n\t * Show dotted/thin line extending from both ends of the drawn line?\r\n\t *\r\n\t * @default true\r\n\t */\r\n\tshowExtension?: boolean;\r\n\r\n\t/**\r\n\t * Default fill color.\r\n\t */\r\n\tfillColor?: Color;\r\n\r\n\t/**\r\n\t * Default fill opacity.\r\n\t */\r\n\tfillOpacity?: number;\r\n\r\n\t/**\r\n\t * Default color for labels.\r\n\t */\r\n\tlabelFill?: Color;\r\n\r\n\t/**\r\n\t * Default label font size.\r\n\t */\r\n\tlabelFontSize?: number | string | undefined;\r\n\r\n\t/**\r\n\t * Available font sizes.\r\n\t */\r\n\tlabelFontSizes?: Array<number | string>;\r\n\r\n\t/**\r\n\t * Default label font.\r\n\t */\r\n\tlabelFontFamily?: string;\r\n\r\n\t/**\r\n\t * Available fonts for user to choose from.\r\n\t */\r\n\tlabelFontFamilies?: string[];\r\n\r\n\t/**\r\n\t * Default label font weight.\r\n\t */\r\n\tlabelFontWeight?: \"normal\" | \"bold\" | \"bolder\" | \"lighter\" | \"100\" | \"200\" | \"300\" | \"400\" | \"500\" | \"600\" | \"700\" | \"800\" | \"900\";\r\n\r\n\t/**\r\n\t * Default label style.\r\n\t */\r\n\tlabelFontStyle?: \"normal\" | \"italic\" | \"oblique\";\r\n\r\n\tdrawingIcon?: IIcon;\r\n\tdrawingIcons?: IIcon[];\r\n\r\n\t/**\r\n\t * Should drawings snap to the nearest data point?\r\n\t *\r\n\t * @default true\r\n\t */\r\n\tsnapToData?: boolean;\r\n\r\n}\r\n\r\n\r\nexport interface IDrawingControlPrivate extends IStockControlPrivate {\r\n\ttoolsContainer?: HTMLDivElement;\r\n\t// icon?: HTMLElement;\r\n\t// label?: HTMLDivElement;\r\n\ttoolControl?: DrawingToolControl;\r\n\teraserControl?: StockControl;\r\n\tclearControl?: StockControl;\r\n\r\n\tstrokeControl?: ColorControl;\r\n\tstrokeWidthControl?: DropdownListControl;\r\n\tstrokeDasharrayControl?: DropdownListControl;\r\n\tfillControl?: ColorControl;\r\n\textensionControl?: StockControl;\r\n\r\n\tlabelFillControl?: ColorControl;\r\n\tlabelFontSizeControl?: DropdownListControl;\r\n\tlabelFontFamilyControl?: DropdownListControl;\r\n\tboldControl?: StockControl;\r\n\titalicControl?: StockControl;\r\n\r\n\ticonControl?: IconControl;\r\n\tsnapControl?: StockControl;\r\n}\r\n\r\nexport interface IDrawingControlEvents extends IStockControlEvents {\r\n}\r\n\r\n/**\r\n * A drawing tools control for [[StockChart]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/stock/toolbar/drawing-control/} for more info\r\n */\r\nexport class DrawingControl extends StockControl {\r\n\tpublic static className: string = \"DrawingControl\";\r\n\tpublic static classNames: Array<string> = StockControl.classNames.concat([DrawingControl.className]);\r\n\r\n\tdeclare public _settings: IDrawingControlSettings;\r\n\tdeclare public _privateSettings: IDrawingControlPrivate;\r\n\tdeclare public _events: IDrawingControlEvents;\r\n\r\n\tprivate _drawingSeries: { [index: string]: DrawingSeries[] } = {};\r\n\tprivate _currentEnabledSeries: DrawingSeries[] = [];\r\n\r\n\tprotected _afterNew() {\r\n\t\tsuper._afterNew();\r\n\r\n\t\t// Init drawing toolbar\r\n\t\tif (this.getPrivate(\"toolbar\")) {\r\n\t\t\tthis._initToolbar();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprotected _initElements(): void {\r\n\t\tsuper._initElements();\r\n\t}\r\n\r\n\tprotected _initToolbar(): void {\r\n\t\tconst stockChart = this.get(\"stockChart\");\r\n\t\tconst l = this._root.language;\r\n\r\n\t\t// Add additional container for drawing toolbar\r\n\t\tconst toolbar = this.getPrivate(\"toolbar\")!;\r\n\t\tconst toolsContainer = document.createElement(\"div\");\r\n\t\ttoolsContainer.className = \"am5stock-control-drawing-tools\";\r\n\t\ttoolsContainer.style.display = \"none\";\r\n\t\tthis.setPrivate(\"toolsContainer\", toolsContainer);\r\n\t\ttoolbar.get(\"container\").appendChild(toolsContainer);\r\n\r\n\t\t/**\r\n\t\t * Drawing tool selection control\r\n\t\t */\r\n\t\tconst toolControl = DrawingToolControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tdescription: l.translateAny(\"Drawing tool\"),\r\n\t\t\ttools: this.get(\"tools\")!\r\n\t\t});\r\n\t\ttoolsContainer.appendChild(toolControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"toolControl\", toolControl);\r\n\r\n\t\ttoolControl.events.on(\"selected\", (ev) => {\r\n\t\t\tthis.set(\"tool\", ev.tool);\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Icon selection control\r\n\t\t */\r\n\t\tconst drawingIcons = this.get(\"drawingIcons\")!;\r\n\t\tconst iconControl = IconControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tdescription: l.translateAny(\"Arrows &amp; Icons\"),\r\n\t\t\ticons: drawingIcons\r\n\t\t});\r\n\t\ticonControl.setIcon(this.get(\"drawingIcon\", drawingIcons[0]));\r\n\t\ttoolsContainer.appendChild(iconControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"iconControl\", iconControl);\r\n\r\n\t\ticonControl.events.on(\"selected\", (ev) => {\r\n\t\t\tthis.set(\"drawingIcon\", ev.icon);\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Snap toggle control\r\n\t\t */\r\n\t\tconst snapControl = StockControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tdescription: l.translateAny(\"Snap icon to data\"),\r\n\t\t\ticon: StockIcons.getIcon(\"Snap\")\r\n\t\t});\r\n\t\tsnapControl.hide();\r\n\t\ttoolsContainer.appendChild(snapControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"snapControl\", snapControl);\r\n\t\tif (this.get(\"snapToData\")) {\r\n\t\t\tsnapControl.set(\"active\", true);\r\n\t\t}\r\n\t\tsnapControl.on(\"active\", (_ev) => {\r\n\t\t\tthis.set(\"snapToData\", snapControl.get(\"active\") == true);\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Stroke color control\r\n\t\t */\r\n\t\tconst strokeControl = ColorControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tcolors: this.get(\"colors\"),\r\n\t\t\tdescription: l.translateAny(\"Line color\")\r\n\t\t});\r\n\t\tstrokeControl.hide();\r\n\t\tstrokeControl.setPrivate(\"color\", this.get(\"strokeColor\", color(0x000000)));\r\n\t\tstrokeControl.setPrivate(\"opacity\", this.get(\"strokeOpacity\", 1));\r\n\t\ttoolsContainer.appendChild(strokeControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"strokeControl\", strokeControl);\r\n\t\tstrokeControl.events.on(\"selected\", (ev) => {\r\n\t\t\tthis.set(\"strokeColor\", ev.color);\r\n\t\t});\r\n\t\tstrokeControl.events.on(\"selectedOpacity\", (ev) => {\r\n\t\t\tthis.set(\"strokeOpacity\", ev.opacity);\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Stroke width control\r\n\t\t */\r\n\t\tconst strokeWidths: string[] = [];\r\n\t\t$array.each(this.get(\"strokeWidths\", []), (width) => {\r\n\t\t\tstrokeWidths.push(width + \"px\");\r\n\t\t});\r\n\t\tconst strokeWidthControl = DropdownListControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tdescription: l.translateAny(\"Line thickness\"),\r\n\t\t\tcurrentItem: this.get(\"strokeWidth\", \"12\") + \"px\",\r\n\t\t\titems: strokeWidths\r\n\t\t});\r\n\t\tstrokeWidthControl.hide();\r\n\t\t//strokeWidthControl.setItem(this.get(\"strokeWidth\", \"12\") + \"px\");\r\n\t\tstrokeWidthControl.getPrivate(\"icon\")!.style.display = \"none\";\r\n\t\ttoolsContainer.appendChild(strokeWidthControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"strokeWidthControl\", strokeWidthControl);\r\n\t\tstrokeWidthControl.events.on(\"selected\", (ev) => {\r\n\t\t\tthis.set(\"strokeWidth\", $type.toNumber($type.isString(ev.item) ? ev.item : ev.item.id));\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Stroke dash cofiguration control\r\n\t\t */\r\n\t\tconst strokeDasharrays: IDropdownListItem[] = [];\r\n\t\tlet currentStrokeDasharray: SVGElement | undefined;\r\n\t\tconst strokeDasharray = this.get(\"strokeDasharray\", []);\r\n\t\t$array.each(this.get(\"strokeDasharrays\", []), (dasharray) => {\r\n\t\t\tconst icon = StockIcons.getIcon(\"Dash\");\r\n\t\t\tconst id = JSON.stringify(dasharray);\r\n\t\t\ticon.setAttribute(\"stroke\", \"#000\");\r\n\t\t\ticon.setAttribute(\"stroke-dasharray\", dasharray.join(\",\"));\r\n\t\t\ticon.setAttribute(\"class\", \"am5stock-icon-wide\");\r\n\t\t\tstrokeDasharrays.push({\r\n\t\t\t\tid: id,\r\n\t\t\t\tlabel: \"\",\r\n\t\t\t\ticon: icon\r\n\t\t\t});\r\n\r\n\t\t\tif (id == JSON.stringify(strokeDasharray)) {\r\n\t\t\t\tcurrentStrokeDasharray = StockIcons.getIcon(\"Dash\");\r\n\t\t\t\tcurrentStrokeDasharray.setAttribute(\"stroke\", \"#000\");\r\n\t\t\t\tcurrentStrokeDasharray.setAttribute(\"stroke-dasharray\", dasharray.join(\",\"));\r\n\t\t\t\tcurrentStrokeDasharray.setAttribute(\"class\", \"am5stock-icon-wide\");\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst strokeDasharrayControl = DropdownListControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tdescription: l.translateAny(\"Line style\"),\r\n\t\t\titems: strokeDasharrays\r\n\t\t});\r\n\t\tstrokeDasharrayControl.hide();\r\n\t\tif (currentStrokeDasharray) {\r\n\t\t\tstrokeDasharrayControl.setItem({\r\n\t\t\t\tid: \"\",\r\n\t\t\t\ticon: currentStrokeDasharray,\r\n\t\t\t\tlabel: \"\"\r\n\t\t\t});\r\n\t\t}\r\n\t\tstrokeDasharrayControl.getPrivate(\"icon\")!.setAttribute(\"class\", \"am5stock-control-icon am5stock-icon-wide\")\r\n\t\ttoolsContainer.appendChild(strokeDasharrayControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"strokeDasharrayControl\", strokeDasharrayControl);\r\n\t\tstrokeDasharrayControl.events.on(\"selected\", (ev) => {\r\n\t\t\tthis.set(\"strokeDasharray\", JSON.parse((<IDropdownListItem>ev.item).id));\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Fill color control\r\n\t\t */\r\n\t\tconst fillControl = ColorControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tcolors: this.get(\"colors\"),\r\n\t\t\tname: l.translateAny(\"Fill\"),\r\n\t\t\tdescription: l.translateAny(\"Fill color\"),\r\n\t\t});\r\n\t\tfillControl.hide();\r\n\t\tfillControl.setPrivate(\"color\", this.get(\"fillColor\", color(0x000000)));\r\n\t\tfillControl.setPrivate(\"opacity\", this.get(\"fillOpacity\", 1));\r\n\t\ttoolsContainer.appendChild(fillControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"fillControl\", fillControl);\r\n\t\tfillControl.events.on(\"selected\", (ev) => {\r\n\t\t\tthis.set(\"fillColor\", ev.color);\r\n\t\t});\r\n\t\tfillControl.events.on(\"selectedOpacity\", (ev) => {\r\n\t\t\tthis.set(\"fillOpacity\", ev.opacity);\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Label color control\r\n\t\t */\r\n\t\tconst labelFillControl = ColorControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tcolors: this.get(\"colors\"),\r\n\t\t\tname: l.translateAny(\"Text\"),\r\n\t\t\tdescription: l.translateAny(\"Text color\"),\r\n\t\t\tuseOpacity: false\r\n\t\t});\r\n\t\tlabelFillControl.hide();\r\n\t\tlabelFillControl.setPrivate(\"color\", this.get(\"labelFill\", color(0x000000)));\r\n\t\ttoolsContainer.appendChild(labelFillControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"labelFillControl\", labelFillControl);\r\n\t\tlabelFillControl.events.on(\"selected\", (ev) => {\r\n\t\t\tthis.set(\"labelFill\", ev.color);\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Font size control\r\n\t\t */\r\n\t\tconst fontSizes: string[] = [];\r\n\t\t$array.each(this.get(\"labelFontSizes\", []), (size) => {\r\n\t\t\tfontSizes.push(size + \"\");\r\n\t\t});\r\n\t\tconst fontSizeControl = DropdownListControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tdescription: l.translateAny(\"Label font size\"),\r\n\t\t\tcurrentItem: this.get(\"labelFontSize\", \"12px\") + \"\",\r\n\t\t\titems: fontSizes,\r\n\t\t});\r\n\t\tfontSizeControl.hide();\r\n\t\t//fontSizeControl.setItem(this.get(\"labelFontSize\", \"12px\") + \"\");\r\n\t\ttoolsContainer.appendChild(fontSizeControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"labelFontSizeControl\", fontSizeControl);\r\n\t\tfontSizeControl.events.on(\"selected\", (ev) => {\r\n\t\t\tthis.set(\"labelFontSize\", $type.isString(ev.item) ? ev.item : ev.item.id);\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Bold control\r\n\t\t */\r\n\t\tconst boldControl = StockControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tdescription: l.translateAny(\"Bold\"),\r\n\t\t\ticon: StockIcons.getIcon(\"Bold\")\r\n\t\t});\r\n\t\tboldControl.hide();\r\n\t\ttoolsContainer.appendChild(boldControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"boldControl\", boldControl);\r\n\t\tboldControl.on(\"active\", (_ev) => {\r\n\t\t\tthis.set(\"labelFontWeight\", boldControl.get(\"active\") ? \"bold\" : \"normal\");\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Italic control\r\n\t\t */\r\n\t\tconst italicControl = StockControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tdescription: l.translateAny(\"Italic\"),\r\n\t\t\ticon: StockIcons.getIcon(\"Italic\")\r\n\t\t});\r\n\t\titalicControl.hide();\r\n\t\ttoolsContainer.appendChild(italicControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"italicControl\", italicControl);\r\n\t\titalicControl.on(\"active\", (_ev) => {\r\n\t\t\tthis.set(\"labelFontStyle\", italicControl.get(\"active\") ? \"italic\" : \"normal\");\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Font family control\r\n\t\t */\r\n\t\tconst fontFamilies: string[] = [];\r\n\t\t$array.each(this.get(\"labelFontFamilies\", []), (size) => {\r\n\t\t\tfontFamilies.push(size + \"\");\r\n\t\t});\r\n\t\tconst fontFamilyControl = DropdownListControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tdescription: l.translateAny(\"Label font family\"),\r\n\t\t\tcurrentItem: this.get(\"labelFontFamily\", \"Arial\"),\r\n\t\t\titems: fontFamilies,\r\n\t\t});\r\n\t\tfontFamilyControl.hide();\r\n\t\ttoolsContainer.appendChild(fontFamilyControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"labelFontFamilyControl\", fontFamilyControl);\r\n\t\tfontFamilyControl.events.on(\"selected\", (ev) => {\r\n\t\t\tthis.set(\"labelFontFamily\", $type.isString(ev.item) ? ev.item : ev.item.id);\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Line extension control\r\n\t\t */\r\n\t\tconst extensionControl = StockControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tdescription: l.translateAny(\"Show line extension\"),\r\n\t\t\ticon: StockIcons.getIcon(\"Show Extension\")\r\n\t\t});\r\n\t\textensionControl.hide();\r\n\t\ttoolsContainer.appendChild(extensionControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"extensionControl\", extensionControl);\r\n\t\tif (this.get(\"showExtension\")) {\r\n\t\t\textensionControl.set(\"active\", true);\r\n\t\t}\r\n\t\textensionControl.on(\"active\", (_ev) => {\r\n\t\t\tthis.set(\"showExtension\", extensionControl.get(\"active\") == true);\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Eraser control\r\n\t\t */\r\n\t\tconst eraserControl = StockControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tdescription: l.translateAny(\"Eraser\"),\r\n\t\t\ticon: StockIcons.getIcon(\"Eraser\")\r\n\t\t});\r\n\t\ttoolsContainer.appendChild(eraserControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"eraserControl\", eraserControl);\r\n\t\teraserControl.on(\"active\", (_ev) => {\r\n\t\t\tconst active = eraserControl.get(\"active\");\r\n\t\t\t$object.each(this._drawingSeries, (_tool, seriesList) => {\r\n\t\t\t\t$array.each(seriesList, (series) => {\r\n\t\t\t\t\tif (active) {\r\n\t\t\t\t\t\tseries.enableErasing();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tseries.disableErasing();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Clear all drawings control\r\n\t\t */\r\n\t\tconst clearControl = StockControl.new(this._root, {\r\n\t\t\tstockChart: stockChart,\r\n\t\t\tname: l.translateAny(\"Clear\"),\r\n\t\t\tdescription: l.translateAny(\"Clear all drawings\"),\r\n\t\t\ticon: StockIcons.getIcon(\"Clear\"),\r\n\t\t\ttogglable: false\r\n\t\t});\r\n\t\ttoolsContainer.appendChild(clearControl.getPrivate(\"button\")!);\r\n\t\tthis.setPrivate(\"clearControl\", clearControl);\r\n\t\tthis._disposers.push($utils.addEventListener(clearControl.getPrivate(\"button\")!, \"click\", (_ev) => {\r\n\t\t\t$object.each(this._drawingSeries, (_tool, seriesList) => {\r\n\t\t\t\t$array.each(seriesList, (series) => {\r\n\t\t\t\t\tseries.clearDrawings();\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t}));\r\n\r\n\t\t// Preset active tool\r\n\t\tif (this.get(\"active\")) {\r\n\t\t\tthis._setTool(this.get(\"tool\"));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic _beforeChanged() {\r\n\t\tsuper._beforeChanged();\r\n\r\n\t\tif (this.isDirty(\"tools\")) {\r\n\t\t\tconst toolControl = this.getPrivate(\"toolControl\");\r\n\t\t\tif (toolControl) {\r\n\t\t\t\ttoolControl.set(\"tools\", this.get(\"tools\")!);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.isPrivateDirty(\"toolbar\")) {\r\n\t\t\tif (this.getPrivate(\"toolbar\")) {\r\n\t\t\t\tthis._initToolbar();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.isDirty(\"active\")) {\r\n\t\t\tif (this.get(\"active\")) {\r\n\t\t\t\tthis.getPrivate(\"toolsContainer\")!.style.display = \"block\";\r\n\t\t\t\tthis._setTool(this.get(\"tool\"));\r\n\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.getPrivate(\"toolsContainer\")!.style.display = \"none\";\r\n\t\t\t\tthis._setTool();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.isDirty(\"tool\") && this.get(\"active\")) {\r\n\t\t\tthis._setTool(this.get(\"tool\"));\r\n\t\t}\r\n\r\n\t\tif (this.isDirty(\"strokeColor\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"strokeOpacity\") || this.isDirty(\"strokeDasharray\")) {\r\n\t\t\tthis._setStroke();\r\n\t\t}\r\n\r\n\t\tif (this.isDirty(\"fillColor\") || this.isDirty(\"fillOpacity\")) {\r\n\t\t\tthis._setFill();\r\n\t\t}\r\n\r\n\t\tif (this.isDirty(\"labelFill\") || this.isDirty(\"labelFontSize\") || this.isDirty(\"labelFontFamily\") || this.isDirty(\"labelFontWeight\") || this.isDirty(\"labelFontStyle\")) {\r\n\t\t\tthis._setLabel();\r\n\t\t}\r\n\r\n\t\tif (this.isDirty(\"showExtension\")) {\r\n\t\t\tthis._setExtension();\r\n\t\t}\r\n\r\n\t\tif (this.isDirty(\"drawingIcon\")) {\r\n\t\t\tthis._setDrawingIcon();\r\n\t\t}\r\n\r\n\t\tif (this.isDirty(\"snapToData\")) {\r\n\t\t\tthis._setSnap();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _setTool(tool?: DrawingTools): void {\r\n\t\t// Disable current drawing series\r\n\t\t$array.each(this._currentEnabledSeries, (series) => {\r\n\t\t\tseries.disableDrawing();\r\n\t\t});\r\n\t\tthis._currentEnabledSeries = [];\r\n\r\n\t\t// Disable editing\r\n\t\tif (!tool) {\r\n\t\t\tthis.getPrivate(\"eraserControl\")!.set(\"active\", false);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Check if we need to create series\r\n\t\tlet seriesList = this._drawingSeries[tool];\r\n\t\tif (!seriesList) {\r\n\r\n\t\t\t// Get target series\r\n\t\t\tconst chartSeries: XYSeries[] = this.get(\"series\", []);\r\n\t\t\tconst stockChart = this.get(\"stockChart\");\r\n\t\t\tif (chartSeries.length == 0) {\r\n\t\t\t\t// No target series set, take first series out of each chart\r\n\t\t\t\tstockChart.panels.each((panel) => {\r\n\t\t\t\t\tif (panel.series.length > 0) {\r\n\t\t\t\t\t\tchartSeries.push(panel.series.getIndex(0)!);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Populate the list\r\n\t\t\tseriesList = [];\r\n\t\t\t$array.each(chartSeries, (chartSeries) => {\r\n\t\t\t\tlet series: DrawingSeries | undefined;\r\n\t\t\t\tconst xAxis = <any>chartSeries.get(\"xAxis\");\r\n\t\t\t\tconst yAxis = <any>chartSeries.get(\"yAxis\");\r\n\t\t\t\tconst panel = chartSeries.chart! as StockPanel;\r\n\t\t\t\tswitch (tool) {\r\n\t\t\t\t\tcase \"Average\":\r\n\t\t\t\t\t\tseries = AverageSeries.new(this._root, {\r\n\t\t\t\t\t\t\tseries: chartSeries,\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis,\r\n\t\t\t\t\t\t\tfield: \"value\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Callout\":\r\n\t\t\t\t\t\tseries = CalloutSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Doodle\":\r\n\t\t\t\t\t\tseries = DoodleSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tseries.fills.template.setAll({\r\n\t\t\t\t\t\t\tforceHidden: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Ellipse\":\r\n\t\t\t\t\t\tseries = EllipseSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Fibonacci\":\r\n\t\t\t\t\t\tseries = FibonacciSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Fibonacci Timezone\":\r\n\t\t\t\t\t\tseries = FibonacciTimezoneSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase \"Horizontal Line\":\r\n\t\t\t\t\t\tseries = HorizontalLineSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Horizontal Ray\":\r\n\t\t\t\t\t\tseries = HorizontalRaySeries.new(this._root, {\r\n\t\t\t\t\t\t\tseries: chartSeries,\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis,\r\n\t\t\t\t\t\t\tfield: \"value\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Arrows &amp; Icons\":\r\n\t\t\t\t\t\tconst icon = this.get(\"drawingIcon\", this.get(\"drawingIcons\")![0]);\r\n\t\t\t\t\t\tseries = IconSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis,\r\n\t\t\t\t\t\t\ticonSvgPath: icon.svgPath,\r\n\t\t\t\t\t\t\ticonScale: icon.scale,\r\n\t\t\t\t\t\t\ticonCenterX: icon.centerX,\r\n\t\t\t\t\t\t\ticonCenterY: icon.centerY,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Label\":\r\n\t\t\t\t\t\tseries = LabelSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Line\":\r\n\t\t\t\t\t\tseries = SimpleLineSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Polyline\":\r\n\t\t\t\t\t\tseries = PolylineSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tseries.fills.template.setAll({\r\n\t\t\t\t\t\t\tforceHidden: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Quadrant Line\":\r\n\t\t\t\t\t\tseries = QuadrantLineSeries.new(this._root, {\r\n\t\t\t\t\t\t\tseries: chartSeries,\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis,\r\n\t\t\t\t\t\t\tfield: \"value\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Rectangle\":\r\n\t\t\t\t\t\tseries = RectangleSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Regression\":\r\n\t\t\t\t\t\tseries = RegressionSeries.new(this._root, {\r\n\t\t\t\t\t\t\tseries: chartSeries,\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis,\r\n\t\t\t\t\t\t\tfield: \"value\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Trend Line\":\r\n\t\t\t\t\t\tseries = TrendLineSeries.new(this._root, {\r\n\t\t\t\t\t\t\tseries: chartSeries,\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis,\r\n\t\t\t\t\t\t\tfield: \"value\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Vertical Line\":\r\n\t\t\t\t\t\tseries = VerticalLineSeries.new(this._root, {\r\n\t\t\t\t\t\t\txAxis: xAxis,\r\n\t\t\t\t\t\t\tyAxis: yAxis\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (series) {\r\n\t\t\t\t\tseriesList.push(series);\r\n\t\t\t\t\tpanel.drawings.push(series);\r\n\t\t\t\t\tseries.setPrivate(\"baseValueSeries\", chartSeries);\r\n\t\t\t\t\tseries.set(\"valueYShow\", chartSeries.get(\"valueYShow\"));\r\n\t\t\t\t\tseries.set(\"calculateAggregates\", true);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tthis._drawingSeries[tool] = seriesList;\r\n\r\n\t\t\tthis._setStroke();\r\n\t\t\tthis._setFill();\r\n\t\t}\r\n\r\n\t\t$array.each(seriesList, (series) => {\r\n\t\t\tseries.enableDrawing();\r\n\t\t\tthis._currentEnabledSeries.push(series);\r\n\t\t});\r\n\r\n\t\tthis.getPrivate(\"toolControl\")!.setTool(tool);\r\n\r\n\t\t// Show/hide needed drawing property controls\r\n\t\tconst controls: any = {\r\n\t\t\tstrokeControl: [\"Average\", \"Callout\", \"Doodle\", \"Ellipse\", \"Fibonacci\", \"Horizontal Line\", \"Horizontal Ray\", \"Arrows &amp; Icons\", \"Line\", \"Polyline\", \"Quadrant Line\", \"Rectangle\", \"Regression\", \"Trend Line\", \"Vertical Line\"],\r\n\t\t\tstrokeWidthControl: [\"Average\", \"Doodle\", \"Ellipse\", \"Horizontal Line\", \"Horizontal Ray\", \"Line\", \"Polyline\", \"Quadrant Line\", \"Rectangle\", \"Regression\", \"Trend Line\", \"Vertical Line\"],\r\n\t\t\tstrokeDasharrayControl: [\"Average\", \"Doodle\", \"Ellipse\", \"Horizontal Line\", \"Horizontal Ray\", \"Line\", \"Polyline\", \"Quadrant Line\", \"Rectangle\", \"Regression\", \"Trend Line\", \"Vertical Line\"],\r\n\t\t\textensionControl: [\"Average\", \"Line\", \"Regression\", \"Trend Line\"],\r\n\t\t\tfillControl: [\"Callout\", \"Ellipse\", \"Quadrant Line\", \"Rectangle\", \"Arrows &amp; Icons\"],\r\n\r\n\t\t\tlabelFillControl: [\"Callout\", \"Label\"],\r\n\t\t\tlabelFontSizeControl: [\"Callout\", \"Label\"],\r\n\t\t\tlabelFontFamilyControl: [\"Callout\", \"Label\"],\r\n\t\t\tboldControl: [\"Callout\", \"Label\"],\r\n\t\t\titalicControl: [\"Callout\", \"Label\"],\r\n\r\n\t\t\ticonControl: [\"Arrows &amp; Icons\"],\r\n\t\t\tsnapControl: [\"Callout\", \"Arrows &amp; Icons\"],\r\n\t\t}\r\n\r\n\t\t$object.each(controls, (control, tools) => {\r\n\t\t\tconst controlElement = (<any>this).getPrivate(control);\r\n\t\t\tif (tools.indexOf(tool) == -1) {\r\n\t\t\t\tcontrolElement.hide();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcontrolElement.show();\r\n\t\t\t}\r\n\t\t\t//controlElement!.getPrivate(\"button\").style.display = tools.indexOf(tool) == -1 ? \"none\" : \"\";\r\n\t\t});\r\n\t}\r\n\r\n\tprotected _setStroke(): void {\r\n\t\t$object.each(this._drawingSeries, (_tool, seriesList) => {\r\n\t\t\t$array.each(seriesList, (series) => {\r\n\t\t\t\tseries.setAll({\r\n\t\t\t\t\tstrokeColor: this.get(\"strokeColor\"),\r\n\t\t\t\t\tstrokeWidth: this.get(\"strokeWidth\"),\r\n\t\t\t\t\tstrokeOpacity: this.get(\"strokeOpacity\"),\r\n\t\t\t\t\tstrokeDasharray: this.get(\"strokeDasharray\"),\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tprotected _setFill(): void {\r\n\t\t$object.each(this._drawingSeries, (_tool, seriesList) => {\r\n\t\t\t$array.each(seriesList, (series) => {\r\n\t\t\t\tseries.setAll({\r\n\t\t\t\t\tfillColor: this.get(\"fillColor\"),\r\n\t\t\t\t\tfillOpacity: this.get(\"fillOpacity\")\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tprotected _setLabel(): void {\r\n\t\tconst labelTools = [\"Callout\", \"Label\"];\r\n\t\t$object.each(this._drawingSeries, (tool, seriesList) => {\r\n\t\t\tif (labelTools.indexOf(<string>tool) != -1) {\r\n\t\t\t\t$array.each(seriesList, (series) => {\r\n\t\t\t\t\t(<LabelSeries>series).setAll({\r\n\t\t\t\t\t\tlabelFill: this.get(\"labelFill\"),\r\n\t\t\t\t\t\tlabelFontSize: this.get(\"labelFontSize\"),\r\n\t\t\t\t\t\tlabelFontFamily: this.get(\"labelFontFamily\"),\r\n\t\t\t\t\t\tlabelFontWeight: this.get(\"labelFontWeight\"),\r\n\t\t\t\t\t\tlabelFontStyle: this.get(\"labelFontStyle\")\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tprotected _setExtension(): void {\r\n\t\t$object.each(this._drawingSeries, (_tool, seriesList) => {\r\n\t\t\t$array.each(seriesList, (series) => {\r\n\t\t\t\tif (series instanceof SimpleLineSeries) {\r\n\t\t\t\t\tseries.setAll({\r\n\t\t\t\t\t\tshowExtension: this.get(\"showExtension\")\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tprotected _setDrawingIcon(): void {\r\n\t\tconst icon = this.get(\"drawingIcon\", this.get(\"drawingIcons\")![0]);\r\n\t\tconst fillControl = this.getPrivate(\"fillControl\")!;\r\n\t\tif (icon.fillDisabled) {\r\n\t\t\tfillControl.hide();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfillControl.show();\r\n\t\t}\r\n\t\t$object.each(this._drawingSeries, (_tool, seriesList) => {\r\n\t\t\t$array.each(seriesList, (series) => {\r\n\t\t\t\tif (series instanceof IconSeries) {\r\n\t\t\t\t\tseries.setAll({\r\n\t\t\t\t\t\ticonSvgPath: icon.svgPath,\r\n\t\t\t\t\t\ticonScale: icon.scale,\r\n\t\t\t\t\t\ticonCenterX: icon.centerX,\r\n\t\t\t\t\t\ticonCenterY: icon.centerY,\r\n\t\t\t\t\t\tfillOpacity: icon.fillDisabled ? 0 : this.get(\"fillOpacity\")\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tprotected _setSnap(): void {\r\n\t\tconst snap = this.get(\"snapToData\", false);\r\n\t\t$object.each(this._drawingSeries, (_tool, seriesList) => {\r\n\t\t\t$array.each(seriesList, (series) => {\r\n\t\t\t\tif (series instanceof IconSeries || series instanceof CalloutSeries) {\r\n\t\t\t\t\tseries.setAll({\r\n\t\t\t\t\t\tsnapToData: snap\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tprotected _getDefaultIcon(): SVGElement {\r\n\t\treturn StockIcons.getIcon(\"Draw\");\r\n\t}\r\n\r\n\tprotected _dispose(): void {\r\n\t\tsuper._dispose();\r\n\t}\r\n\r\n\r\n}\r\n"]}