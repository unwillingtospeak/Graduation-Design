import { __extends } from "tslib";
import { SimpleLineSeries } from "./SimpleLineSeries";
var TrendLineSeries = /** @class */ (function (_super) {
    __extends(TrendLineSeries, _super);
    function TrendLineSeries() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        Object.defineProperty(_this, "_tag", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "trendline"
        });
        return _this;
    }
    Object.defineProperty(TrendLineSeries.prototype, "_updateSegment", {
        enumerable: false,
        configurable: true,
        writable: true,
        value: function (index) {
            var diP1 = this._di[index]["p1"];
            var diP2 = this._di[index]["p2"];
            var series = this.get("series");
            if (series) {
                var xAxis = this.get("xAxis");
                var x1 = this._getXValue(diP1.get("valueX"));
                var x2 = this._getXValue(diP2.get("valueX"));
                var di1 = xAxis.getSeriesItem(series, Math.max(0, xAxis.valueToPosition(x1)));
                var di2 = xAxis.getSeriesItem(series, Math.min(1, xAxis.valueToPosition(x2)));
                var field = this.get("field") + "Y";
                if (di1 && di2) {
                    var y1 = di1.get(field);
                    var y2 = di2.get(field);
                    diP1.set("valueY", y1);
                    diP1.set("valueYWorking", y1);
                    diP2.set("valueY", y2);
                    diP2.set("valueYWorking", y2);
                    diP1.set("valueX", x1);
                    diP2.set("valueX", x2);
                    this._positionBullets(diP1);
                    this._positionBullets(diP2);
                }
            }
        }
    });
    // need to override so that location would not be set
    Object.defineProperty(TrendLineSeries.prototype, "_setXLocation", {
        enumerable: false,
        configurable: true,
        writable: true,
        value: function () {
        }
    });
    Object.defineProperty(TrendLineSeries, "className", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: "TrendLineSeries"
    });
    Object.defineProperty(TrendLineSeries, "classNames", {
        enumerable: true,
        configurable: true,
        writable: true,
        value: SimpleLineSeries.classNames.concat([TrendLineSeries.className])
    });
    return TrendLineSeries;
}(SimpleLineSeries));
export { TrendLineSeries };
//# sourceMappingURL=TrendLineSeries.js.map