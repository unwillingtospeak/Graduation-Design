{"version":3,"file":"resolve-component-props.mjs","sources":["../../../../src/utils/resolve-component-props.ts"],"sourcesContent":["import { ComponentOptions, DefineComponent } from 'vue'\n\nfunction normalizeProps (props: any) {\n  switch (true) {\n    case Array.isArray(props):\n      return props.reduce((acc: Record<string, unknown>, prop: string) => ({ ...acc, [prop]: null }), {})\n    case typeof props === 'object' && props !== null:\n      return props\n    default:\n      return {}\n  }\n}\n\nfunction mergeProps (to: Record<string, any>, from: Record<string, any>, optionsType = 'props') {\n  const { mixins, extends: extendsOptions } = from\n\n  extendsOptions && mergeProps(to, extendsOptions, optionsType)\n  mixins && mixins.forEach((m: any) => mergeProps(to, m, optionsType))\n\n  const props = normalizeProps(from[optionsType])\n\n  for (const key in props) {\n    to[key] = props[key]\n  }\n}\n\nfunction getComponentOptions (component: DefineComponent): ComponentOptions {\n  if (component.options) {\n    return component.options\n  }\n\n  if (component.__vccOpts || component.__b) {\n    return { ...component.__vccOpts, ...component.__b }\n  }\n\n  return component\n}\n\nfunction resolveProps (options: any, optionsType = 'props') {\n  const mixins = options.mixins ?? []\n  const extendsOptions = options.extends ?? []\n  const result: Record<string, any> = {}\n\n  mergeProps(result, extendsOptions, optionsType)\n\n  for (let i = 0; i < mixins.length; i++) {\n    mergeProps(result, mixins[i], optionsType)\n  }\n\n  Object.assign(result, normalizeProps(options[optionsType]))\n\n  return result\n}\n\nexport const getComponentProps = (component: DefineComponent) => {\n  return resolveProps(getComponentOptions(component))\n}\n"],"names":["normalizeProps","props","Array","isArray","reduce","acc","prop","__spreadProps","__spreadValues","mergeProps","to","from","optionsType","mixins","extends","extendsOptions","forEach","m","key","getComponentProps","component","resolveProps","options","_a","_b","result","i","length","Object","assign","getComponentOptions","__vccOpts","__b"],"mappings":"icAEA,SAAAA,eAAyBC,GACf,QAAA,GACD,KAAAC,MAAMC,QAAQF,GACV,OAAAA,EAAMG,QAAO,CAACC,EAA8BC,KAAuBC,SAAAC,eAAA,GAAAH,SAAA,CAAAC,CAAMA,GAAO,gBAAS,IAC7F,IAAiB,iBAAVL,GAAgC,OAAVA,EACzB,OAAAA,EAAA,QAEP,MAAO,IAIb,SAAqBQ,WAAAC,EAAyBC,EAA2BC,EAAc,SAC/E,MAAAC,OAAEA,EAAQC,QAASC,GAAmBJ,EAE1BI,GAAAN,WAAWC,EAAIK,EAAgBH,GACvCC,GAAAA,EAAOG,SAASC,GAAWR,WAAWC,EAAIO,EAAGL,KAEjD,MAAAX,EAAQD,eAAeW,EAAKC,IAElC,IAAA,MAAWM,KAAOjB,EAChBS,EAAGQ,GAAOjB,EAAMiB,GAgCP,MAAAC,kBAAqBC,GAhBlC,SAAuBC,aAAAC,EAAcV,EAAc,SApCnD,IAAAW,EAAAC,EAqCQ,MAAAX,EAAS,OAAAU,EAAAD,EAAQT,QAARU,EAAkB,GAE3BE,EAA8B,GAEzBhB,WAAAgB,EAHY,OAAAD,EAAAF,EAAQR,SAARU,EAAmB,GAGPZ,GAEnC,IAAA,IAASc,EAAI,EAAGA,EAAIb,EAAOc,OAAQD,IACtBjB,WAAAgB,EAAQZ,EAAOa,GAAId,GAKzB,OAFPgB,OAAOC,OAAOJ,EAAQzB,eAAesB,EAAQV,KAEtCa,EAIAJ,CA7BT,SAAAS,oBAA8BV,GAC5B,OAAIA,EAAUE,QACLF,EAAUE,QAGfF,EAAUW,WAAaX,EAAUY,IAC5BxB,eAAAA,eAAA,GAAKY,EAAUW,WAAcX,EAAUY,KAGzCZ,EAoBaU,CAAoBV"}