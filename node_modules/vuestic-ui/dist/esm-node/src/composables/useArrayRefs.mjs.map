{"version":3,"file":"useArrayRefs.mjs","sources":["../../../../src/composables/useArrayRefs.ts"],"sourcesContent":["import { onBeforeUpdate, ComponentPublicInstance } from 'vue'\nimport { shallowRef } from '@vue/reactivity'\n\ntype TemplateRef = HTMLElement | (ComponentPublicInstance & HTMLElement)\n\n/**\n * @usage use setItemRef function as :ref property on v-for construction (or without v-for)\n * @link https://v3.vuejs.org/guide/migration/array-refs.html\n*/\nexport const useArrayRefs = () => {\n  const itemRefs = shallowRef<TemplateRef[]>([])\n\n  const setItemRef = (el: any) => {\n    if (!el) { return }\n\n    itemRefs.value.push(el)\n  }\n\n  const setItemRefByIndex = (index: number) => (el: any) => {\n    if (!el) { return }\n\n    itemRefs.value[index] = el\n  }\n\n  onBeforeUpdate(() => {\n    itemRefs.value = []\n  })\n\n  return {\n    itemRefs,\n    setItemRef,\n    setItemRefByIndex,\n  }\n}\n"],"names":["useArrayRefs","itemRefs","shallowRef","onBeforeUpdate","value","setItemRef","el","push","setItemRefByIndex","index"],"mappings":"0EASO,MAAMA,aAAe,KACpB,MAAAC,EAAWC,EAA0B,IAkBpC,OAJPC,GAAe,KACbF,EAASG,MAAQ,MAGZ,CACLH,SAAAA,EACAI,WAlBkBC,IACbA,GAEIL,EAAAG,MAAMG,KAAKD,IAgBpBE,kBAbyBC,GAAmBH,IACvCA,IAELL,EAASG,MAAMK,GAASH"}