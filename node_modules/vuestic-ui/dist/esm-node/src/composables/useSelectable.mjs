var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,__defNormalProp=(a,l,u)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[l]=u,__spreadValues=(e,a)=>{for(var l in a||(a={}))t.call(a,l)&&__defNormalProp(e,l,a[l]);if(u)for(var l of u(a))r.call(a,l)&&__defNormalProp(e,l,a[l]);return e};import{computed as o}from"vue";import{a as n,b as d}from"./useStateful.mjs";import{u as i}from"./useLoading.mjs";import{u as s,a as m,b as p}from"./useValidation.mjs";import{a as V}from"./useFocus.mjs";const c=(f=__spreadValues(__spreadValues(__spreadValues({},n),i),s),v={arrayValue:{type:null,default:null},label:{type:String,default:""},leftLabel:{type:Boolean,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},indeterminate:{type:Boolean,default:!1},indeterminateValue:{type:null,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},a(f,l(v)));var f,v;const y=[...m,"update:modelValue","focus","blur"],useSelectable=(e,a,{input:l,label:u,container:t})=>{(e=>{const a=[e.falseValue,e.trueValue];if(e.indeterminate&&a.push(e.indeterminateValue),new Set(a).size!==a.length)throw new Error("falseValue, trueValue, indeterminateValue props should have strictly different values, which is not the case.")})(e);const reset=()=>a("update:modelValue",!1),focus=()=>{var e;return null==(e=l.value)?void 0:e.focus()},{computedError:r,computedErrorMessages:n,validate:i,validationAriaAttributes:s}=p(e,a,reset,focus),{valueComputed:m}=d(e,a),{isFocused:c}=V(),f=o((()=>e.indeterminate&&m.value===e.indeterminateValue)),v=o((()=>null!==e.arrayValue)),y=o((()=>{var a;return v.value?null==(a=e.modelValue)?void 0:a.includes(e.arrayValue):m.value===e.trueValue}));return{isChecked:y,isIndeterminate:f,onBlur:e=>{var o;l.value!==e.target||(o=e.relatedTarget)&&[u.value,t.value].includes(o)||(c.value=!1,r.value=!1,i(),a("blur",e))},onFocus:e=>{c.value=!0,a("focus",e)},toggleSelection:()=>{e.readonly||e.disabled||e.loading||(v.value?e.modelValue?Array.isArray(e.modelValue)?e.modelValue.includes(e.arrayValue)?a("update:modelValue",e.modelValue.filter((a=>a!==e.arrayValue))):a("update:modelValue",e.modelValue.concat(e.arrayValue)):a("update:modelValue",e.modelValue===e.arrayValue?[]:[e.modelValue,e.arrayValue]):a("update:modelValue",[e.arrayValue]):e.indeterminate?f.value?m.value=e.trueValue:y.value?m.value=e.falseValue:m.value=e.indeterminateValue:y.value?m.value=e.falseValue:m.value=e.trueValue)},reset:reset,focus:focus,computedError:r,computedErrorMessages:n,validationAriaAttributes:s}};export{c as a,useSelectable as b,y as u};
//# sourceMappingURL=useSelectable.mjs.map
