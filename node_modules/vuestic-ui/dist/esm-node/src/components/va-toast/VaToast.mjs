import{defineComponent as e,shallowRef as t,ref as o,computed as s,onMounted as n,resolveComponent as a,openBlock as l,createBlock as r,Transition as i,withCtx as p,withDirectives as u,createElementVNode as c,normalizeClass as m,normalizeStyle as d,createElementBlock as f,toDisplayString as v,createCommentVNode as y,vShow as C,createVNode as g,withModifiers as T,withKeys as b}from"vue";import"../../../vendor.mjs";import{u as k}from"../../composables/useColors.mjs";import"../../composables/useDropdown.mjs";import{u as _}from"../../composables/useTextColor.mjs";import{u as x}from"../../composables/useTimer.mjs";import{V as $}from"../va-icon/VaIcon.mjs";import{_ as S}from"../../../plugin-vue_export-helper.mjs";const h=e({name:"VaToastRenderer",props:{render:{type:Function,required:!0}},setup:e=>()=>e.render()}),j=e({name:"VaToast",components:{VaIcon:$,VaToastRenderer:h},emits:["on-click","on-close"],props:{title:{type:String,default:""},offsetY:{type:Number,default:16},offsetX:{type:Number,default:16},message:{type:[String,Function],default:""},dangerouslyUseHtmlString:{type:Boolean,default:!1},icon:{type:String,default:"close"},customClass:{type:String,default:""},duration:{type:Number,default:5e3},color:{type:String,default:""},closeable:{type:Boolean,default:!0},onClose:{type:Function},onClick:{type:Function},multiLine:{type:Boolean,default:!1},position:{type:String,default:"top-right",validator:e=>["top-right","top-left","bottom-right","bottom-left"].includes(e)},render:{type:Function}},setup(e,{emit:a}){const l=t(),{getColor:r}=k(),{textColorComputed:i}=_(),p=o(!1),u=s((()=>e.position.includes("right")?"right":"left")),c=s((()=>e.position.includes("top")?"top":"bottom")),m=s((()=>[e.customClass,e.multiLine?"va-toast--multiline":""])),d=s((()=>({[c.value]:`${e.offsetY}px`,[u.value]:`${e.offsetX}px`,backgroundColor:r(e.color),color:i.value}))),f=s((()=>"function"==typeof e.message?e.message():e.message)),destroyElement=()=>{var e,t;null==(e=l.value)||e.removeEventListener("transitionend",destroyElement),null==(t=l.value)||t.remove()},onToastClose=()=>{var t;p.value=!1,null==(t=l.value)||t.addEventListener("transitionend",destroyElement),"function"==typeof e.onClose?e.onClose():a("on-close")},v=x(),y=v.clear,startTimer=()=>{e.duration>0&&v.start((()=>p.value&&onToastClose()),e.duration)};return n((()=>{p.value=!0,startTimer()})),{visible:p,toastClasses:m,toastStyles:d,computedMessage:f,onToastClick:()=>{"function"==typeof e.onClick?e.onClick():a("on-click")},onToastClose:onToastClose,startTimer:startTimer,clearTimer:y}}}),M=["role"],V={class:"va-toast__group"},L=["textContent"],F={class:"va-toast__content"},H=["innerHTML"],w=["textContent"],B={key:1,class:"va-toast__content"};var E=S(j,[["render",function _sfc_render(e,t,o,s,n,k){const _=a("VaToastRenderer"),x=a("va-icon");return l(),r(i,{name:"va-toast-fade"},{default:p((()=>[u(c("div",{ref:"rootElement",role:e.$props.closeable?"alertdialog":"alert",class:m(["va-toast",e.toastClasses]),style:d(e.toastStyles),onMouseenter:t[0]||(t[0]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.startTimer&&e.startTimer(...t)),onClick:t[2]||(t[2]=(...t)=>e.onToastClick&&e.onToastClick(...t))},[c("div",V,[e.$props.title?(l(),f("h2",{key:0,class:"va-toast__title",textContent:v(e.$props.title)},null,8,L)):y("",!0),u(c("div",F,[e.$props.dangerouslyUseHtmlString?(l(),f("div",{key:0,innerHTML:e.computedMessage},null,8,H)):(l(),f("p",{key:1,textContent:v(e.computedMessage)},null,8,w))],512),[[C,e.$props.message]]),e.$props.render?(l(),f("div",B,[g(_,{render:e.$props.render},null,8,["render"])])):y("",!0),e.$props.closeable?(l(),r(x,{key:2,class:"va-toast__close-icon",role:"button","aria-label":"close toast","aria-hidden":"false",tabindex:"0",size:"small",name:e.$props.icon,onClick:T(e.onToastClose,["stop"]),onKeydown:b(T(e.onToastClose,["stop"]),["enter"])},null,8,["name","onClick","onKeydown"])):y("",!0)])],46,M),[[C,e.visible]])])),_:1})}]]);export{E as _};

import './VaToast.css';
//# sourceMappingURL=VaToast.mjs.map
