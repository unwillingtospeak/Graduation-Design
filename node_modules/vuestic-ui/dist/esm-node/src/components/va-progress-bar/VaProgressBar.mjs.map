{"version":3,"file":"VaProgressBar.mjs","sources":["../../../../../src/components/va-progress-bar/VaProgressBar.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-progress-bar\"\n    :class=\"rootClass\"\n    :style=\"rooStyle\"\n    v-bind=\"ariaAttributesComputed\"\n  >\n    <div\n      v-if=\"!$props.contentInside\"\n      class=\"va-progress-bar__info\"\n    >\n      <slot v-bind=\"{ value: $props.modelValue }\">\n        <template v-if=\"$props.showPercent\">\n          {{ $props.modelValue }}%\n        </template>\n      </slot>\n    </div>\n\n    <div class=\"va-progress-bar__wrapper\" :style=\"wrapperStyle\">\n      <div class=\"va-progress-bar__buffer\" :style=\"bufferStyle\">\n        <slot v-if=\"$props.contentInside\" v-bind=\"{ value: $props.modelValue }\">\n          <template v-if=\"$props.showPercent\">\n            {{ $props.modelValue }}%\n          </template>\n        </slot>\n      </div>\n\n      <template v-if=\"indeterminate\">\n        <div\n          class=\"va-progress-bar__progress--indeterminate-start\"\n          :style=\"intermediateStyle\"\n        />\n        <div\n          class=\"va-progress-bar__progress--indeterminate-end\"\n          :style=\"intermediateStyle\"\n        />\n      </template>\n      <div v-else class=\"va-progress-bar__progress\" :style=\"progressStyle\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType, StyleValue } from 'vue'\nimport clamp from 'lodash/clamp.js'\n\nimport { useColors, useTextColor } from '../../composables'\n\nexport default defineComponent({\n  name: 'VaProgressBar',\n\n  props: {\n    modelValue: { type: Number, default: 0 },\n    indeterminate: { type: Boolean, default: false },\n    color: { type: String, default: 'primary' },\n    size: {\n      type: [Number, String] as PropType<number | 'medium' | 'large' | 'small'>,\n      default: 'medium',\n    },\n    buffer: { type: Number, default: 100 },\n    rounded: { type: Boolean, default: true },\n    reverse: { type: Boolean, default: false },\n    contentInside: { type: Boolean, default: false },\n    showPercent: { type: Boolean, default: false },\n  },\n\n  setup (props) {\n    const { getColor, getHoverColor } = useColors()\n    const { textColorComputed } = useTextColor()\n    const colorComputed = computed(() => getColor(props.color))\n\n    const isTextSize = computed(() => typeof props.size === 'string' && ['small', 'medium', 'large'].includes(props.size))\n\n    const getCSSHeight = () => {\n      if (typeof props.size === 'number') { return `${props.size}px` }\n      if (isTextSize.value) { return }\n\n      return props.size\n    }\n\n    return {\n      rootClass: computed(() => ({\n        'va-progress-bar--square': !props.rounded,\n        [`va-progress-bar--${props.size}`]: isTextSize.value,\n      })),\n\n      rooStyle: computed(() => ({\n        '--va-progress-bar-color': colorComputed.value,\n        '--va-progress-bar-background-color': getHoverColor(colorComputed.value),\n      }) as StyleValue),\n\n      wrapperStyle: computed(() => ({\n        height: getCSSHeight(),\n      })),\n\n      bufferStyle: computed(() => ({\n        width: `${props.indeterminate ? 100 : clamp(props.buffer, 0, 100)}%`,\n        color: textColorComputed.value,\n        [props.reverse ? 'right' : 'left']: 0,\n      })),\n\n      progressStyle: computed(() => ({\n        width: `${clamp(props.modelValue, 0, 100)}%`,\n        marginLeft: props.reverse ? 'auto' : undefined,\n      })),\n\n      intermediateStyle: computed(() => ({\n        animationDirection: props.reverse ? 'reverse' : 'normal',\n      })),\n\n      ariaAttributesComputed: computed(() => ({\n        role: 'progressbar',\n        ariaLabel: 'progress state',\n        ariaValuenow: !props.indeterminate ? props.modelValue : undefined,\n      })),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import 'variables';\n\n.va-progress-bar {\n  $p: &;\n\n  width: var(--va-progress-bar-width);\n  position: var(--va-progress-bar-position);\n  overflow: var(--va-progress-bar-overflow);\n  font-family: var(--va-font-family);\n  line-height: var(--va-progress-bar-line-height);\n\n  &__info {\n    font-weight: var(--va-progress-bar-info-font-weight);\n    text-align: var(--va-progress-bar-info-text-align);\n    text-transform: var(--va-progress-bar-info-text-transform);\n\n    &:not(:empty) {\n      margin-bottom: var(--va-progress-bar-info-not-empty-margin-bottom);\n    }\n  }\n\n  &__wrapper {\n    position: var(--va-progress-bar--wrapper-position);\n    overflow: var(--va-progress-bar--wrapper-overflow);\n    border-radius: var(--va-progress-bar--wrapper-border-radius);\n\n    #{$p}--small & {\n      height: var(--va-progress-bar-sm-height);\n    }\n\n    #{$p}--medium & {\n      height: var(--va-progress-bar-height);\n    }\n\n    #{$p}--large & {\n      height: var(--va-progress-bar-lg-height);\n    }\n  }\n\n  &--square &__wrapper {\n    border-radius: var(--va-progress-bar-square-border-radius);\n  }\n\n  &__buffer {\n    position: var(--va-progress-bar-buffer-position);\n    top: var(--va-progress-bar-buffer-top);\n    height: inherit;\n    border-radius: inherit;\n    transition: var(--va-progress-bar-buffer-transition);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    letter-spacing: var(--va-progress-bar-letter-spacing);\n    font-size: var(--va-progress-bar-font-size);\n    font-weight: var(--va-progress-bar-font-weight);\n    background-color: var(--va-progress-bar-background-color);\n  }\n\n  &__progress {\n    height: inherit;\n    border-radius: inherit;\n    transition: var(--va-progress-bar-transition);\n    background-color: var(--va-progress-bar-color);\n\n    &--indeterminate-start {\n      background-color: var(--va-progress-bar-color);\n      animation: va-progress-bar-indeterminate-start 2s ease-in infinite;\n      position: absolute;\n      height: inherit;\n    }\n\n    &--indeterminate-end {\n      background-color: var(--va-progress-bar-color);\n      animation: va-progress-bar-indeterminate-end 2s ease-out 1s infinite;\n      position: absolute;\n      height: inherit;\n    }\n  }\n}\n\n@keyframes va-progress-bar-indeterminate-start {\n  0% {\n    width: 10%;\n    left: -10%;\n  }\n\n  50% {\n    width: 100%;\n    left: 100%;\n  }\n\n  100% {\n    width: 100%;\n    left: 100%;\n  }\n}\n\n@keyframes va-progress-bar-indeterminate-end {\n  0% {\n    width: 100%;\n    left: -100%;\n  }\n\n  50% {\n    width: 10%;\n    left: 100%;\n  }\n\n  100% {\n    width: 10%;\n    left: 100%;\n  }\n}\n</style>\n"],"names":["_sfc_main","defineComponent","name","props","modelValue","type","Number","default","indeterminate","Boolean","color","String","size","buffer","rounded","reverse","contentInside","showPercent","setup","getColor","getHoverColor","useColors","textColorComputed","useTextColor","colorComputed","computed","isTextSize","includes","rootClass","value","rooStyle","wrapperStyle","height","bufferStyle","width","clamp","progressStyle","marginLeft","intermediateStyle","animationDirection","ariaAttributesComputed","role","ariaLabel","ariaValuenow","class","_openBlock","_createElementBlock","_mergeProps","_ctx","style","$props","_hoisted_1","_renderSlot","$slots","_normalizeProps","_guardReactiveProps","_Fragment","key","_createTextVNode","_toDisplayString","_createCommentVNode","_createElementVNode","_normalizeStyle"],"mappings":"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"}