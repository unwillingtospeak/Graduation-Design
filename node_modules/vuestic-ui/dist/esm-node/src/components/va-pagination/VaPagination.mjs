var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,__defNormalProp=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o;import{defineComponent as u,shallowRef as r,ref as i,computed as s,watch as p,nextTick as c,resolveComponent as d,openBlock as g,createBlock as b,withKeys as v,withModifiers as m,withCtx as f,createCommentVNode as y,renderSlot as h,createElementBlock as k,Fragment as V,renderList as I,normalizeClass as S,normalizeStyle as P,createTextVNode as $,toDisplayString as C,withDirectives as _,mergeProps as w,vModelDynamic as j}from"vue";import"../../../vendor.mjs";import{u as B}from"../../composables/useColors.mjs";import"../../composables/useDropdown.mjs";import{u as L,a as z,b as N}from"../../composables/useStateful.mjs";import{u as O}from"../../composables/useTextColor.mjs";import{s as U}from"./setPaginationRange.mjs";import{V as R}from"../va-button-group/index.mjs";import{V as x}from"../va-button/index.mjs";import{_ as D}from"../../../plugin-vue_export-helper.mjs";const M=u({name:"VaPagination",components:{VaButtonGroup:R,VaButton:x},emits:L,props:(A=((e,a)=>{for(var t in a||(a={}))l.call(a,t)&&__defNormalProp(e,t,a[t]);if(o)for(var t of o(a))n.call(a,t)&&__defNormalProp(e,t,a[t]);return e})({},z),K={modelValue:{type:Number,default:1},visiblePages:{type:Number,default:0},pages:{type:Number,default:0},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary"},size:{type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)},boundaryLinks:{type:Boolean,default:!0},boundaryNumbers:{type:Boolean,default:!1},directionLinks:{type:Boolean,default:!0},input:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},total:{type:Number,default:null},pageSize:{type:Number,default:null},boundaryIconLeft:{type:String,default:"first_page"},boundaryIconRight:{type:String,default:"last_page"},directionIconLeft:{type:String,default:"chevron_left"},directionIconRight:{type:String,default:"chevron_right"}},a(A,t(K))),setup(e,{emit:a}){const t=r(),o=i(""),l=s((()=>!(!e.total&&0!==e.pageSize||!e.pageSize))),{valueComputed:n}=N(e,a),{textColorComputed:u}=O(),d=s({get:()=>l.value?Math.ceil(n.value/e.pageSize)||1:n.value,set:e=>{n.value=e}}),g=s((()=>{const{visiblePages:a,total:t,pageSize:o,boundaryNumbers:n,pages:u}=e,r=d.value||1,i=l.value?Math.ceil(t/o):u;return U(r,a,i,n)})),b=s((()=>l.value?Math.ceil(e.total/e.pageSize)||1:e.pages)),v=s((()=>!!e.visiblePages&&b.value>e.visiblePages)),m=s((()=>{const{boundaryLinks:a,boundaryNumbers:t,input:o}=e;return o||v.value&&a&&!t})),f=s((()=>e.input||v.value&&e.directionLinks)),y=s((()=>b.value>1||!e.hideOnSinglePage&&b.value<=1)),onUserInput=a=>{"..."===a||a<1||a>b.value||(d.value=l.value?(a-1)*e.pageSize+1:a)},resetInput=()=>{var e;o.value="",null==(e=t.value)||e.blur()},{getColor:h}=B(),k=s((()=>({cursor:"default",color:h(e.color),opacity:e.disabled?.4:1})));p([l,()=>e.pages],(()=>{}));const V=s((()=>({disabled:e.disabled,placeholder:`${d.value}/${b.value}`})));return{currentValue:d,lastPage:b,changeValue:()=>{if(+o.value===d.value&&resetInput(),!o.value.length)return;let e=Number.parseInt(o.value);switch(!0){case e<1:e=1;break;case e>b.value:e=b.value;break;case isNaN(e):e=d.value}onUserInput(e),resetInput()},inputValue:o,showPagination:y,showBoundaryLinks:m,onUserInput:onUserInput,activeButtonStyle:a=>a===d.value?{backgroundColor:h(e.color),color:u.value}:{color:h(e.color)},showDirectionLinks:f,paginationRange:g,focusInput:()=>{o.value=`${d.value}`,c((()=>{var e;return null==(e=t.value)?void 0:e.setSelectionRange(0,t.value.value.length)}))},inputStyleComputed:k,inputAttributesComputed:V}}});var A,K;var E=D(M,[["render",function _sfc_render(e,a,t,o,l,n){const u=d("va-button"),r=d("va-button-group");return e.showPagination?(g(),b(r,{key:0,class:"va-pagination",flat:e.$props.flat,size:e.$props.size,color:e.$props.color,outline:"",onKeydown:[a[8]||(a[8]=v(m((a=>e.onUserInput(e.currentValue-1)),["stop"]),["left"])),a[9]||(a[9]=v(m((a=>e.onUserInput(e.currentValue+1)),["stop"]),["right"]))]},{default:f((()=>[e.showBoundaryLinks?(g(),b(u,{key:0,"aria-label":"go first page",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.boundaryIconLeft,onClick:a[0]||(a[0]=a=>e.onUserInput(1))},null,8,["disabled","icon"])):y("",!0),e.showDirectionLinks?(g(),b(u,{key:1,"aria-label":"go prev page",outline:"",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.directionIconLeft,onClick:a[1]||(a[1]=a=>e.onUserInput(e.currentValue-1))},null,8,["disabled","icon"])):y("",!0),e.$props.input?_((g(),k("input",w({key:3,ref:"htmlInput",class:["va-pagination__input va-button",{"va-pagination__input--flat":e.$props.flat}],"aria-label":"enter the page number to go","onUpdate:modelValue":a[2]||(a[2]=a=>e.inputValue=a),style:e.inputStyleComputed},e.inputAttributesComputed,{onKeydown:a[3]||(a[3]=v(((...a)=>e.changeValue&&e.changeValue(...a)),["enter"])),onFocus:a[4]||(a[4]=(...a)=>e.focusInput&&e.focusInput(...a)),onBlur:a[5]||(a[5]=(...a)=>e.changeValue&&e.changeValue(...a))}),null,16)),[[j,e.inputValue]]):h(e.$slots,"default",{key:2},(()=>[(g(!0),k(V,null,I(e.paginationRange,((a,t)=>(g(),b(u,{key:t,class:S(["va-pagination__numeric-button",{"va-button--ellipsis":"..."===a}]),outline:"","aria-label":`go to ${a} page`,"aria-current":a===e.currentValue,style:P(e.activeButtonStyle(a)),disabled:e.$props.disabled||"..."===a,onClick:t=>e.onUserInput(a)},{default:f((()=>[$(C(a),1)])),_:2},1032,["aria-label","aria-current","style","disabled","class","onClick"])))),128))])),e.showDirectionLinks?(g(),b(u,{key:4,"aria-label":"go next page",outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.directionIconRight,onClick:a[6]||(a[6]=a=>e.onUserInput(e.currentValue+1))},null,8,["disabled","icon"])):y("",!0),e.showBoundaryLinks?(g(),b(u,{key:5,"aria-label":"go last page",outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.boundaryIconRight,onClick:a[7]||(a[7]=a=>e.onUserInput(e.lastPage))},null,8,["disabled","icon"])):y("",!0)])),_:3},8,["flat","size","color"])):y("",!0)}]]);export{E as _};

import './VaPagination.css';
//# sourceMappingURL=VaPagination.mjs.map
