{"version":3,"file":"VaTimeline.mjs","sources":["../../../../../src/components/va-timeline/VaTimeline.vue"],"sourcesContent":["<script>\nimport { h, Fragment } from 'vue'\n\nconst getPropsData = (slot) => slot?.props\n\nconst getIsActive = (slot) => !!slot?.props?.active || false\n\n/**\n* Slot can be Vue Fragment generated by v-for.\n* If slot `type` property is Vue Fragment Symbol return true\n*/\nconst isVueFragment = (slot) => slot.type === Fragment\n\nconst isEmptyArray = (arr) => arr && arr.length === 0\n\n/* Returns correct slots without v-for vue fragment */\nfunction getSlots (slots) {\n  const defaultSlots = slots.default?.()\n\n  if (!defaultSlots || isEmptyArray(defaultSlots)) { return [] }\n  if (isVueFragment(defaultSlots[0])) { return defaultSlots[0].children }\n\n  return defaultSlots\n}\n\nconst processSlots = (context) => {\n  const slots = getSlots(context.slots)\n\n  slots.forEach((slot, index) => {\n    if (!getPropsData(slot)) {\n      slot.props = {}\n    }\n\n    const propsData = getPropsData(slot)\n\n    // Pass down vertical prop.\n    propsData.vertical = context.props.vertical\n\n    if (context.props.centered) {\n      // Every second slot will be inverted\n      propsData.inverted = !!(index % 2)\n    }\n\n    if (index === 0) {\n      propsData.isFirst = true\n    }\n    if (index === slots.length - 1) {\n      propsData.isLast = true\n    }\n\n    const currentSlotActive = propsData.active\n\n    // For inactive slot props are default\n    if (!currentSlotActive) {\n      return\n    }\n\n    if (index === 0) {\n      propsData.activePrevious = currentSlotActive\n    }\n\n    if (index === slots.length - 1) {\n      propsData.activeNext = currentSlotActive\n    }\n\n    const previousSlotActive = getIsActive(slots[index - 1])\n    if (previousSlotActive) {\n      propsData.activePrevious = true\n    }\n\n    const nextSlotActive = getIsActive(slots[index + 1])\n    if (nextSlotActive) {\n      propsData.activeNext = true\n    }\n  })\n\n  return slots\n}\n\nconst COMPONENT_NAME = 'va-timeline'\n\nexport default {\n  name: COMPONENT_NAME,\n  props: {\n    vertical: { type: Boolean },\n    centered: { type: Boolean },\n    alignTop: { type: Boolean },\n  },\n  setup (props, { slots }) {\n    return () => h(\n      'div',\n      {\n        class: {\n          [COMPONENT_NAME]: true,\n          [`${COMPONENT_NAME}--vertical`]: props.vertical,\n          [`${COMPONENT_NAME}--align-top`]: props.alignTop,\n        },\n      },\n      processSlots({ props, slots }),\n    )\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n\n.va-timeline {\n  display: var(--va-timeline-display);\n  flex-wrap: var(--va-timeline-flex-wrap);\n  font-family: var(--va-font-family);\n\n  &--vertical {\n    flex-direction: var(--va-timeline-vertical-flex-direction);\n    padding-left: var(--va-timeline-vertical-padding-left);\n    padding-right: var(--va-timeline-vertical-padding-right);\n  }\n\n  &--align-top {\n    .va-timeline-item__before,\n    .va-timeline-item__after {\n      flex: 0;\n    }\n  }\n\n  .va-timeline-item {\n    flex: 1;\n  }\n\n  .va-timeline-item--vertical {\n    .va-timeline-separator--vertical .va-timeline-separator__line {\n      &:first-child {\n        flex: 0 0 1rem;\n      }\n    }\n\n    &.va-timeline-item--is-first {\n      .va-timeline-separator--vertical .va-timeline-separator__line {\n        &:first-child {\n          flex-basis: 2rem;\n        }\n      }\n\n      .va-timeline-item__after,\n      .va-timeline-item__before {\n        padding-top: 2rem;\n      }\n    }\n\n    &.va-timeline-item--vertical.va-timeline-item--is-last {\n      .va-timeline-item__after,\n      .va-timeline-item__before {\n        padding-bottom: 2rem;\n      }\n    }\n  }\n}\n</style>\n"],"names":["getPropsData","slot","props","getIsActive","_a","active","getSlots","slots","defaultSlots","default","call","arr","length","type","Fragment","children","_sfc_main","name","vertical","Boolean","centered","alignTop","setup","h","class","context","forEach","index","propsData","inverted","isFirst","isLast","currentSlotActive","activePrevious","activeNext","processSlots"],"mappings":"sCAGA,MAAMA,aAAgBC,GAAe,MAANA,OAAM,EAAAA,EAAAC,MAE/BC,YAAeF,UAAS,SAAE,OAAAG,EAAA,MAAAH,OAAA,EAAAA,EAAMC,YAAN,EAAAE,EAAaC,UAAU,GAWvD,SAAAC,SAAmBC,SACX,MAAAC,EAAe,WAAMC,cAAN,EAAAL,EAAAM,KAAAH,GAErB,OAAKC,IANeG,EAMcH,IANgB,IAAfG,EAAIC,OAMmB,GACxCJ,EAAa,GATIK,OAASC,EASCN,EAAa,GAAGO,SAEtDP,EATY,IAACG,EAYtB,MAwDKK,EAAU,CACbC,KAHqB,cAIrBf,MAAO,CACLgB,SAAU,CAAEL,KAAMM,SAClBC,SAAU,CAAEP,KAAMM,SAClBE,SAAU,CAAER,KAAMM,UAEpBG,MAAA,CAAOpB,GAAOK,MAAEA,KACP,IAAMgB,EACX,MACA,CACEC,MAAO,CAAA,eACa,EACjB,wBAAgCtB,EAAMgB,SACtC,yBAAiChB,EAAMmB,WAtE7B,CAACI,IACd,MAAAlB,EAAQD,SAASmB,EAAQlB,OAkDxB,OAhDDA,EAAAmB,SAAQ,CAACzB,EAAM0B,KACd3B,aAAaC,KAChBA,EAAKC,MAAQ,IAGT,MAAA0B,EAAY5B,aAAaC,GAGrB2B,EAAAV,SAAWO,EAAQvB,MAAMgB,SAE/BO,EAAQvB,MAAMkB,WAENQ,EAAAC,YAAsBF,EAAA,IAGpB,IAAVA,IACFC,EAAUE,SAAU,GAElBH,IAAUpB,EAAMK,OAAS,IAC3BgB,EAAUG,QAAS,GAGrB,MAAMC,EAAoBJ,EAAUvB,OAG/B2B,IAIS,IAAVL,IACFC,EAAUK,eAAiBD,GAGzBL,IAAUpB,EAAMK,OAAS,IAC3BgB,EAAUM,WAAaF,GAGE7B,YAAYI,EAAMoB,EAAQ,MAEnDC,EAAUK,gBAAiB,GAGN9B,YAAYI,EAAMoB,EAAQ,MAE/CC,EAAUM,YAAa,OAIpB3B,GAsBH4B,CAAa,CAAEjC,MAAAA,EAAOK,MAAAA"}