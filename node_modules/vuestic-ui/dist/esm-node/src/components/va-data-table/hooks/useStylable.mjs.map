{"version":3,"file":"useStylable.mjs","sources":["../../../../../../src/components/va-data-table/hooks/useStylable.ts"],"sourcesContent":["import { computed } from 'vue'\n\nimport { safeCSSLength } from '../../../utils/css-utils'\nimport { useColors } from '../../../composables'\n\nimport type {\n  DataTableColumnInternal,\n  DataTableColumnClass,\n  DataTableColumnStyle,\n  DataTableCell,\n} from '../types'\n\nconst prefix = '--va-data-table'\n\nconst isFunction = (val: unknown): val is Function => typeof val === 'function'\n\ninterface useStylableProps {\n  selectable: boolean\n  selectedColor: string\n  allowFooterSorting: boolean\n  stickyHeader: boolean\n  stickyFooter: boolean\n  height: string | number | undefined\n}\n\nconst getClass = (classes: DataTableColumnClass) => isFunction(classes) ? classes() : classes\nconst getStyle = (styles: DataTableColumnStyle) => isFunction(styles) ? styles() : styles\n\nexport default function useStyleable (props: useStylableProps) {\n  const { getColor, getFocusColor, getHoverColor, shiftHSLAColor } = useColors()\n\n  const color = computed(() => getColor(props.selectedColor))\n\n  const rowCSSVariables = computed(() => ({\n    [`${prefix}-hover-color`]: getHoverColor(color.value),\n    [`${prefix}-selected-color`]: props.selectable ? getFocusColor(color.value) : undefined,\n  }))\n\n  const stickyCSSVariables = computed(() => ({\n    [`${prefix}-scroll-table-color`]: (props.height || props.stickyHeader || props.stickyFooter) && shiftHSLAColor(color.value, { l: 40 }),\n    [`${prefix}-scroll-table-height`]: props.height ? safeCSSLength(props.height) : undefined,\n  }))\n\n  const getHeaderCSSVariables = (column: DataTableColumnInternal) => ({\n    [`${prefix}-width`]: column.width && safeCSSLength(column.width),\n    [`${prefix}-align`]: column.thAlign,\n    [`${prefix}-vertical-align`]: column.thVerticalAlign,\n    [`${prefix}-cursor`]: column.sortable ? 'pointer' : 'default',\n  })\n\n  const getCellCSSVariables = (cell: DataTableCell) => ({\n    [`${prefix}-align`]: cell.column.tdAlign,\n    [`${prefix}-vertical-align`]: cell.column.tdVerticalAlign,\n  })\n\n  const getFooterCSSVariables = (column: DataTableColumnInternal) => ({\n    [`${prefix}-align`]: column.thAlign,\n    [`${prefix}-vertical-align`]: column.thVerticalAlign,\n    [`${prefix}-cursor`]: props.allowFooterSorting && column.sortable ? 'pointer' : 'default',\n  })\n\n  return {\n    rowCSSVariables,\n    stickyCSSVariables,\n    getHeaderCSSVariables,\n    getCellCSSVariables,\n    getFooterCSSVariables,\n    getClass,\n    getStyle,\n  }\n}\n"],"names":["prefix","isFunction","val","getClass","classes","getStyle","styles","useStyleable","props","getColor","getFocusColor","getHoverColor","shiftHSLAColor","useColors","color","computed","selectedColor","rowCSSVariables","value","selectable","stickyCSSVariables","height","stickyHeader","stickyFooter","l","safeCSSLength","getHeaderCSSVariables","column","width","thAlign","thVerticalAlign","sortable","getCellCSSVariables","cell","tdAlign","tdVerticalAlign","getFooterCSSVariables","allowFooterSorting"],"mappings":"mNAYA,MAAMA,EAAS,kBAETC,WAAcC,GAAiD,mBAARA,EAWvDC,SAAYC,GAAkCH,WAAWG,GAAWA,IAAYA,EAChFC,SAAYC,GAAiCL,WAAWK,GAAUA,IAAWA,EAEnF,SAAAC,aAAsCC,GACpC,MAAMC,SAAEA,EAAAC,cAAUA,EAAeC,cAAAA,EAAAC,eAAeA,GAAmBC,IAE7DC,EAAQC,GAAS,IAAMN,EAASD,EAAMQ,iBA8BrC,MAAA,CACLC,gBA7BsBF,GAAS,KAAO,CAAA,CACrC,GAAGf,iBAAuBW,EAAcG,EAAMI,OAAK,CACnD,GAAGlB,oBAA0BQ,EAAMW,WAAaT,EAAcI,EAAMI,YAAS,MA4B9EE,mBAzByBL,GAAS,KAAO,CAAA,CACxC,GAAGf,yBAAqCQ,EAAAa,QAAUb,EAAMc,cAAgBd,EAAMe,eAAiBX,EAAeE,EAAMI,MAAO,CAAEM,EAAG,KAAI,CACpI,GAAGxB,yBAA+BQ,EAAMa,OAASI,EAAcjB,EAAMa,aAAU,MAwBhFK,sBArB6BC,IAAqC,CAAA,CACjE,GAAG3B,WAAiB2B,EAAOC,OAASH,EAAcE,EAAOC,OACzD,CAAA,GAAG5B,WAAiB2B,EAAOE,QAC3B,CAAA,GAAG7B,oBAA0B2B,EAAOG,gBAAA,CACpC,GAAG9B,YAAkB2B,EAAOI,SAAW,UAAY,YAkBpDC,oBAf2BC,IAAyB,CACnD,CAAA,GAAGjC,WAAiBiC,EAAKN,OAAOO,QAChC,CAAA,GAAGlC,oBAA0BiC,EAAKN,OAAOQ,kBAc1CC,sBAX6BT,IAAqC,CACjE,CAAA,GAAG3B,WAAiB2B,EAAOE,QAC3B,CAAA,GAAG7B,oBAA0B2B,EAAOG,gBAAA,CACpC,GAAG9B,YAAkBQ,EAAM6B,oBAAsBV,EAAOI,SAAW,UAAY,YAShF5B,SAAAA,SACAE,SAAAA"}