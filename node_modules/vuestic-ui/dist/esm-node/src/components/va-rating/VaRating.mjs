var e=Object.defineProperty,o=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,__defNormalProp=(o,a,t)=>a in o?e(o,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[a]=t,__spreadValues=(e,o)=>{for(var a in o||(o={}))r.call(o,a)&&__defNormalProp(e,a,o[a]);if(t)for(var a of t(o))s.call(o,a)&&__defNormalProp(e,a,o[a]);return e},__spreadProps=(e,t)=>o(e,a(t));import{defineComponent as n,computed as l,resolveComponent as m,openBlock as p,createElementBlock as i,normalizeClass as u,createElementVNode as d,withKeys as b,Fragment as c,renderList as v,createBlock as f,mergeProps as g,createSlots as y,withCtx as V,createVNode as I,normalizeStyle as j,toDisplayString as x,createCommentVNode as $}from"vue";import{e as R,f as P}from"../../utils/child-props.mjs";import"../../../vendor.mjs";import"colortranslator";import{u as _,a as h}from"../../composables/useForm.mjs";import"../../composables/useDropdown.mjs";import{u as w,a as C}from"./hooks/useRating.mjs";import{u as O,a as k}from"./hooks/useVaRatingColors.mjs";import{R as B}from"./types.mjs";import{_ as M}from"./components/VaRatingItem/VaRatingItem.mjs";import{V as N}from"./components/VaRatingItemNumberButton.mjs";import{_ as E}from"../../../plugin-vue_export-helper.mjs";const U=R(M),A=R(N,["modelValue","itemNumber"]),L=n({name:"VaRating",props:__spreadProps(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({},w),O),_),U),A),{numbers:{type:Boolean,default:!1},halves:{type:Boolean,default:!1},max:{type:Number,default:5},texts:{type:Array,default:()=>[]}}),emits:["update:modelValue"],components:{VaRatingItem:M,VaRatingItemNumberButton:N},setup(e){const{computedClasses:o}=h("va-rating",e),a=C(e),t=l((()=>!e.disabled&&!e.readonly));return __spreadProps(__spreadValues(__spreadValues({},k(e)),a),{rootClass:o,VaRatingItemProps:P(e,U),VaRatingItemNumberButtonProps:P(e,A),isInteractionsEnabled:t,tabIndexComputed:l((()=>t.value?0:void 0)),onArrowKeyPress:o=>{const t=e.halves?B.HALF:B.FULL;a.onItemValueUpdate(a.visibleValue.value,t*o)}})}}),H=["aria-label"];var K=E(L,[["render",function _sfc_render(e,o,a,t,r,s){const n=m("VaRatingItemNumberButton"),l=m("va-rating-item");return p(),i("div",{class:u(["va-rating",e.rootClass]),"aria-label":`current rating ${e.$props.modelValue} of ${e.$props.max}`},[d("div",{class:"va-rating__item-wrapper",onKeyup:[o[0]||(o[0]=b((o=>e.onArrowKeyPress(-1)),["left"])),o[1]||(o[1]=b((o=>e.onArrowKeyPress(1)),["right"]))],onMouseenter:o[2]||(o[2]=(...o)=>e.onMouseEnter&&e.onMouseEnter(...o)),onMouseleave:o[3]||(o[3]=(...o)=>e.onMouseLeave&&e.onMouseLeave(...o))},[(p(!0),i(c,null,v(e.$props.max,(o=>(p(),f(l,g({key:o},e.VaRatingItemProps,{"aria-label":`vote rating ${o} of ${e.$props.max}`,"model-value":e.getItemValue(o-1),tabindex:e.tabIndexComputed,disabled:e.$props.disabled,readonly:e.$props.readonly,onHover:a=>e.isInteractionsEnabled&&e.onItemHoveredValueUpdate(o-1,a),"onUpdate:modelValue":a=>e.isInteractionsEnabled&&e.onItemValueUpdate(o-1,a)}),y({_:2},[e.$props.numbers?{name:"default",fn:V((({props:a})=>[I(n,g(e.VaRatingItemNumberButtonProps,{"model-value":a.value,"item-number":o,onClick:a.onClick}),null,16,["model-value","item-number","onClick"])]))}:void 0]),1040,["aria-label","model-value","tabindex","disabled","readonly","onHover","onUpdate:modelValue"])))),128))],32),e.$props.texts&&e.$props.texts.length===e.$props.max?(p(),i("span",{key:0,class:"va-rating__text-wrapper",style:j({color:e.computedColor})},x(e.$props.texts[Math.round(e.visibleValue)-1]),5)):$("",!0)],10,H)}]]);export{K as _};

import './VaRating.css';
//# sourceMappingURL=VaRating.mjs.map
