import{defineComponent as e,shallowRef as o,ref as l,computed as t,watch as a,resolveComponent as n,openBlock as u,createElementBlock as r,withKeys as s,renderSlot as i,createVNode as m}from"vue";import"../../../../../vendor.mjs";import{u as p}from"../../../../composables/useColors.mjs";import"../../../../composables/useDropdown.mjs";import{u as c}from"../../../../composables/useSyncProp.mjs";import{R as d}from"../../types.mjs";import{V as v}from"../../../va-icon/index.mjs";import{_ as f}from"../../../../../plugin-vue_export-helper.mjs";const b=e({name:"VaRatingItem",components:{VaIcon:v},props:{modelValue:{type:Number,default:0},icon:{type:String,default:"star"},halfIcon:{type:String,default:"star_half"},emptyIcon:{type:String,default:"star_outline"},halves:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},tabindex:{type:Number,default:0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},size:{type:[String,Number],default:"medium"},unselectedColor:{type:String},color:{type:String,default:"primary"}},emits:["update:modelValue","click","hover"],setup(e,{emit:n}){const u=o(),[r]=c("modelValue",e,n,d.EMPTY),s=l(null),i=t((()=>!e.hover||e.disabled||e.readonly?r.value:s.value||r.value)),{getColor:m}=p(),v=t((()=>m(e.unselectedColor&&i.value===d.EMPTY?e.unselectedColor:e.color)));return a(s,(()=>n("hover",s.value||d.EMPTY))),{computedColor:v,rootEl:u,onEnter:()=>{r.value=1},onClick:()=>{r.value=s.value||d.FULL,n("click",s.value||d.FULL)},onMouseMove:o=>{if(!u.value)return;const{offsetX:l}=o,t=u.value.clientWidth;e.halves?s.value=l/t<=d.HALF?d.HALF:d.FULL:s.value=d.FULL},onMouseLeave:()=>{s.value=null},visibleValue:i,computedIconName:t((()=>e.halves&&i.value===d.HALF?e.halfIcon:i.value===d.EMPTY?e.emptyIcon:e.icon)),tabIndexComputed:t((()=>e.disabled?-1:e.tabindex))}}}),y=["tabindex"];var C=f(b,[["render",function _sfc_render(e,o,l,t,a,p){const c=n("va-icon");return u(),r("div",{ref:"rootEl",class:"va-rating-item",role:"button",tabindex:e.tabIndexComputed,onKeyup:[o[0]||(o[0]=s(((...o)=>e.onClick&&e.onClick(...o)),["enter"])),o[1]||(o[1]=s(((...o)=>e.onClick&&e.onClick(...o)),["space"]))],onMousemove:o[2]||(o[2]=(...o)=>e.onMouseMove&&e.onMouseMove(...o)),onMouseleave:o[3]||(o[3]=(...o)=>e.onMouseLeave&&e.onMouseLeave(...o))},[i(e.$slots,"default",{props:{value:e.visibleValue,onClick:e.onClick}},(()=>[m(c,{class:"va-rating-item__wrapper",tabindex:"-1",tag:"button",name:e.computedIconName,size:e.$props.size,color:e.computedColor,onClick:e.onClick},null,8,["name","size","color","onClick"])]))],40,y)}]]);export{C as _};

import './VaRatingItem.css';
//# sourceMappingURL=VaRatingItem.mjs.map
