{"version":3,"file":"VaAppBar.mjs","sources":["../../../../../src/components/va-app-bar/VaAppBar.vue"],"sourcesContent":["<template>\n  <header\n    ref=\"scrollRoot\"\n    role=\"toolbar\"\n    :class=\"computedClass\"\n    :style=\"computedStyle\"\n  >\n    <slot />\n  </header>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed, ref } from 'vue'\n\nimport { setupScroll, useColors } from '../../composables'\nimport { getGradientBackground, getBoxShadowColor } from '../../services/color-config/color-functions'\n\nexport default defineComponent({\n  name: 'VaAppBar',\n  props: {\n    gradient: { type: Boolean, default: false },\n    bottom: { type: Boolean, default: false },\n    target: { type: [Object, String] as PropType<string | HTMLElement>, default: '' },\n    hideOnScroll: { type: Boolean, default: false },\n    shadowOnScroll: { type: Boolean, default: false },\n    shadowColor: { type: String, default: '' },\n    color: { type: String, default: undefined },\n    absolute: { type: Boolean, default: false },\n  },\n  setup (props) {\n    const prevScrollPosition = ref(0)\n    const doShowShadow = ref(false)\n    const isHidden = ref(false)\n\n    const scrollRoot = setupScroll(props.target, (e) => {\n      const target = e.target as HTMLElement\n\n      if (prevScrollPosition.value < target.scrollTop) {\n        // Scroll down\n        isHidden.value = !!props.hideOnScroll\n        doShowShadow.value = !!props.shadowOnScroll\n      } else {\n        // Scroll up\n        isHidden.value = false\n        doShowShadow.value = false\n      }\n\n      prevScrollPosition.value = target.scrollTop\n    })\n\n    const { getColor } = useColors()\n\n    const colorComputed = computed(() => getColor(props.color, 'primary'))\n\n    const shadowColorComputed = computed(() => getColor(props.shadowColor, colorComputed.value))\n\n    const computedShadow = computed(() => {\n      const shadow = getBoxShadowColor(props.shadowColor ? shadowColorComputed.value : colorComputed.value)\n      return doShowShadow.value ? `var(--va-app-bar-shadow) ${shadow}` : ''\n    })\n\n    const transformComputed = computed(() => {\n      if (!isHidden.value) { return '' }\n      return props.bottom ? 'translateY(100%)' : 'translateY(-100%)'\n    })\n\n    const computedStyle = computed(() => ({\n      background: props.gradient ? getGradientBackground(colorComputed.value) : colorComputed.value,\n      'box-shadow': computedShadow.value,\n      transform: transformComputed.value,\n      position: props.absolute ? 'absolute' as const : undefined,\n    }))\n\n    const computedClass = computed(() => ({\n      'va-app-bar': true,\n      'va-app-bar--bottom': props.bottom,\n    }))\n\n    return {\n      scrollRoot,\n      computedStyle,\n      computedClass,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-app-bar {\n  display: flex;\n  align-items: center;\n  position: var(--va-app-bar-position);\n  transition: all 0.5s ease;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--va-app-bar-height);\n  min-height: var(--va-app-bar-height);\n  min-width: 100%;\n  font-family: var(--va-font-family);\n  z-index: var(--va-app-bar-z-index);\n\n  &--bottom {\n    top: 100%;\n    transform: translateY(-100%);\n  }\n}\n</style>\n"],"names":["defineComponent","name","props","gradient","type","Boolean","default","bottom","target","Object","String","hideOnScroll","shadowOnScroll","shadowColor","color","absolute","setup","prevScrollPosition","ref","doShowShadow","isHidden","scrollRoot","setupScroll","e","value","scrollTop","getColor","useColors","colorComputed","computed","shadowColorComputed","computedShadow","shadow","getBoxShadowColor","transformComputed","computedStyle","background","getGradientBackground","transform","position","computedClass","_createElementBlock","role","class","_normalizeClass","_ctx","style","_normalizeStyle","_renderSlot","$slots"],"mappings":"udAiBkBA,EAAa,CAC7BC,KAAM,WACNC,MAAO,CACLC,SAAU,CAAEC,KAAMC,QAASC,SAAS,GACpCC,OAAQ,CAAEH,KAAMC,QAASC,SAAS,GAClCE,OAAQ,CAAEJ,KAAM,CAACK,OAAQC,QAA2CJ,QAAS,IAC7EK,aAAc,CAAEP,KAAMC,QAASC,SAAS,GACxCM,eAAgB,CAAER,KAAMC,QAASC,SAAS,GAC1CO,YAAa,CAAET,KAAMM,OAAQJ,QAAS,IACtCQ,MAAO,CAAEV,KAAMM,OAAQJ,aAAS,GAChCS,SAAU,CAAEX,KAAMC,QAASC,SAAS,IAEtCU,MAAOd,GACC,MAAAe,EAAqBC,EAAI,GACzBC,EAAeD,GAAI,GACnBE,EAAWF,GAAI,GAEfG,EAAaC,EAAYpB,EAAMM,QAASe,IAC5C,MAAMf,EAASe,EAAEf,OAEbS,EAAmBO,MAAQhB,EAAOiB,WAE3BL,EAAAI,QAAUtB,EAAMS,aACZQ,EAAAK,QAAUtB,EAAMU,iBAG7BQ,EAASI,OAAQ,EACjBL,EAAaK,OAAQ,GAGvBP,EAAmBO,MAAQhB,EAAOiB,cAG9BC,SAAEA,GAAaC,IAEfC,EAAgBC,GAAS,IAAMH,EAASxB,EAAMY,MAAO,aAErDgB,EAAsBD,GAAS,IAAMH,EAASxB,EAAMW,YAAae,EAAcJ,SAE/EO,EAAiBF,GAAS,KAC9B,MAAMG,EAASC,EAAkB/B,EAAMW,YAAciB,EAAoBN,MAAQI,EAAcJ,OACxF,OAAAL,EAAaK,MAAQ,4BAA4BQ,IAAW,MAG/DE,EAAoBL,GAAS,IAC5BT,EAASI,MACPtB,EAAMK,OAAS,mBAAqB,oBADb,KAgBzB,MAAA,CACLc,WAAAA,EACAc,cAdoBN,GAAS,KAAO,CACpCO,WAAYlC,EAAMC,SAAWkC,EAAsBT,EAAcJ,OAASI,EAAcJ,MACxF,aAAcO,EAAeP,MAC7Bc,UAAWJ,EAAkBV,MAC7Be,SAAUrC,EAAMa,SAAW,gBAAsB,MAWjDyB,cARoBX,GAAS,KAAO,CACpC,cAAc,EACd,qBAAsB3B,EAAMK,uEA1EhCkC,EAOS,SAAA,CANPvB,IAAI,aACJwB,KAAK,UACJC,MAAKC,EAAEC,EAAaL,eACpBM,MAAKC,EAAEF,EAAaV,gBAAA,CAErBa,EAAQH,EAAAI,OAAA,YAAA"}