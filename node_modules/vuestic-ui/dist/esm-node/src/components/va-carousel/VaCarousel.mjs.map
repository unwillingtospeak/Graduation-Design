{"version":3,"file":"VaCarousel.mjs","sources":["../../../../../src/components/va-carousel/VaCarousel.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-carousel\"\n    :class=\"{\n      'va-carousel--vertical': $props.vertical,\n      [`va-carousel--${$props.effect}`]: true\n    }\"\n    :style=\"{ height }\"\n    role=\"region\"\n    aria-label=\"carousel\"\n  >\n    <template v-if=\"$props.arrows\">\n      <div\n        v-if=\"doShowPrevButton\"\n        class=\"va-carousel__arrow va-carousel__arrow--left\"\n        @click=\"prev\"\n        @keydown.enter.stop=\"prev\"\n      >\n        <slot name=\"prev-arrow\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :color=\"hover ? computedHoverColor : computedColor\"\n              :icon=\"vertical ? 'expand_less' : 'chevron_left'\"\n              aria-label=\"go previous slide\"\n            />\n          </va-hover>\n        </slot>\n      </div>\n      <div\n        v-if=\"doShowNextButton\"\n        class=\"va-carousel__arrow va-carousel__arrow--right\"\n        @click=\"next\"\n        @keydown.enter.stop=\"next\"\n      >\n        <slot name=\"next-arrow\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :color=\"hover ? computedHoverColor : computedColor\"\n              :icon=\"vertical ? 'expand_more' : 'chevron_right'\"\n              aria-label=\"go next slide\"\n            />\n          </va-hover>\n        </slot>\n      </div>\n    </template>\n\n    <div class=\"va-carousel__indicators\" v-if=\"$props.indicators\">\n      <div\n        class=\"va-carousel__indicator\"\n        v-for=\"(item, index) in $props.items\" :key=\"index\"\n        :class=\"{ 'va-carousel__indicator--active': index === modelValue }\"\n        v-bind=\"indicatorTrigger === 'hover' ? { onmouseover: () => goTo(index) } : { onclick: () => goTo(index) }\"\n      >\n        <slot name=\"indicator\" v-bind=\"{ item, index, goTo, isActive: isCurrentSlide(index) }\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :aria-label=\"`go slide #${index + 1}`\"\n              round\n              :color=\"isCurrentSlide(index) ? computedActiveColor : (hover ? computedHoverColor : computedColor)\"\n            >\n              {{ index + 1 }}\n            </va-button>\n          </va-hover>\n        </slot>\n      </div>\n    </div>\n\n    <div class=\"va-carousel__content\">\n      <div\n        class=\"va-carousel__slides\"\n        :style=\"computedSlidesStyle\"\n        role=\"list\"\n      >\n        <div\n          class=\"va-carousel__slide\"\n          v-for=\"(item, index) in slides\" :key=\"item\"\n          :style=\"effect === 'fade' ? { animation: fadeKeyframe } : ''\"\n          role=\"listitem\"\n          :aria-hidden=\"!isCurrentSlide(index)\"\n          :aria-current=\"isCurrentSlide(index)\"\n          :aria-label=\"`slide ${index + 1} of ${slides.length}`\"\n        >\n          <slot v-bind=\"{ item, index, goTo, isActive: isCurrentSlide(index) }\">\n            <va-image\n              :src=\"isObjectSlides ? item.src : item\"\n              :alt=\"isObjectSlides ? item.alt : ''\"\n            />\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed } from 'vue'\nimport { useCarousel } from './hooks/useCarousel'\nimport { useCarouselAnimation } from './hooks/useCarouselAnimation'\nimport { useCarouselColor } from './hooks/useCarouselColors'\nimport { useStateful, useStatefulProps, useStatefulEmits } from '../../composables'\nimport { VaImage } from '../va-image'\nimport { VaButton } from '../va-button'\nimport { VaHover } from '../va-hover'\n\nexport default defineComponent({\n  name: 'VaCarousel',\n\n  components: { VaImage, VaButton, VaHover },\n\n  props: {\n    ...useStatefulProps,\n\n    modelValue: { type: Number, default: 0 },\n    items: { type: Array as PropType<any[]>, required: true },\n\n    // Animations\n    autoscroll: { type: Boolean, default: false },\n    autoscrollInterval: { type: Number, default: 1000 },\n    autoscrollPauseDuration: { type: Number, default: 2000 },\n    infinite: { type: Boolean, default: false },\n    fadeKeyframe: { type: String, default: 'va-carousel-fade-appear 1s' },\n\n    // Visual\n    arrows: { type: Boolean, default: true },\n    indicators: { type: Boolean, default: true },\n    indicatorTrigger: {\n      type: String as PropType<'click' | 'hover'>,\n      default: 'click',\n      validator: (value: string) => ['click', 'hover'].includes(value),\n    },\n    vertical: { type: Boolean, default: false },\n    height: { type: String, default: '300px' },\n    effect: {\n      type: String as PropType<'fade' | 'transition'>,\n      default: 'transition',\n      validator: (value: string) => ['fade', 'transition'].includes(value),\n    },\n    color: { type: String, default: 'primary' },\n  },\n\n  emits: useStatefulEmits,\n\n  setup (props, { emit }) {\n    const { valueComputed: currentSlide } = useStateful(props, emit, 0)\n\n    const {\n      goTo, next, prev,\n      doShowNextButton, doShowPrevButton,\n    } = useCarousel(props, currentSlide)\n\n    const { withPause, computedSlidesStyle, slides } = useCarouselAnimation(props, currentSlide)\n    const isObjectSlides = computed(() => {\n      return props.items.length && props.items.every((el) => !!el && typeof el === 'object' && !!el?.src)\n    })\n    const isCurrentSlide = (index: number) => +index === currentSlide.value\n\n    return {\n      doShowNextButton,\n      doShowPrevButton,\n      computedSlidesStyle,\n      goTo: withPause(goTo),\n      prev: withPause(prev),\n      next: withPause(next),\n      slides,\n      isObjectSlides,\n      isCurrentSlide,\n      ...useCarouselColor(),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"./_variables.scss\";\n\n@keyframes va-carousel-fade-appear {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n\n.va-carousel {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  background: var(--va-carousel-background);\n  box-shadow: var(--va-carousel-box-shadow);\n  border-radius: var(--va-carousel-border-radius);\n  position: relative;\n  overflow: hidden;\n\n  &__content {\n    flex: 1;\n    width: 100%;\n    white-space: nowrap;\n  }\n\n  &__slides {\n    width: 100%;\n    height: 100%;\n    transition: var(--va-carousel-slides-transition);\n  }\n\n  &__slide {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  &__indicators {\n    width: 100%;\n    position: absolute;\n    bottom: var(--va-carousel-padding);\n    display: flex;\n    justify-content: center;\n    z-index: 2;\n    overflow-x: auto;\n    left: 50%;\n    transform: translateX(-50%);\n\n    @include va-scroll();\n\n    & > * {\n      margin: 0 var(--va-carousel-indicators-gap);\n    }\n  }\n\n  &__arrow {\n    z-index: 1;\n    width: max-content;\n    height: max-content;\n\n    &--right {\n      right: var(--va-carousel-padding);\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n\n    &--left {\n      left: var(--va-carousel-padding);\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n  }\n\n  &--vertical {\n    .va-carousel {\n      &__slide {\n        display: flex;\n      }\n\n      &__arrow {\n        z-index: 1;\n\n        &--right {\n          bottom: var(--va-carousel-padding);\n          top: auto;\n          left: 50%;\n          transform: translateX(-50%);\n        }\n\n        &--left {\n          top: var(--va-carousel-padding);\n          left: 50%;\n          transform: translateX(-50%);\n        }\n      }\n\n      &__indicators {\n        left: var(--va-carousel-padding);\n        flex-direction: column;\n        width: auto;\n        height: 100%;\n        top: 50%;\n        transform: translateY(-50%);\n        overflow-x: hidden;\n        overflow-y: auto;\n\n        & > * {\n          margin: var(--va-carousel-indicators-gap) 0;\n        }\n      }\n    }\n  }\n\n  .va-image {\n    height: 100%;\n    width: 100%;\n  }\n}\n</style>\n"],"names":["_sfc_main","defineComponent","name","components","VaImage","VaButton","VaHover","props","useStatefulProps","modelValue","type","Number","default","items","Array","required","autoscroll","Boolean","autoscrollInterval","autoscrollPauseDuration","infinite","fadeKeyframe","String","arrows","indicators","indicatorTrigger","validator","value","includes","vertical","height","effect","color","emits","useStatefulEmits","setup","emit","valueComputed","currentSlide","useStateful","goTo","next","prev","doShowNextButton","doShowPrevButton","useCarousel","withPause","computedSlidesStyle","slides","useCarouselAnimation","isObjectSlides","computed","length","every","el","src","__spreadValues","isCurrentSlide","index","useCarouselColor","class","_hoisted_2","_createElementBlock","_normalizeClass","_ctx","$props","style","_normalizeStyle","role","_Fragment","key","onClick","_cache","args","onKeydown","_renderSlot","_createVNode","_component_va_hover","stateful","_withCtx","hover","_component_va_button","computedHoverColor","computedColor","icon","_hoisted_1","openBlock","_renderList","item","_openBlock","_mergeProps","onmouseover","onclick","$slots","_normalizeProps","_guardReactiveProps","isActive","round","computedActiveColor","_createTextVNode","_toDisplayString","_createElementVNode","animation","_component_va_image","alt"],"mappings":"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"}