var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,i,r)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r,__spreadValues=(e,t)=>{for(var i in t||(t={}))a.call(t,i)&&__defNormalProp(e,i,t[i]);if(r)for(var i of r(t))n.call(t,i)&&__defNormalProp(e,i,t[i]);return e},__spreadProps=(e,r)=>t(e,i(r));import{onMounted as s,onBeforeUnmount as o,ref as l,computed as u,watch as m}from"vue";const useCarouselAnimation=(e,t)=>{let i=-1,r=1;const start=()=>{e.autoscroll&&(clearInterval(i),i=setInterval((()=>{e.infinite?(t.value+=1,t.value>=e.items.length&&(t.value=0)):(t.value<=0&&(r=1),t.value>=e.items.length-1&&(r=-1),t.value+=r)}),e.autoscrollInterval))};let a;const pause=()=>{e.autoscroll&&(clearInterval(i),a=setTimeout((()=>{start(),clearTimeout(a)}),e.autoscrollPauseDuration))},stop=()=>{clearInterval(i),clearTimeout(a)};s((()=>start())),o((()=>stop()));const n=l({transition:void 0}),v=l(0),c=u((()=>"fade"===e.effect?__spreadProps(__spreadValues({},n.value),{transition:"none"}):e.vertical?__spreadProps(__spreadValues({},n.value),{transform:`translateY(${-100*v.value}%)`}):__spreadProps(__spreadValues({},n.value),{transform:`translateX(${-100*v.value}%)`}))),h={isAnimating:!1,speed:.3,order:[],move(t,i){const r=e.items.length-1,a=e.items.length;0===i&&t===r?(this.order.push({to:a}),this.order.push({to:0,animate:!1})):i===r&&0===t?(this.order.push({to:a,animate:!1}),this.order.push({to:i})):this.order.push({to:i}),this.isAnimating||this.runAnimation()},runAnimation(){this.isAnimating=!0;const e=this.order.shift();e?(v.value=null==e?void 0:e.to,e.animate||void 0===e.animate?(n.value.transition=`all ${this.speed}s linear`,setTimeout((()=>{this.runAnimation()}),1e3*this.speed)):(n.value.transition="none",setTimeout((()=>{this.runAnimation()}),16))):this.isAnimating=!1}};m(t,((e,t)=>{h.move(t,e)}));const p=u((()=>"fade"===e.effect?[e.items[t.value]]:e.infinite?[...e.items,e.items[0]]:e.items));return{start:start,pause:pause,stop:stop,withPause:e=>(...t)=>{pause(),e(...t)},computedSlidesStyle:c,slides:p}};export{useCarouselAnimation as u};
//# sourceMappingURL=useCarouselAnimation.mjs.map
