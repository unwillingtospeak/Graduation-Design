{"version":3,"file":"VaSlider.mjs","sources":["../../../../../src/components/va-slider/VaSlider.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-slider\"\n    :class=\"sliderClass\"\n    v-bind=\"ariaAttributesComputed\"\n  >\n    <div\n      v-if=\"vertical ? $slots.append : $slots.prepend\"\n      class=\"va-slider__input-wrapper\"\n      aria-hidden=\"true\"\n    >\n      <slot :name=\"vertical ? 'append' : 'prepend'\" />\n    </div>\n    <span\n      v-if=\"($slots.label || label) && !invertLabel\"\n      class=\"va-input__label\"\n      :id=\"ariaLabelIdComputed\"\n      :style=\"labelStyles\"\n    >\n      <slot name=\"label\">\n        {{ label }}\n      </slot>\n    </span>\n    <span\n      v-if=\"vertical ? iconAppend : iconPrepend\"\n      class=\"va-input__label\"\n      aria-hidden=\"true\"\n    >\n      <va-icon\n        :name=\"vertical ? iconAppend : iconPrepend\"\n        :color=\"getColor($props.color)\"\n        :size=\"16\"\n      />\n    </span>\n    <div\n      ref=\"sliderContainer\"\n      class=\"va-slider__container\"\n      @mousedown=\"clickOnContainer\"\n      @mouseup=\"hasMouseDown = false\"\n      @touchstart=\"clickOnContainer\"\n    >\n      <div\n        class=\"va-slider__track\"\n        aria-hidden=\"true\"\n        :style=\"trackStyles\"\n      />\n      <template v-if=\"pins\">\n        <div\n          v-for=\"(pin, i) in pinsCol\"\n          :key=\"i\"\n          class=\"va-slider__mark\"\n          :class=\"{ 'va-slider__mark--active': checkActivePin(pin) }\"\n          :style=\"getPinStyles(pin)\"\n        />\n      </template>\n      <template v-if=\"$props.range\">\n        <div\n          ref=\"process\"\n          class=\"va-slider__track va-slider__track--selected\"\n          aria-hidden=\"true\"\n          :class=\"{'va-slider__track--active': isFocused}\"\n          :style=\"processedStyles\"\n        />\n        <div\n          v-for=\"order in orders\"\n          :key=\"'dot' + order\"\n          :ref=\"setItemRefByIndex(order)\"\n          class=\"va-slider__handler\"\n          :class=\"dotClass\"\n          :style=\"getDottedStyles(order)\"\n          :tabindex=\"disabled || readonly ? undefined : 0\"\n          @focus=\"isFocused = true, currentSliderDotIndex = order\"\n          @blur=\"isFocused = false\"\n        >\n          <div\n            v-if=\"isActiveDot(order)\"\n            :style=\"{ backgroundColor: getColor($props.color) }\"\n            class=\"va-slider__handler__dot--focus\"\n          />\n          <div\n            v-if=\"trackLabelVisible\"\n            :style=\"labelStyles\"\n            class=\"va-slider__handler__dot--value\"\n          >\n            <slot\n              name=\"trackLabel\"\n              v-bind=\"{ value: getValueByOrder(order), order }\"\n            >\n              {{ getTrackLabel(getValueByOrder(order), order) }}\n            </slot>\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        <div\n          ref=\"process\"\n          aria-hidden=\"true\"\n          class=\"va-slider__track va-slider__track--selected\"\n          :class=\"{'va-slider__track--active': isFocused}\"\n          :style=\"processedStyles\"\n        />\n        <div\n          ref=\"dot\"\n          class=\"va-slider__handler\"\n          :class=\"dotClass\"\n          :style=\"dottedStyles\"\n          :tabindex=\"$props.disabled || $props.readonly ? undefined : 0\"\n          @focus=\"isFocused = true\"\n          @blur=\"isFocused = false\"\n        >\n          <div\n            v-if=\"isActiveDot(0)\"\n            class=\"va-slider__handler__dot--focus\"\n            :style=\"{ backgroundColor: getColor($props.color) }\"\n          />\n          <div\n            v-if=\"trackLabelVisible\"\n            class=\"va-slider__handler__dot--value\"\n            :style=\"labelStyles\"\n          >\n            <slot\n              name=\"trackLabel\"\n              v-bind=\"{ value: getValueByOrder() }\"\n            >\n              {{ getTrackLabel(getValueByOrder()) }}\n            </slot>\n          </div>\n        </div>\n      </template>\n    </div>\n    <span\n      v-if=\"vertical ? iconPrepend : iconAppend\"\n      class=\"va-input__label--inverse\"\n      aria-hidden=\"true\"\n    >\n      <va-icon\n        :name=\"vertical ? iconPrepend : iconAppend\"\n        :color=\"getColor($props.color)\"\n        :size=\"16\"\n      />\n    </span>\n    <span\n      v-if=\"($slots.label || label) && invertLabel\"\n      class=\"va-input__label va-input__label--inverse\"\n      :style=\"labelStyles\"\n      :id=\"ariaLabelIdComputed\"\n    >\n      <slot name=\"label\">\n        {{ label }}\n      </slot>\n    </span>\n    <div\n      v-if=\"vertical ? $slots.prepend : $slots.append\"\n      class=\"va-slider__input-wrapper\"\n    >\n      <slot :name=\"vertical ? 'prepend' : 'append'\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, watch, PropType, ref, computed, onMounted, onBeforeUnmount, shallowRef, CSSProperties } from 'vue'\nimport pick from 'lodash/pick.js'\n\nimport { generateUniqueId } from '../../services/utils'\nimport { useColors, useArrayRefs, useBem } from '../../composables'\nimport { validateSlider } from './validateSlider'\n\nimport { VaIcon } from '../va-icon'\n\nexport default defineComponent({\n  name: 'VaSlider',\n  components: { VaIcon },\n  emits: ['drag-start', 'drag-end', 'change', 'update:modelValue'],\n  props: {\n    range: { type: Boolean, default: false },\n    modelValue: ({ type: [Number, Array] as PropType<number | number[]>, default: 0 }),\n    trackLabel: ({ type: [Function, String] as PropType<string | ((val: number, order?: number) => string) | undefined> }),\n    color: { type: String, default: 'primary' },\n    trackColor: { type: String, default: '' },\n    labelColor: { type: String, default: '' },\n    trackLabelVisible: { type: Boolean, default: false },\n    min: { type: Number, default: 0 },\n    max: { type: Number, default: 100 },\n    step: { type: Number, default: 1 },\n    label: { type: String, default: '' },\n    invertLabel: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    readonly: { type: Boolean, default: false },\n    pins: { type: Boolean, default: false },\n    iconPrepend: { type: String, default: '' },\n    iconAppend: { type: String, default: '' },\n    vertical: { type: Boolean, default: false },\n    showTrack: { type: Boolean, default: true },\n  },\n  setup (props, { emit, slots }) {\n    const { getColor, getHoverColor } = useColors()\n\n    const sliderContainer = shallowRef<HTMLElement>()\n    const dot = shallowRef<HTMLElement>()\n    const { setItemRefByIndex, itemRefs: dots } = useArrayRefs()\n\n    const isFocused = ref(false)\n    const flag = ref(false)\n    const offset = ref(0)\n    const size = ref(0)\n\n    // setting up initial value, don't change to `ref(props.modelValue)` because of https://github.com/epicmaxco/vuestic-ui/issues/2073\n    const currentValue = ref(Array.isArray(props.modelValue) ? [...props.modelValue] : props.modelValue)\n\n    const currentSliderDotIndex = ref(0)\n    const hasMouseDown = ref(false)\n\n    const orders = computed(() => props.vertical ? [1, 0] : [0, 1])\n\n    const pinPositionStyle = computed(() => props.vertical ? 'bottom' : 'left')\n    const trackSizeStyle = computed(() => props.vertical ? 'height' : 'width')\n\n    const moreToLess = computed(() => Array.isArray(val.value) && (val.value[1] - props.step) < val.value[0])\n\n    const lessToMore = computed(() => Array.isArray(val.value) && (val.value[0] + props.step) > val.value[1])\n\n    const sliderClass = useBem('va-slider', () => ({\n      ...pick(props, ['disabled', 'readonly', 'vertical']),\n      active: isFocused.value,\n      horizontal: !props.vertical,\n      grabbing: hasMouseDown.value,\n    }))\n\n    const dotClass = useBem('va-slider__handler', () => ({\n      onFocus: !props.range && (flag.value || isFocused.value),\n      inactive: !isFocused.value,\n    }))\n\n    const labelStyles = computed(() => ({\n      color: props.labelColor ? getColor(props.labelColor) : getColor(props.color),\n    }))\n\n    const trackStyles = computed(() => ({\n      backgroundColor: props.trackColor\n        ? getColor(props.trackColor)\n        : getHoverColor(getColor(props.color)),\n    }))\n\n    const processedStyles = computed(() => {\n      const validatedValue = limitValue(props.modelValue)\n\n      if (Array.isArray(validatedValue)) {\n        const val0 = ((validatedValue[0] - props.min) / (props.max - props.min)) * 100\n        const val1 = ((validatedValue[1] - props.min) / (props.max - props.min)) * 100\n\n        return {\n          [pinPositionStyle.value]: `${val0}%`,\n          [trackSizeStyle.value]: `${val1 - val0}%`,\n          backgroundColor: getColor(props.color),\n          visibility: props.showTrack ? 'visible' : 'hidden',\n        } as CSSProperties\n      } else {\n        const val = ((validatedValue - props.min) / (props.max - props.min)) * 100\n\n        return {\n          [trackSizeStyle.value]: `${val}%`,\n          backgroundColor: getColor(props.color),\n          visibility: props.showTrack ? 'visible' : 'hidden',\n        } as CSSProperties\n      }\n    })\n\n    const dottedStyles = computed(() => {\n      const validatedValue = limitValue(props.modelValue)\n\n      if (Array.isArray(validatedValue)) {\n        const val0 = ((validatedValue[0] - props.min) / (props.max - props.min)) * 100\n        const val1 = ((validatedValue[1] - props.min) / (props.max - props.min)) * 100\n\n        return [\n          {\n            [pinPositionStyle.value]: `${val0}%`,\n            backgroundColor: isActiveDot(0) ? getColor(props.color) : '#ffffff',\n            borderColor: getColor(props.color),\n          },\n          {\n            [pinPositionStyle.value]: `${val1}%`,\n            backgroundColor: isActiveDot(1) ? getColor(props.color) : '#ffffff',\n            borderColor: getColor(props.color),\n          },\n        ] as CSSProperties[]\n      } else {\n        const val = ((validatedValue - props.min) / (props.max - props.min)) * 100\n\n        return {\n          [pinPositionStyle.value]: `${val}%`,\n          backgroundColor: isActiveDot(0) ? getColor(props.color) : '#ffffff',\n          borderColor: getColor(props.color),\n        } as CSSProperties\n      }\n    })\n\n    const getDottedStyles = (index?: number) => props.range && index !== undefined\n      ? (dottedStyles.value as CSSProperties[])[index]\n      : dottedStyles.value\n\n    const val = computed({\n      get: () => props.modelValue,\n      set: (val) => {\n        if (!props.range) {\n          val = limitValue(val)\n        }\n\n        if (!flag.value) {\n          emit('change', val)\n        }\n\n        emit('update:modelValue', val)\n      },\n    })\n\n    const getValueByOrder = (order?: number) => props.range && order !== undefined\n      ? (val.value as number[])[order]\n      : val.value as number\n\n    const gap = computed(() => {\n      const total = (props.max - props.min) / props.step\n\n      return size.value / total\n    })\n\n    const multiple = computed(() => {\n      const decimals = `${props.step}`.split('.')[1]\n\n      return decimals ? Math.pow(10, decimals.length) : 1\n    })\n\n    const pinsCol = computed(() => ((props.max - props.min) / props.step) - 1)\n\n    const position = computed(() => {\n      return Array.isArray(props.modelValue)\n        ? [(props.modelValue[0] - props.min) / props.step * gap.value, (props.modelValue[1] - props.min) / props.step * gap.value]\n        : ((props.modelValue - props.min) / props.step * gap.value)\n    })\n\n    const limit = computed(() => [0, size.value])\n\n    const valueLimit = computed(() => [props.min, props.max])\n\n    const isActiveDot = (index: number) => {\n      if ((!isFocused.value && !flag.value) || props.disabled || props.readonly) {\n        return false\n      }\n\n      return props.range ? currentSliderDotIndex.value === index : currentSliderDotIndex.value === 0\n    }\n\n    const moveStart = (e: MouseEvent | TouchEvent, index = currentSliderDotIndex.value) => {\n      e.preventDefault() // prevent page scrolling\n\n      if (!index) {\n        if (!props.range) {\n          index = 0\n        } else if (Array.isArray(position.value)) {\n          const touch = 'touches' in e ? e.touches[0] : e\n          const pos = getPos(touch)\n\n          index = pos > ((position.value[1] - position.value[0]) / 2 + position.value[0]) ? 1 : 0\n        }\n      }\n\n      if (Array.isArray(props.modelValue)) {\n        currentSliderDotIndex.value = index\n      }\n\n      Array.isArray(props.modelValue)\n        ? dots.value[index]?.focus()\n        : dot.value?.focus()\n\n      flag.value = true\n\n      emit('drag-start')\n    }\n\n    const moving = (e: TouchEvent | MouseEvent) => {\n      if (!hasMouseDown.value || !flag.value || props.disabled || props.readonly) { return }\n\n      e.preventDefault()\n\n      if ('touches' in e) {\n        setValueOnPos(getPos(e.touches[0]))\n      } else {\n        setValueOnPos(getPos(e))\n      }\n    }\n\n    const moveEnd = () => {\n      if (!props.disabled && !props.readonly) {\n        if (flag.value) {\n          emit('drag-end')\n          emit('change', props.modelValue)\n        } else {\n          return false\n        }\n\n        flag.value = false\n        hasMouseDown.value = false\n      }\n    }\n\n    const moveWithKeys = (event: KeyboardEvent) => {\n      // don't do anything if a dot isn't focused or if the slider's disabled or readonly\n      if (![dots.value[0], dots.value[1], dot.value].includes(document.activeElement as HTMLElement)) {\n        return\n      }\n      if (props.disabled || props.readonly) {\n        return\n      }\n\n      /*\n        where: where to move\n          0 - to left\n          1 - to right\n\n        which: which dot to move (only makes sense when isRange is true)\n          0 - left dot\n          1 - right dot\n        */\n      const moveDot = (isRange: boolean, where: number, which: number) => {\n        if (isRange && Array.isArray(val.value)) {\n          if (!props.pins) {\n            return val.value.splice(which, 1, val.value[which] + (where ? props.step : -props.step))\n          }\n\n          // how many value units one pin occupies\n          const onePinInterval = (props.max - props.min) / (pinsCol.value + 1)\n          // how many full pins are to the left of the dot now\n          const fullPinsNow = val.value[which] / onePinInterval | 0\n          // the value of the nearest pin\n          let nearestPinVal = fullPinsNow * onePinInterval\n\n          if (val.value[which] !== nearestPinVal) { // if the dot's not pinned already\n            nearestPinVal += where ? onePinInterval : 0 // take one more pin if moving right\n            val.value.splice(which, 1, nearestPinVal)\n          } else {\n            val.value.splice(which, 1, val.value[which] + (where ? props.step : -props.step))\n          }\n        } else {\n          if (!props.pins && !Array.isArray(val.value)) {\n            val.value += where ? props.step : -props.step\n            return\n          }\n\n          // how many value units one pin occupies\n          const onePinInterval = (props.max - props.min) / (pinsCol.value + 1)\n          // how many full pins are to the left of the dot now\n          const fullPinsNow = !Array.isArray(val.value) ? val.value / onePinInterval | 0 : 0\n          // the value of the nearest pin\n          let nearestPinVal = fullPinsNow * onePinInterval\n\n          if (val.value !== nearestPinVal) { // if the dot's not pinned already\n            nearestPinVal += where ? onePinInterval : 0 // take one more pin if moving right\n            val.value = nearestPinVal\n          } else {\n            val.value += where ? props.step : -props.step\n          }\n        }\n      }\n\n      // prevent page scroll\n      if (['ArrowLeft', 'ArrowUp', 'ArrowRight', 'ArrowDown'].includes(event.key)) {\n        event.preventDefault()\n      }\n\n      const isActive = (el?: HTMLElement) => el === document.activeElement\n\n      if (props.range && Array.isArray(val.value)) {\n        const isVerticalDot0More = (event: KeyboardEvent) => props.vertical && isActive(dots.value[0]) && event.key === 'ArrowUp'\n        const isVerticalDot0Less = (event: KeyboardEvent) => props.vertical && isActive(dots.value[0]) && event.key === 'ArrowDown'\n        const isVerticalDot1More = (event: KeyboardEvent) => props.vertical && isActive(dots.value[1]) && event.key === 'ArrowUp'\n        const isVerticalDot1Less = (event: KeyboardEvent) => props.vertical && isActive(dots.value[1]) && event.key === 'ArrowDown'\n        const isHorizontalDot0Less = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[0]) && event.key === 'ArrowLeft'\n        const isHorizontalDot0More = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[0]) && event.key === 'ArrowRight'\n        const isHorizontalDot1Less = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[1]) && event.key === 'ArrowLeft'\n        const isHorizontalDot1More = (event: KeyboardEvent) => !props.vertical && isActive(dots.value[1]) && event.key === 'ArrowRight'\n\n        switch (true) {\n          case (isVerticalDot1Less(event) || isHorizontalDot1Less(event)) && moreToLess.value && val.value[0] !== props.min:\n            dots.value[0]?.focus()\n            moveDot(true, 0, 0)\n            break\n          case (isVerticalDot0More(event) || isHorizontalDot0More(event)) && lessToMore.value && val.value[1] !== props.max:\n            dots.value[1]?.focus()\n            moveDot(true, 1, 1)\n            break\n          case (isVerticalDot0Less(event) || isHorizontalDot0Less(event)) && val.value[0] !== props.min:\n            moveDot(true, 0, 0)\n            break\n          case (isVerticalDot1More(event) || isHorizontalDot1More(event)) && val.value[1] !== props.max:\n            moveDot(true, 1, 1)\n            break\n          case (isVerticalDot1Less(event) || isHorizontalDot1Less(event)) && val.value[1] !== props.min:\n            moveDot(true, 0, 1)\n            break\n          case (isVerticalDot0More(event) || isHorizontalDot0More(event)) && val.value[0] !== props.max:\n            moveDot(true, 1, 0)\n            break\n          default:\n            break\n        }\n      } else {\n        if (props.vertical) {\n          if (event.key === 'ArrowDown') {\n            moveDot(false, 0, 0)\n          }\n          if (event.key === 'ArrowUp') {\n            moveDot(false, 1, 0)\n          }\n        } else {\n          if (event.key === 'ArrowLeft') {\n            moveDot(false, 0, 0)\n          }\n          if (event.key === 'ArrowRight') {\n            moveDot(false, 1, 0)\n          }\n        }\n      }\n    }\n\n    const checkActivePin = (pin: number) => {\n      if (Array.isArray(val.value)) {\n        return pin * props.step > val.value[0] && pin * props.step < val.value[1]\n      } else {\n        return pin * props.step < val.value\n      }\n    }\n\n    const pinPositionStep = computed(() => props.step / (props.max - props.min) * 100)\n    const getPinStyles = (pin: number) => ({\n      backgroundColor: checkActivePin(pin) ? getColor(props.color) : getHoverColor(getColor(props.color)),\n      [pinPositionStyle.value]: `${pin * pinPositionStep.value}%`,\n      transition: hasMouseDown.value ? 'none' : 'var(--va-slider-pin-transition)',\n    })\n\n    const getPos = (e: MouseEvent | Touch) => {\n      getStaticData()\n\n      return props.vertical ? offset.value - e.clientY : e.clientX - offset.value\n    }\n\n    const getStaticData = () => {\n      if (sliderContainer.value) {\n        size.value = sliderContainer.value[props.vertical ? 'offsetHeight' : 'offsetWidth']\n\n        offset.value = sliderContainer.value.getBoundingClientRect()[pinPositionStyle.value]\n      }\n    }\n\n    const getValueByIndex = (index: number) => {\n      return ((props.step * multiple.value) * index + (props.min * multiple.value)) / multiple.value\n    }\n\n    const getTrackLabel = (val: number, order?: number) => {\n      if (!props.trackLabel) { return val }\n\n      return typeof props.trackLabel === 'function'\n        ? props.trackLabel(val, order)\n        : props.trackLabel\n    }\n\n    const setCurrentValue = (newValue: number) => {\n      const slider = currentSliderDotIndex.value\n\n      if (Array.isArray(val.value) && Array.isArray(currentValue.value) && Array.isArray(props.modelValue)) {\n        if (isDiff(currentValue.value[slider], newValue)) {\n          currentValue.value.splice(slider, 1, newValue)\n          if (slider === 0) {\n            val.value = [currentValue.value.splice(slider, 1, newValue)[0], props.modelValue[1]]\n            currentValue.value = [...val.value]\n          } else {\n            val.value = [props.modelValue[0], currentValue.value.splice(slider, 1, newValue)[0]]\n            currentValue.value = [...val.value]\n          }\n        }\n      } else {\n        if (newValue < props.min || newValue > props.max) {\n          return false\n        }\n        if (isDiff(currentValue.value, newValue)) {\n          currentValue.value = newValue\n          val.value = newValue\n        }\n      }\n    }\n\n    const setValueOnPos = (pixelPosition: number) => {\n      const range = limit.value\n      const valueRange = valueLimit.value\n\n      // set focus on current thumb\n      const dotToFocus = Array.isArray(props.modelValue)\n        ? dots.value[currentSliderDotIndex.value]\n        : dot.value\n\n      dotToFocus?.focus()\n\n      if (pixelPosition >= range[0] && pixelPosition <= range[1]) {\n        if (currentSliderDotIndex.value) {\n          if (Array.isArray(position.value) && Array.isArray(val.value) && pixelPosition <= position.value[0]) {\n            val.value[1] = val.value[0]\n            currentSliderDotIndex.value = 0\n          }\n          const v = getValueByIndex(Math.round(pixelPosition / gap.value))\n          setCurrentValue(v)\n        } else {\n          if (Array.isArray(position.value) && Array.isArray(val.value) && pixelPosition >= position.value[1]) {\n            val.value[0] = val.value[1]\n            currentSliderDotIndex.value = 1\n          }\n          const v = getValueByIndex(Math.round(pixelPosition / gap.value))\n          setCurrentValue(v)\n        }\n      } else if (pixelPosition < range[0]) {\n        setCurrentValue(valueRange[0])\n      } else {\n        setCurrentValue(valueRange[1])\n      }\n    }\n\n    const limitValue = (val: number | number[]) => {\n      const inRange = (v: number) => {\n        if (v < props.min) {\n          return props.min\n        } else if (v > props.max) {\n          return props.max\n        }\n        return v\n      }\n\n      if (Array.isArray(val)) {\n        if (val[0] >= val[1] && currentSliderDotIndex.value === 0) {\n          const v = inRange(val[1])\n          return [v, v]\n        }\n        if (val[0] >= val[1] && currentSliderDotIndex.value === 1) {\n          const v = inRange(val[0])\n          return [v, v]\n        }\n        return val.map((v) => inRange(v))\n      } else {\n        return inRange(val)\n      }\n    }\n\n    const isDiff = (a: unknown, b: unknown) => JSON.stringify(a) !== JSON.stringify(b)\n\n    const clickOnContainer = (e: MouseEvent | TouchEvent) => {\n      if (props.disabled || props.readonly) {\n        return\n      }\n\n      const pos = ('touches' in e) ? getPos(e.touches[0]) : getPos(e)\n\n      if (Array.isArray(position.value)) {\n        currentSliderDotIndex.value = pos > ((position.value[1] - position.value[0]) / 2 + position.value[0]) ? 1 : 0\n      }\n\n      hasMouseDown.value = true\n      setValueOnPos(pos)\n      moveStart(e, currentSliderDotIndex.value)\n    }\n\n    const bindEvents = () => {\n      document.addEventListener('mousemove', moving)\n      document.addEventListener('touchmove', moving, { passive: false })\n      document.addEventListener('mouseup', moveEnd)\n      document.addEventListener('mouseleave', moveEnd)\n      document.addEventListener('touchcancel', moveEnd)\n      document.addEventListener('touchend', moveEnd)\n      document.addEventListener('keydown', moveWithKeys)\n    }\n\n    const unbindEvents = () => {\n      document.removeEventListener('mousemove', moving)\n      document.removeEventListener('touchmove', moving)\n      document.removeEventListener('mouseup', moveEnd)\n      document.removeEventListener('mouseleave', moveEnd)\n      document.removeEventListener('touchcancel', moveEnd)\n      document.removeEventListener('touchend', moveEnd)\n      document.removeEventListener('keydown', moveWithKeys)\n    }\n\n    const ariaLabelIdComputed = computed(() => `aria-label-id-${generateUniqueId()}`)\n\n    const ariaAttributesComputed = computed(() => ({\n      role: 'slider',\n      'aria-valuemin': props.min,\n      'aria-valuemax': props.max,\n      'aria-label': !slots.label && !props.label ? `current slider value is ${String(props.modelValue)}` : undefined,\n      'aria-labelledby': slots.label || props.label ? ariaLabelIdComputed.value : undefined,\n      ariaOrientation: props.vertical ? 'vertical' : 'horizontal',\n      ariaDisabled: props.disabled,\n      'aria-readonly': props.readonly,\n      'aria-valuenow': !Array.isArray(props.modelValue) ? props.modelValue : undefined,\n      'aria-valuetext': Array.isArray(props.modelValue) ? String(props.modelValue) : undefined,\n    }))\n\n    onMounted(() => {\n      if (validateSlider(props.modelValue, props.step, props.min, props.max, props.range)) {\n        getStaticData()\n        bindEvents()\n      }\n    })\n\n    onBeforeUnmount(unbindEvents)\n\n    watch([\n      val,\n      () => props.step,\n      () => props.min,\n      () => props.max,\n      () => props.range,\n    ], ([value, step, min, max, range]) => {\n      validateSlider(value, step, min, max, range)\n    })\n\n    watch(hasMouseDown, (hasMouseDown) => {\n      document.documentElement.style.cursor = hasMouseDown ? 'grabbing' : ''\n    })\n\n    return {\n      getColor,\n      dot,\n      dots,\n      setItemRefByIndex,\n      orders,\n      sliderContainer,\n      val,\n      getValueByOrder,\n      sliderClass,\n      dotClass,\n      labelStyles,\n      processedStyles,\n      getPinStyles,\n      dottedStyles,\n      getDottedStyles,\n      clickOnContainer,\n      hasMouseDown,\n      trackStyles,\n      pinsCol,\n      checkActivePin,\n      isFocused,\n      isActiveDot,\n      getTrackLabel,\n      currentSliderDotIndex,\n      ariaLabelIdComputed,\n      ariaAttributesComputed,\n    }\n  },\n})\n</script>\n\n<style lang='scss'>\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-slider {\n  display: var(--va-slider-display);\n  align-items: var(--va-slider-align-items);\n  font-family: var(--va-font-family);\n\n  &__input-wrapper {\n    position: var(--va-slider-input-wrapper-position);\n    display: var(--va-slider-input-wrapper-display);\n  }\n\n  &__container {\n    position: relative;\n    display: flex;\n    align-items: center;\n    cursor: grab;\n  }\n\n  &__track {\n    position: var(--va-slider-track-position);\n    border-radius: var(--va-slider-track-border-radius);\n    transition: var(--va-slider-track-transition);\n    opacity: var(--va-slider-track-opacity);\n\n    &--active {\n      transition: 0s;\n    }\n  }\n\n  &__track--selected {\n    opacity: 1;\n  }\n\n  &__handler {\n    position: var(--va-slider-handler-position);\n    width: var(--va-slider-handler-width);\n    height: var(--va-slider-handler-height);\n    background: var(--va-slider-handler-background);\n    border: var(--va-slider-handler-border);\n    border-radius: var(--va-slider-handler-border-radius);\n    outline: var(--va-slider-handler-outline);\n    left: var(--va-slider-handler-left);\n    transition: var(--va-slider-handler-transition);\n\n    &__dot--focus {\n      transform: var(--va-slider-dot-transform);\n      display: var(--va-slider-dot-display);\n      width: var(--va-slider-dot-width);\n      height: var(--va-slider-dot-height);\n      position: var(--va-slider-dot-position);\n      border-radius: var(--va-slider-dot-border-radius);\n      opacity: var(--va-slider-dot-opacity);\n      pointer-events: var(--va-slider-dot-pointer-events);\n    }\n\n    &__dot--value {\n      transform: var(--va-slider-dot-value-transform);\n      user-select: var(--va-slider-dot-value-user-select);\n      font-size: var(--va-slider-dot-value-font-size);\n      letter-spacing: var(--va-slider-dot-value-letter-spacing);\n      line-height: var(--va-slider-dot-value-line-height);\n      font-weight: var(--va-slider-dot-value-font-weight);\n      text-transform: var(--va-slider-dot-value-text-transform);\n      white-space: var(--va-slider-dot-value-white-space);\n    }\n  }\n\n  .va-input__label {\n    user-select: var(--va-slider-input-label-user-select);\n    font-size: var(--va-slider-input-label-font-size);\n    letter-spacing: var(--va-slider-input-label-letter-spacing);\n    line-height: var(--va-slider-input-label-line-height);\n    font-weight: var(--va-slider-input-label-font-weight);\n    text-transform: var(--va-slider-input-label-text-transform);\n  }\n\n  .va-input__label--inverse {\n    user-select: var(--va-slider-input-label-inverse-user-select);\n    font-size: var(--va-slider-input-label-inverse-font-size);\n    letter-spacing: var(--va-slider-input-label-inverse-letter-spacing);\n    line-height: var(--va-slider-input-label-inverse-line-height);\n    font-weight: var(--va-slider-input-label-inverse-font-weight);\n    text-transform: var(--va-slider-input-label-inverse-text-transform);\n  }\n\n  &--grabbing {\n    .va-slider__container {\n      cursor: grabbing;\n    }\n  }\n\n  &--disabled {\n    @include va-disabled;\n\n    .va-slider__container {\n      cursor: default;\n    }\n  }\n\n  &--readonly {\n    .va-slider__container {\n      cursor: default;\n    }\n  }\n}\n\n.va-slider--horizontal {\n  .va-slider__input-wrapper {\n    flex-basis: var(--va-slider-horizontal-input-wrapper-flex-basis);\n    flex-grow: var(--va-slider-horizontal-input-wrapper-flex-grow);\n    margin-right: var(--va-slider-horizontal-input-wrapper-margin-right);\n\n    &:last-of-type {\n      margin-left: 1rem;\n    }\n  }\n\n  .va-slider {\n    &__container {\n      width: 100%;\n      height: 1.5rem;\n    }\n\n    &__track {\n      height: var(--va-slider-horizontal-track-height);\n      width: var(--va-slider-horizontal-track-width);\n    }\n\n    &__mark {\n      position: absolute;\n      width: 0.125rem;\n      height: 0.75rem;\n    }\n\n    &__handler {\n      transform: var(--va-slider-horizontal-handler-transform);\n\n      &--inactive {\n        transition: left 0.5s ease-out;\n      }\n\n      &__dot--value {\n        position: var(--va-slider-horizontal-dot-value-position);\n        top: var(--va-slider-horizontal-dot-value-top);\n        left: var(--va-slider-horizontal-dot-value-left);\n      }\n    }\n  }\n\n  .va-input__label {\n    margin-right: 1rem;\n  }\n\n  .va-input__label--inverse {\n    margin-left: 1rem;\n  }\n}\n\n.va-slider--vertical {\n  height: var(--va-slider-vertical-height);\n  padding: var(--va-slider-vertical-padding);\n  flex-direction: var(--va-slider-vertical-flex-direction);\n  align-items: var(--va-slider-vertical-align-items);\n\n  .va-input__label {\n    margin-bottom: var(--va-slider-vertical-label-margin-bottom);\n  }\n\n  .va-input__label--inverse {\n    left: var(--va-slider-vertical-label-inverse-left);\n    margin-top: var(--va-slider-vertical-label-inverse-margin-top);\n  }\n\n  .va-slider {\n    &__input-wrapper {\n      flex-basis: var(--va-slider-vertical-input-wrapper-flex-basis);\n      flex-grow: var(--va-slider-vertical-input-wrapper-flex-grow);\n      max-width: var(--va-slider-vertical-input-wrapper-max-width);\n      min-width: var(--va-slider-vertical-input-wrapper-min-width);\n      position: var(--va-slider-vertical-input-wrapper-position);\n      display: var(--va-slider-vertical-input-wrapper-display);\n\n      &:last-of-type {\n        margin-top: 1rem;\n      }\n    }\n\n    &__container {\n      height: 100%;\n      width: 0.5rem;\n    }\n\n    &__track {\n      height: var(--va-slider-vertical-track-height);\n      width: var(--va-slider-vertical-track-width);\n      bottom: var(--va-slider-vertical-track-bottom);\n    }\n\n    &__mark {\n      position: absolute;\n      width: 0.75rem;\n      height: 0.125rem;\n      left: -2px;\n    }\n\n    &__handler {\n      transform: var(--va-slider-vertical-handler-transform);\n\n      &--inactive {\n        transition: bottom 0.5s ease-out;\n      }\n\n      &__dot--value {\n        position: var(--va-slider-vertical-dot-value-position);\n        top: var(--va-slider-vertical-dot-value-top);\n        left: var(--va-slider-vertical-dot-value-left);\n      }\n    }\n  }\n}\n</style>\n"],"names":["_sfc_main","defineComponent","name","components","VaIcon","emits","props","range","type","Boolean","default","modelValue","Number","Array","trackLabel","Function","String","color","trackColor","labelColor","trackLabelVisible","min","max","step","label","invertLabel","disabled","readonly","pins","iconPrepend","iconAppend","vertical","showTrack","setup","emit","slots","getColor","getHoverColor","useColors","sliderContainer","shallowRef","dot","setItemRefByIndex","itemRefs","dots","useArrayRefs","isFocused","ref","flag","offset","size","currentValue","isArray","currentSliderDotIndex","hasMouseDown","orders","computed","pinPositionStyle","trackSizeStyle","moreToLess","val","value","lessToMore","sliderClass","useBem","__spreadProps","pick","active","horizontal","grabbing","dotClass","onFocus","inactive","labelStyles","trackStyles","backgroundColor","processedStyles","validatedValue","limitValue","val0","val1","visibility","val2","dottedStyles","isActiveDot","borderColor","get","set","gap","total","multiple","decimals","split","Math","pow","length","pinsCol","position","limit","valueLimit","index","moving","e","preventDefault","setValueOnPos","getPos","touches","moveEnd","moveWithKeys","event","includes","document","activeElement","moveDot","isRange","where","which","splice","onePinInterval","nearestPinVal","key","isActive","el","isVerticalDot0More","event2","isVerticalDot0Less","isVerticalDot1More","isVerticalDot1Less","isHorizontalDot0Less","isHorizontalDot0More","isHorizontalDot1Less","isHorizontalDot1More","_a","focus","_b","checkActivePin","pin","pinPositionStep","clientY","clientX","getStaticData","getBoundingClientRect","getValueByIndex","setCurrentValue","newValue","slider","isDiff","pixelPosition","valueRange","dotToFocus","v","round","inRange","map","a","b","JSON","stringify","ariaLabelIdComputed","generateUniqueId","ariaAttributesComputed","role","ariaOrientation","ariaDisabled","onMounted","validateSlider","addEventListener","passive","onBeforeUnmount","removeEventListener","watch","hasMouseDown2","documentElement","style","cursor","getValueByOrder","order","getPinStyles","transition","getDottedStyles","clickOnContainer","pos","touch","moveStart","getTrackLabel","class","_openBlock","_createElementBlock","_mergeProps","_ctx","$slots","append","prepend","openBlock","_hoisted_1","_renderSlot","_createCommentVNode","id","_normalizeStyle","_createTextVNode","_toDisplayString","_hoisted_3","_createVNode","_component_va_icon","$props","_createElementVNode","onMousedown","_cache","args","onMouseup","onTouchstart","_Fragment","_renderList","i","_normalizeClass","ref_for","tabindex","$event","onBlur","_normalizeProps","_guardReactiveProps","_hoisted_6","_hoisted_8"],"mappings":"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"}