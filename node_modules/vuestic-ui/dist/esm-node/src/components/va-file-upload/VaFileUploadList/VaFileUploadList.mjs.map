{"version":3,"file":"VaFileUploadList.mjs","sources":["../../../../../../src/components/va-file-upload/VaFileUploadList/VaFileUploadList.vue"],"sourcesContent":["<template>\n  <va-list\n    class=\"va-file-upload-list\"\n    :role=\"type !== 'single' ? 'list' : undefined\"\n    :class=\"`va-file-upload-list--${type}`\"\n  >\n    <template v-if=\"type === 'list'\">\n      <va-file-upload-list-item\n        v-for=\"(file, index) in filesList\"\n        :key=\"file.name\"\n        :file=\"file\"\n        :color=\"color\"\n        role=\"listitem\"\n        @remove=\"$emit('remove', index)\"\n      />\n    </template>\n    <template v-if=\"type === 'gallery'\">\n      <va-file-upload-gallery-item\n        v-for=\"(file, index) in filesList\"\n        :key=\"file.name\"\n        :file=\"file\"\n        :color=\"color\"\n        role=\"listitem\"\n        @remove=\"$emit('remove', index)\"\n      />\n    </template>\n    <template v-if=\"type === 'single' && filesList.length\">\n      <va-file-upload-single-item\n        :file=\"filesList[filesList.length - 1]\"\n        @remove=\"$emit('removeSingle')\"\n      />\n    </template>\n  </va-list>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed } from 'vue'\n\nimport { VaList } from '../../index'\nimport { VaFileUploadListItem } from '../VaFileUploadListItem'\nimport { VaFileUploadGalleryItem } from '../VaFileUploadGalleryItem'\nimport { VaFileUploadSingleItem } from '../VaFileUploadSingleItem'\n\nimport type { VaFile, ConvertedFile } from '../types'\n\nexport default defineComponent({\n  name: 'VaFileUploadList',\n  components: {\n    VaList,\n    VaFileUploadListItem,\n    VaFileUploadGalleryItem,\n    VaFileUploadSingleItem,\n  },\n  emits: ['remove', 'removeSingle'],\n  props: {\n    type: { type: String, default: '' },\n    files: { type: Array as PropType<VaFile[]>, default: null },\n    color: { type: String, default: 'success' },\n  },\n  setup (props) {\n    const filesList = computed(() => props.files.map(convertFile))\n\n    const convertFile = (file: VaFile): ConvertedFile => ({\n      name: file.name || file.url || '',\n      size: formatSize(file.size),\n      date: formatDate(new Date()),\n      image: file,\n    })\n\n    const formatSize = (bytes?: number) => {\n      if (bytes === 0) { return '0 Bytes' }\n      if (!bytes) { return '' }\n\n      const k = 1024\n      const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n    }\n\n    const formatDate = (date = new Date()) => {\n      return date.toLocaleDateString('en-US', {\n        hour: '2-digit',\n        minute: '2-digit',\n        month: 'short',\n        day: 'numeric',\n        year: 'numeric',\n      })\n    }\n\n    return {\n      filesList,\n    }\n  },\n})\n</script>\n\n<style lang='scss'>\n.va-file-upload-list {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 0 1.5rem;\n\n  &--gallery {\n    padding-bottom: 0.5rem;\n  }\n}\n</style>\n"],"names":["defineComponent","name","components","VaList","VaFileUploadListItem","VaFileUploadGalleryItem","VaFileUploadSingleItem","emits","props","type","String","default","files","Array","color","setup","filesList","computed","map","convertFile","file","url","size","formatSize","date","formatDate","Date","image","bytes","i","Math","floor","log","parseFloat","pow","toFixed","toLocaleDateString","hour","minute","month","day","year","_createBlock","_component_va_list","class","_normalizeClass","_ctx","role","openBlock","_createElementBlock","_Fragment","index","_component_va_file_upload_list_item","key","onRemove","$event","$emit","_renderList","_component_va_file_upload_gallery_item","length","_openBlock","_component_va_file_upload_single_item","_cache","_createCommentVNode"],"mappings":"6hFA6CkBA,EAAa,CAC7BC,KAAM,mBACNC,WAAY,CACVC,OAAAA,EACAC,qBAAAA,EACAC,wBAAAA,EACAC,uBAAAA,GAEFC,MAAO,CAAC,SAAU,gBAClBC,MAAO,CACLC,KAAM,CAAEA,KAAMC,OAAQC,QAAS,IAC/BC,MAAO,CAAEH,KAAMI,MAA6BF,QAAS,MACrDG,MAAO,CAAEL,KAAMC,OAAQC,QAAS,YAElCI,MAAOP,GACL,MAAMQ,EAAYC,GAAS,IAAMT,EAAMI,MAAMM,IAAIC,eAE3CA,YAAeC,IAAiC,CACpDnB,KAAMmB,EAAKnB,MAAQmB,EAAKC,KAAO,GAC/BC,KAAMC,WAAWH,EAAKE,MACtBE,KAAMC,WAAW,IAAIC,MACrBC,MAAOP,IAGHG,WAAcK,IAClB,GAAc,IAAVA,EAAsB,MAAA,UAC1B,IAAKA,EAAgB,MAAA,GAErB,MAEMC,EAAIC,KAAKC,MAAMD,KAAKE,IAAIJ,GAASE,KAAKE,IAFlC,OAIV,OAAOC,YAAYL,EAAQE,KAAKI,IAJtB,KAI6BL,IAAIM,QAAQ,IAAM,IAH3C,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAGGN,IAGjEJ,WAAa,CAACD,EAAO,IAAIE,OACtBF,EAAKY,mBAAmB,QAAS,CACtCC,KAAM,UACNC,OAAQ,UACRC,MAAO,QACPC,IAAK,UACLC,KAAM,YAIH,MAAA,CACLzB,UAAAA,wLA1FJ0B,EA+BUC,EAAA,CA9BRC,MAAKC,EAAA,CAAC,sBAAqB,wBAEKC,EAAIrC,SADnCsC,KAAU,WAAJD,OAA6B,YAAA,GAAA,YAGpC,IASW,CATS,SAAJA,QACdE,GAAA,GAAAC,EAOEC,YANwBJ,EAAS9B,WAAA,CAAzBI,EAAM+B,SADhBT,EAOEU,EAAA,CALCC,IAAKjC,EAAKnB,KACVmB,KAAAA,EACAN,MAAOgC,EAAAhC,MACRiC,KAAK,WACJO,SAAMC,GAAET,EAAKU,MAAA,SAAWL,IAAK,KAAA,EAAA,CAAA,OAAA,QAAA,+BAGd,YAAJL,EAAArC,YACdwC,EAOEC,EAAA,CAAAG,IAAA,GAAAI,EANwBX,EAAS9B,WAAA,CAAzBI,EAAM+B,SADhBT,EAOEgB,EAAA,CALCL,IAAKjC,EAAKnB,KACVmB,KAAAA,EACAN,MAAOgC,EAAAhC,MACRiC,KAAK,WACJO,SAAMC,GAAET,EAAKU,MAAA,SAAWL,IAAK,KAAA,EAAA,CAAA,OAAA,QAAA,+BAGd,WAAJL,EAAIrC,MAAiBqC,EAAU9B,UAAA2C,QAAAC,IAC7ClB,EAGEmB,EAAA,CAAAR,IAAA,EAFCjC,KAAM0B,EAAA9B,UAAU8B,YAAUa,OAAM,GAChCL,SAAMQ,eAAEhB,EAAKU,MAAA,kBAAA,KAAA,EAAA,CAAA,UAAAO,EAAA,IAAA"}