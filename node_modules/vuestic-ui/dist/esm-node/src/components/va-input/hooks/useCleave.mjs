var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,__defNormalProp=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,__spreadValues=(e,l)=>{for(var u in l||(l={}))t.call(l,u)&&__defNormalProp(e,u,l[u]);if(a)for(var u of a(l))r.call(l,u)&&__defNormalProp(e,u,l[u]);return e};import{ref as l,onMounted as u,onBeforeUnmount as o,watch as n,computed as m}from"vue";import d from"cleave.js";const s={creditCard:{creditCard:!0},date:{date:!0,datePattern:["d","m","Y"]},time:{time:!0,timePattern:["h","m"],timeFormat:"24"},numeral:{numeral:!0,numeralThousandsGroupStyle:"thousand"}},p={mask:{type:[String,Object],default:""},returnRaw:{type:Boolean,default:!0},modelValue:{type:String}},useCleave=(e,a,t)=>{const r=l(),destroyCleave=()=>{r.value&&r.value.destroy()},initCleave=()=>{var t;(destroyCleave(),e.value)&&(r.value=new d(e.value,"string"==typeof(t=a.mask)?s[t]?__spreadValues({},s[t]):{}:__spreadValues({},t)))};u((()=>{initCleave()})),o((()=>{destroyCleave()})),n((()=>[e.value,a.mask]),(()=>{initCleave()}));const p=m((()=>r.value&&a.returnRaw&&a.modelValue===r.value.getRawValue()?r.value.getFormattedValue():a.modelValue));return{cleave:r,computedValue:p,onInput:e=>{const l=e.target.value;("string"===a.mask||Object.keys(a.mask).length)&&r.value&&(r.value.setRawValue(l),a.returnRaw)?t("update:modelValue",r.value.getRawValue()):t("update:modelValue",l)}}};export{useCleave as a,p as u};
//# sourceMappingURL=useCleave.mjs.map
