var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,__defNormalProp=(r,t,a)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,__spreadValues=(e,r)=>{for(var t in r||(r={}))o.call(r,t)&&__defNormalProp(e,t,r[t]);if(a)for(var t of a(r))l.call(r,t)&&__defNormalProp(e,t,r[t]);return e};import{defineComponent as s,shallowRef as u,ref as i,computed as m,onMounted as p,watch as n,nextTick as c,openBlock as v,createElementBlock as d,mergeProps as b}from"vue";import{p as f}from"../../../../../vendor.mjs";import"colortranslator";import{u as w}from"../../../../composables/useEmitProxy.mjs";import{u as x}from"../../../../composables/useForm.mjs";import"../../../../composables/useDropdown.mjs";import{u as y}from"./useTextareaRowHeight.mjs";import{_ as g}from"../../../../../plugin-vue_export-helper.mjs";const positiveNumberValidator=e=>{if(e>0&&(0|e)===e)return!0;throw new Error(`\`minRows|maxRows\` must be a positive integer greater than 0, but ${e} is provided`)},{createEmits:h,createListeners:j}=w(["input","change","click","update:modelValue"]),R=s({name:"VaTextarea",props:(O=__spreadValues({},x),P={modelValue:{type:[String,Number],default:""},placeholder:{type:String},autosize:{type:Boolean,default:!1},minRows:{type:Number,default:1,validator:positiveNumberValidator},maxRows:{type:Number,validator:positiveNumberValidator}},r(O,t(P))),emits:h(),setup(e,{emit:r}){const t=u(),a=i(-1),o=i(-1),{calculateRowHeight:l,calculateHeight:s}=y(t),v=m((()=>Boolean((e.autosize||e.maxRows||1!==e.minRows)&&t.value))),updateHeight=()=>{v.value&&(o.value=s())};p((()=>{v.value&&(a.value=l()),updateHeight()})),n((()=>e.modelValue),(()=>{c(updateHeight)}));const d=m((()=>({minHeight:a.value*e.minRows+"px",maxHeight:e.maxRows?a.value*e.maxRows+"px":void 0,height:o.value+"px",resize:v.value?void 0:"none"}))),b=m((()=>__spreadValues({},f(e,["disabled","readonly","placeholder","ariaLabel"]))));return{textarea:t,computedStyle:d,listeners:j(r),computedProps:b,focus:()=>{var e;null==(e=t.value)||e.focus()},blur:()=>{var e;null==(e=t.value)||e.blur()}}}});var O,P;const V=["value"];var H=g(R,[["render",function _sfc_render(e,r,t,a,o,l){return v(),d("textarea",b({ref:"textarea",class:"textarea",style:e.computedStyle},__spreadValues(__spreadValues({},e.computedProps),e.listeners),{value:e.modelValue}),null,16,V)}]]);export{H as V};

import './VaTextarea.css';
//# sourceMappingURL=VaTextarea.mjs.map
