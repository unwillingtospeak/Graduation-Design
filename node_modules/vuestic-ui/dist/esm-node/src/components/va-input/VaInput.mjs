var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,__defNormalProp=(r,t,o)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,__spreadValues=(e,r)=>{for(var t in r||(r={}))a.call(r,t)&&__defNormalProp(e,t,r[t]);if(o)for(var t of o(r))s.call(r,t)&&__defNormalProp(e,t,r[t]);return e},__spreadProps=(e,o)=>r(e,t(o));import{defineComponent as l,shallowRef as n,computed as p,toRefs as u,resolveComponent as i,openBlock as c,createBlock as d,mergeProps as m,createSlots as b,withCtx as f,withModifiers as y,withKeys as v,createCommentVNode as g,renderSlot as k,normalizeProps as x,guardReactiveProps as V,createElementBlock as j,renderList as h}from"vue";import{o as C,p as $}from"../../../vendor.mjs";import{e as _,f as I}from"../../utils/child-props.mjs";import{u as E,a as S,b as B}from"../../composables/useClearable.mjs";import"colortranslator";import{u as L}from"../../composables/useEmitProxy.mjs";import{u as P}from"../../composables/useFocusDeep.mjs";import{u as w}from"../../composables/useForm.mjs";import"../../composables/useDropdown.mjs";import{u as O,a as M,b as A}from"../../composables/useValidation.mjs";import{u as F,a as q}from"./hooks/useCleave.mjs";import{V as D}from"./components/VaInputWrapper/VaInputWrapper.mjs";import{V as T}from"./components/VaTextarea/VaTextarea.mjs";import{V as N}from"../va-icon/VaIcon.mjs";import{_ as W}from"../../../plugin-vue_export-helper.mjs";const K=_(T),{createEmits:R,createListeners:z}=L(["change","keyup","keypress","keydown","focus","blur"]),{createEmits:G,createListeners:H}=L(["click","click-prepend","click-append","click-prepend-inner","click-append-inner"]),J=l({name:"VaInput",components:{VaInputWrapper:D,VaTextarea:T,VaIcon:N},props:__spreadProps(__spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({},w),O),E),F),K),{placeholder:{type:String,default:""},tabindex:{type:Number,default:0},modelValue:{type:[String,Number],default:""},label:{type:String,default:""},type:{type:String,default:"text"},loading:{type:Boolean,default:!1},inputClass:{type:String,default:""},pattern:{type:String},inputmode:{type:String,default:"text"},ariaLabel:{type:String,default:void 0},counter:{type:Boolean,default:!1},maxLength:{type:Number,default:void 0},color:{type:String,default:"primary"},outline:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},requiredMark:{type:Boolean,default:!1}}),emits:["update:modelValue",...M,...S,...R(),...G()],inheritAttrs:!1,setup(e,{emit:r,attrs:t,slots:o}){const a=n(),s=P(),reset=()=>{r("update:modelValue",e.clearValue),r("clear")},focus=()=>{var e;null==(e=a.value)||e.focus()},l=p((()=>{const e=["icon"];return Object.keys(o).filter((r=>!e.includes(r)))})),{computedError:i,computedErrorMessages:c,listeners:d,validationAriaAttributes:m}=A(e,r,reset,focus),{modelValue:b}=u(e),{canBeCleared:f,clearIconProps:y}=B(e,b,a,i),v=p((()=>"textarea"===e.type?void 0:a.value)),{computedValue:g,onInput:k}=q(v,e,r),x=z(r),V=__spreadProps(__spreadValues({},x),{onFocus:e=>{x.onFocus(e),d.onFocus()},onBlur:e=>{x.onBlur(e),d.onBlur()},onInput:k}),j=p((()=>e.disabled?-1:e.tabindex)),h=p((()=>__spreadValues(__spreadValues({ariaLabel:e.ariaLabel||e.label,ariaRequired:e.requiredMark,tabindex:j.value,class:e.inputClass,ariaDisabled:e.disabled,ariaReadonly:e.readonly},m.value),C(t,["class","style"])))),_=p((()=>__spreadValues(__spreadValues({},h.value),$(e,["type","disabled","readonly","placeholder","pattern","inputmode"])))),E=p((()=>e.counter&&"string"==typeof g.value?g.value.length:void 0));return{input:a,inputEvents:V,valueLengthComputed:E,computedChildAttributes:h,computedInputAttributes:_,textareaProps:I(e,K),computedValue:g,tabIndexComputed:j,computedError:i,computedErrorMessages:c,isFocused:s,canBeCleared:f,clearIconProps:y,fieldListeners:H(r),filterSlots:l,reset:reset,focus:focus,blur:()=>{var e;null==(e=a.value)||e.blur()}}}}),Q=["value"];var U=W(J,[["render",function _sfc_render(e,r,t,o,a,s){const l=i("va-icon"),n=i("VaTextarea"),p=i("va-input-wrapper");return c(),d(p,m(e.fieldListeners,{class:["va-input",e.$attrs.class],style:e.$attrs.style,color:e.$props.color,readonly:e.$props.readonly,disabled:e.$props.disabled,success:e.$props.success,messages:e.$props.messages,error:e.computedError,"error-messages":e.computedErrorMessages,"error-count":e.errorCount,label:e.$props.label,bordered:e.$props.bordered,outline:e.$props.outline,requiredMark:e.$props.requiredMark,focused:e.isFocused,"counter-value":e.valueLengthComputed,"max-length":e.$props.maxLength,onClick:e.focus}),b({icon:f((r=>[e.canBeCleared?(c(),d(l,m({key:0,role:"button","aria-hidden":"false","aria-label":"reset",class:"va-input__icons__reset",tabindex:e.tabIndexComputed},e.clearIconProps,{onClick:y(e.reset,["stop"]),onKeydown:[v(y(e.reset,["stop"]),["enter"]),v(y(e.reset,["stop"]),["space"])]}),null,16,["tabindex","onClick","onKeydown"])):g("",!0),e.$props.loading?(c(),d(l,{key:1,color:e.$props.color,size:"small",name:"loop",spin:"counter-clockwise"},null,8,["color"])):g("",!0),k(e.$slots,"icon",x(V(r)))])),default:f((()=>["textarea"!==e.type||e.$slots.content?e.$slots.content?g("",!0):(c(),j("input",m({key:1,ref:"input",class:"va-input__content__input"},__spreadValues(__spreadValues({},e.computedInputAttributes),e.inputEvents),{value:e.computedValue}),null,16,Q)):(c(),d(n,m({key:0,ref:"input"},__spreadValues(__spreadValues(__spreadValues({},e.computedChildAttributes),e.textareaProps),e.inputEvents),{class:"va-input__content__input"}),null,16))])),_:2},[h(e.filterSlots,(r=>({name:r,fn:f((t=>[k(e.$slots,r,x(V(t)))]))})))]),1040,["class","style","color","readonly","disabled","success","messages","error","error-messages","error-count","label","bordered","outline","requiredMark","focused","counter-value","max-length","onClick"])}]]);export{U as _};
//# sourceMappingURL=VaInput.mjs.map
