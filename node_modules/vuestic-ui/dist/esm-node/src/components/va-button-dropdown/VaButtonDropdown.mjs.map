{"version":3,"file":"VaButtonDropdown.mjs","sources":["../../../../../src/components/va-button-dropdown/VaButtonDropdown.vue"],"sourcesContent":["<template>\n  <div :class=\"computedClass\">\n    <va-dropdown\n      v-if=\"!$props.split\"\n      :disabled=\"$props.disabled\"\n      :placement=\"$props.placement\"\n      :offset=\"$props.offset\"\n      :keep-anchor-width=\"$props.keepAnchorWidth\"\n      :close-on-content-click=\"$props.closeOnContentClick\"\n      :stateful=\"$props.stateful\"\n      v-model=\"valueComputed\"\n    >\n      <template #anchor>\n        <va-button\n          :disabled=\"$props.disabled\"\n          :round=\"!$props.label && !$slots.label\"\n          v-bind=\"{ ...computedButtonIcons, ...computedViewStyles }\"\n          v-on=\"listeners\"\n          @keydown.esc.prevent=\"hideDropdown\"\n        >\n          <slot name=\"label\">\n            {{ label }}\n          </slot>\n        </va-button>\n      </template>\n\n      <va-dropdown-content>\n        <slot />\n      </va-dropdown-content>\n    </va-dropdown>\n\n    <va-button-group\n      v-else\n      :class=\"{ 'va-button-group__left-icon': $props.leftIcon }\"\n      v-bind=\"computedViewStyles\"\n    >\n      <va-button\n        v-if=\"!$props.leftIcon\"\n        :disabled=\"$props.disabled || $props.disableButton\"\n        v-bind=\"computedMainButtonProps\"\n        v-on=\"mainButtonListeners\"\n      >\n        <slot name=\"label\">\n          {{ label }}\n        </slot>\n      </va-button>\n\n      <va-dropdown\n        :disabled=\"$props.disabled || $props.disableDropdown\"\n        :placement=\"$props.placement\"\n        :offset=\"$props.offset\"\n        :stateful=\"$props.stateful\"\n        v-model=\"valueComputed\"\n      >\n        <template #anchor>\n          <va-button\n            aria-label=\"toggle dropdown\"\n            :disabled=\"$props.disabled || $props.disableDropdown\"\n            :icon=\"computedIcon\"\n            v-on=\"listeners\"\n            @keydown.esc.prevent=\"hideDropdown\"\n          />\n        </template>\n        <va-dropdown-content>\n          <slot />\n        </va-dropdown-content>\n      </va-dropdown>\n\n      <va-button\n        v-if=\"$props.leftIcon\"\n        :disabled=\"$props.disabled || $props.disableButton\"\n        v-bind=\"computedMainButtonProps\"\n        v-on=\"mainButtonListeners\"\n      >\n        <slot name=\"label\">\n          {{ label }}\n        </slot>\n      </va-button>\n    </va-button-group>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType } from 'vue'\nimport pick from 'lodash/pick.js'\n\nimport { useStateful, useStatefulProps, useEmitProxy, Placement, placementsPositions } from '../../composables'\n\nimport { VaDropdown, VaDropdownContent } from '../va-dropdown'\nimport { VaButton } from '../va-button'\nimport { VaButtonGroup } from '../va-button-group'\n\nconst { createEmits, createVOnListeners: createListeners } = useEmitProxy(\n  ['click'],\n)\n\nconst { createEmits: createMainButtonEmits, createVOnListeners: createMainButtonListeners } = useEmitProxy(\n  [{ listen: 'click', emit: 'main-button-click' }],\n)\n\nconst componentName = 'VaButtonDropdown'\n\nexport default defineComponent({\n  name: componentName,\n\n  components: {\n    VaButtonGroup,\n    VaButton,\n    VaDropdown,\n    VaDropdownContent,\n  },\n\n  emits: ['update:modelValue', ...createEmits(), ...createMainButtonEmits()],\n\n  props: {\n    ...useStatefulProps,\n    modelValue: { type: Boolean, default: false },\n    stateful: { type: Boolean, default: true },\n\n    color: { type: String, default: 'primary' },\n    textColor: { type: String, default: undefined },\n    size: {\n      type: String as PropType<'medium' | 'small' | 'large'>,\n      default: 'medium',\n      validator: (value: string) => ['medium', 'small', 'large'].includes(value),\n    },\n    outline: { type: Boolean, default: false },\n    flat: { type: Boolean, default: false },\n    rounded: { type: Boolean, default: true },\n    gradient: { type: Boolean, default: undefined },\n\n    icon: { type: String, default: 'expand_more' },\n    openedIcon: { type: String, default: 'expand_less' },\n    hideIcon: { type: Boolean, default: false },\n    leftIcon: { type: Boolean, default: false },\n\n    disableButton: { type: Boolean, default: false },\n    disableDropdown: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n\n    placement: {\n      type: String as PropType<Placement>,\n      default: 'bottom',\n      validator: (placement: string) => placementsPositions.includes(placement),\n    },\n    offset: { type: [Number, Array] as PropType<number | [number, number]>, default: 2 },\n    keepAnchorWidth: { type: Boolean, default: false },\n    closeOnContentClick: { type: Boolean, default: true },\n\n    split: { type: Boolean },\n    splitTo: { type: String, default: '' },\n    splitHref: { type: String, default: '' },\n\n    loading: { type: Boolean, default: false },\n    label: { type: String },\n  },\n\n  setup (props, { emit, slots }) {\n    const { valueComputed } = useStateful(props, emit)\n\n    const computedIcon = computed<string>(() => {\n      return valueComputed.value ? props.openedIcon : props.icon\n    })\n\n    const computedClass = computed(() => ({\n      'va-button-dropdown': true,\n      'va-button-dropdown--split': props.split,\n      'va-button-dropdown--normal': props.size === 'medium',\n      'va-button-dropdown--large': props.size === 'large',\n      'va-button-dropdown--small': props.size === 'small',\n    }))\n\n    const computedButtonIcons = computed(() => {\n      const propName = (props.label || slots.label) && !props.leftIcon ? 'icon-right' : 'icon'\n      return props.hideIcon ? {} : { [propName]: computedIcon.value }\n    })\n\n    const computedViewStyles = computed(\n      () => pick(props, ['outline', 'gradient', 'rounded', 'flat', 'size', 'color']),\n    )\n\n    const computedMainButtonProps = computed(() => ({\n      to: props.splitTo,\n      href: props.splitHref,\n      loading: props.loading,\n    }))\n\n    const hideDropdown = () => { valueComputed.value = false }\n\n    return {\n      hideDropdown,\n      valueComputed,\n      computedIcon,\n      computedClass,\n      listeners: createListeners(emit),\n      mainButtonListeners: createMainButtonListeners(emit),\n      computedButtonIcons,\n      computedViewStyles,\n      computedMainButtonProps,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n\n.va-button-dropdown {\n  display: inline-block;\n  font-family: var(--va-font-family);\n\n  .va-button {\n    margin: var(--va-button-dropdown-button-margin);\n  }\n\n  &--split {\n    .va-dropdown {\n      .va-dropdown__anchor {\n        margin: var(--va-button-dropdown-button-margin);\n      }\n    }\n\n    .va-button-group__left-icon {\n      .va-dropdown {\n        .va-button {\n          border-top-right-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n      }\n\n      > .va-button {\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n        border-left: none;\n      }\n    }\n\n    :not(.va-button-group__left-icon) {\n      .va-dropdown {\n        .va-button {\n          border-top-left-radius: 0;\n          border-bottom-left-radius: 0;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"names":["createEmits","createVOnListeners","createListeners","useEmitProxy","createMainButtonEmits","createMainButtonListeners","listen","emit","defineComponent","name","components","VaButtonGroup","VaButton","VaDropdown","VaDropdownContent","emits","props","useStatefulProps","modelValue","type","Boolean","default","stateful","color","String","textColor","size","validator","value","includes","outline","flat","rounded","gradient","icon","openedIcon","hideIcon","leftIcon","disableButton","disableDropdown","disabled","placement","placementsPositions","offset","Number","Array","keepAnchorWidth","closeOnContentClick","split","splitTo","splitHref","loading","label","setup","slots","valueComputed","useStateful","computedIcon","computed","computedClass","computedButtonIcons","propName","computedViewStyles","pick","computedMainButtonProps","to","href","hideDropdown","listeners","mainButtonListeners","_createElementBlock","class","_normalizeClass","_ctx","$props","_openBlock","_createBlock","_component_va_button_group","_mergeProps","key","_withCtx","_component_va_button","_toHandlers","_renderSlot","_createTextVNode","_toDisplayString","_createVNode","_component_va_dropdown","_cache","$event","anchor","onKeydown","_withKeys","_component_va_dropdown_content","$slots","round","__spreadValues"],"mappings":"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"}