import{defineComponent as e,shallowRef as t,watch as l,onMounted as o,nextTick as a,openBlock as r,createElementBlock as m,withKeys as i,withModifiers as c,Fragment as s,renderList as n,normalizeClass as u,renderSlot as v,normalizeProps as p,guardReactiveProps as d,createTextVNode as f,toDisplayString as h}from"vue";import{d as k}from"../../../../../vendor.mjs";import{u as x,a as I}from"../../../../composables/useFocus.mjs";import"colortranslator";import"../../../../composables/useDropdown.mjs";import{u as g}from"../../../../composables/useSyncProp.mjs";import{_ as b}from"../../../../../plugin-vue_export-helper.mjs";const C=e({name:"VaTimePickerColumn",props:{items:{type:Array,default:()=>[]},activeItemIndex:{type:Number,default:0},cellHeight:{type:Number,default:30}},emits:["item-selected","update:activeItemIndex",...x],setup(e,{emit:r}){const m=t(),{focus:i,blur:c}=I(m,r),[s]=g("activeItemIndex",e,r);l(s,(e=>{scrollTo(e)})),o((()=>scrollTo(s.value,!1)));const scrollTo=(t,l=!0)=>{a((()=>{m.value.scrollTo({behavior:l?"smooth":"auto",top:t*e.cellHeight})}))},n=k((()=>{m.value&&-1!==s.value&&(s.value=(()=>{const t=m.value.scrollTop,l=Math.max((t-t%e.cellHeight)/e.cellHeight,t/e.cellHeight);return s.value*e.cellHeight<t?Math.ceil(l):s.value*e.cellHeight>t?Math.floor(l):Math.round(l)})())}),200);return{rootElement:m,makeActiveNext:t=>{s.value=(s.value+(t||1))%e.items.length,a((()=>scrollTo(s.value)))},makeActivePrev:t=>{s.value=(s.value-(t||1)+e.items.length)%e.items.length,a((()=>scrollTo(s.value)))},makeActiveByIndex:e=>{s.value=e,a((()=>scrollTo(s.value)))},onScroll:n,onCellClick:e=>{s.value=e},formatCell:e=>Number.isInteger(e)?e<10?`0${e}`:`${e}`:e,focus:i,blur:c}}}),y=["onClick"];var A=b(C,[["render",function _sfc_render(e,t,l,o,a,k){return r(),m("div",{ref:"rootElement",tabindex:"0",class:"va-time-picker-column",onKeydown:[t[0]||(t[0]=i(c((t=>e.makeActiveNext()),["stop","prevent"]),["down"])),t[1]||(t[1]=i(c((t=>e.makeActiveNext(5)),["stop","prevent"]),["space"])),t[2]||(t[2]=i(c((t=>e.makeActivePrev()),["stop","prevent"]),["up"]))],onScrollPassive:t[3]||(t[3]=(...t)=>e.onScroll&&e.onScroll(...t)),onTouchmovePassive:t[4]||(t[4]=(...t)=>e.onScroll&&e.onScroll(...t))},[(r(!0),m(s,null,n(e.items,((t,l)=>(r(),m("div",{key:t,class:u(["va-time-picker-cell",{"va-time-picker-cell--active":l===e.$props.activeItemIndex}]),onClick:t=>e.onCellClick(l)},[v(e.$slots,"cell",p(d({item:t,index:l,activeItemIndex:e.activeItemIndex,items:e.items,formattedItem:e.formatCell(t)})),(()=>[f(h(e.formatCell(t)),1)]))],10,y)))),128))],544)}]]);export{A as _};

import './VaTimePickerColumn.css';
//# sourceMappingURL=VaTimePickerColumn.mjs.map
