var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,o,l)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[o]=l,__spreadValues=(e,t)=>{for(var o in t||(t={}))s.call(t,o)&&__defNormalProp(e,o,t[o]);if(l)for(var o of l(t))r.call(t,o)&&__defNormalProp(e,o,t[o]);return e},__spreadProps=(e,l)=>t(e,o(l));import{defineComponent as a,ref as i,computed as u,resolveComponent as m,openBlock as n,createElementBlock as p,normalizeClass as c,normalizeStyle as v,Fragment as d,renderList as f,createBlock as b,withKeys as h,withModifiers as y}from"vue";import{u as g}from"./hooks/useTimePicker.mjs";import{V as x}from"./components/VaTimePickerColumn/index.mjs";import{u as C}from"../../composables/useArrayRefs.mjs";import"../../../vendor.mjs";import"colortranslator";import{u as I}from"../../composables/useCSSVariables.mjs";import{u as P,a as j}from"../../composables/useForm.mjs";import"../../composables/useDropdown.mjs";import{a as k,u as F,b as O}from"../../composables/useStateful.mjs";import{_ as w}from"../../../plugin-vue_export-helper.mjs";var S=w(a({name:"VaTimePicker",components:{VaTimePickerColumn:x},props:__spreadProps(__spreadValues(__spreadValues({},k),P),{modelValue:{type:Date,required:!1},ampm:{type:Boolean,default:!1},hidePeriodSwitch:{type:Boolean,default:!1},periodUpdatesModelValue:{type:Boolean,default:!0},view:{type:String,default:"minutes"},hoursFilter:{type:Function},minutesFilter:{type:Function},secondsFilter:{type:Function},framed:{type:Boolean,default:!1},cellHeight:{type:Number,default:30},visibleCellsCount:{type:Number,default:7}}),emits:F,setup(e,{emit:t}){const{valueComputed:o}=O(e,t),{columns:l,isPM:s}=g(e,o),{setItemRef:r,itemRefs:a}=C(),m=i(),focus=(e=0)=>{var t;null==(t=a.value[e])||t.focus()},{computedClasses:n}=j("va-time-picker",e),p=u((()=>__spreadProps(__spreadValues({},n),{"va-time-picker--framed":e.framed}))),c=I("va-time-picker",(()=>{const t=(e.visibleCellsCount-1)/2*e.cellHeight;return{height:e.cellHeight*e.visibleCellsCount+"px","cell-height":`${e.cellHeight}px`,"column-gap-height":`${t}px`}}));return{columns:l,computedStyles:c,computedClasses:p,isPM:s,pickers:a,setItemRef:r,focusNext:()=>{const e=((null==m?void 0:m.value)||0)+1;m.value=e%l.value.length,focus(m.value)},focusPrev:()=>{const e=((null==m?void 0:m.value)||0)-1+l.value.length;m.value=e%l.value.length,focus(m.value)},activeColumnIndex:m,focus:focus,blur:e=>{var t;e?null==(t=a.value[e])||t.blur():a.value.forEach((e=>null==e?void 0:e.blur()))}}}}),[["render",function _sfc_render(e,t,o,l,s,r){const a=m("VaTimePickerColumn");return n(),p("div",{class:c(["va-time-picker",e.computedClasses]),style:v(e.computedStyles)},[(n(!0),p(d,null,f(e.columns,((o,l)=>(n(),b(a,{key:l,ref_for:!0,ref:e.setItemRef,items:o.items,tabindex:e.disabled?-1:0,"cell-height":e.$props.cellHeight,activeItemIndex:o.activeItem.value,"onUpdate:activeItemIndex":e=>o.activeItem.value=e,onKeydown:[t[0]||(t[0]=h(y((t=>e.focusNext()),["stop","prevent"]),["right"])),t[1]||(t[1]=h(y((t=>e.focusNext()),["exact","stop","prevent"]),["tab"])),t[2]||(t[2]=h(y((t=>e.focusPrev()),["stop","prevent"]),["left"])),t[3]||(t[3]=h(y((t=>e.focusPrev()),["shift","stop","prevent"]),["tab"]))],onFocus:t=>e.activeColumnIndex=l},null,8,["items","tabindex","cell-height","activeItemIndex","onUpdate:activeItemIndex","onFocus"])))),128))],6)}]]);export{S as _};

import './VaTimePicker.css';
//# sourceMappingURL=VaTimePicker.mjs.map
