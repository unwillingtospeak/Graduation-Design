import{defineComponent as e,ref as a,provide as o,onMounted as t,inject as l,nextTick as r,onUnmounted as n,openBlock as u,createBlock as i,resolveDynamicComponent as s,withCtx as d,renderSlot as v}from"vue";import{F as f}from"./consts.mjs";import{_ as c}from"../../../plugin-vue_export-helper.mjs";const isVaForm=e=>!!e.focusInvalid;var m=c(e({name:"VaForm",emits:["validation"],props:{autofocus:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(e,{emit:u}){const i=a([]),parentFormProvider=()=>l(f,void 0);o(f,{onChildMounted:e=>childMountedHandler(e),onChildUnmounted:e=>childUnmountedHandler(e)});const childMountedHandler=e=>{i.value.push(e)},childUnmountedHandler=e=>{i.value=i.value.filter((a=>a!==e))},focus=()=>{var e;null==(e=i.value.find((({focus:e})=>e)))||e.focus()},s={reset:()=>{i.value.filter((({reset:e})=>e)).forEach((e=>{e.reset()}))},resetValidation:()=>{i.value.filter((({resetValidation:e})=>e)).forEach((e=>{e.resetValidation()}))},focus:focus,focusInvalid:()=>{const e=i.value.find((e=>!isVaForm(e)&&e.hasError()));e?e.focus():i.value.forEach((e=>isVaForm(e)&&e.focusInvalid()))},validate:()=>{const e=i.value.filter((({validate:e})=>e)).map((e=>e.validate())).every((e=>e));return u("validation",e),e}};return t((()=>{var a,o;null==(o=null==(a=parentFormProvider())?void 0:a.onChildMounted)||o.call(a,s),e.autofocus&&r(focus)})),n((()=>{var e,a;null==(a=null==(e=parentFormProvider())?void 0:e.onChildUnmounted)||a.call(e,s)})),s}}),[["render",function _sfc_render(e,a,o,t,l,r){return u(),i(s(e.tag),{class:"va-form"},{default:d((()=>[v(e.$slots,"default")])),_:3})}]]);export{m as _};

import './VaForm.css';
//# sourceMappingURL=VaForm.mjs.map
