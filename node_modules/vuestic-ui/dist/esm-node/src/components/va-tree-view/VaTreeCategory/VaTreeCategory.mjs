import{defineComponent as e,computed as o,ref as a,inject as r,watch as t,provide as l,onMounted as n,onBeforeUnmount as s,nextTick as c,resolveComponent as i,openBlock as d,createElementBlock as p,createElementVNode as u,createVNode as v,renderSlot as m,createCommentVNode as h,toDisplayString as g}from"vue";import{S as _}from"../SquareWithIcon/SquareWithIcon.mjs";import{V as y}from"../../va-icon/VaIcon.mjs";import"../../../../vendor.mjs";import{u as C}from"../../../composables/useColors.mjs";import"../../../composables/useDropdown.mjs";import{T as f,a as b}from"../types/index.mjs";import{_ as x}from"../../../../plugin-vue_export-helper.mjs";const k=e({name:"VaTreeCategory",components:{SquareWithIcon:_,VaIcon:y},props:{label:{type:[String,Number],default:""},isOpen:{type:Boolean,default:!1},icon:{type:String,default:""},color:{type:String,default:"primary"}},setup:e=>{const{getColor:i}=C(),d=o((()=>i(e.color))),p=a([]),u=a(!1),v=r(f,{onChildMounted:e=>{},onChildUnmounted:e=>{}}),collapse=()=>{u.value=!1,c((()=>{p.value.forEach((e=>{"va-tree-category"===e.$options.name&&e.collapse()}))}))},expand=()=>{u.value=!0,c((()=>{p.value.forEach((e=>{var o;null==(o=e.expand)||o.call(e)}))}))},toggle=e=>{e.target.classList.contains("va-checkbox__input")||(u.value=!u.value)};t((()=>e.isOpen),(e=>{u.value=e}),{immediate:!0});const m={treeView:v,nodes:p.value,isOpenCached:u.value,onChildMounted:e=>{p.value.push(e)},onChildUnmounted:e=>{p.value=p.value.filter((o=>o!==e))},collapse:collapse,expand:expand,toggle:toggle};return l(b,m),n((()=>null==v?void 0:v.onChildMounted(m))),s((()=>null==v?void 0:v.onChildUnmounted(m))),{treeCategory:m,treeView:v,nodes:p,isOpenCached:u,collapse:collapse,expand:expand,toggle:toggle,getColor:i,colorComputed:d}}}),j={class:"va-tree-category"},S={class:"va-tree-category__header-switcher"},$={key:0,class:"va-tree-category__header-checkbox"},O={key:1,class:"va-tree-category__header-icon"},V={class:"va-tree-category__header-label"},w={key:0,class:"va-tree-category__list-container"},I={class:"va-tree-category__list-internal-container"};var q=x(k,[["render",function _sfc_render(e,o,a,r,t,l){const n=i("square-with-icon"),s=i("va-icon");return d(),p("div",j,[u("div",{class:"va-tree-category__header",onClick:o[0]||(o[0]=(...o)=>e.toggle&&e.toggle(...o))},[u("div",S,[v(n,{icon:e.isOpenCached?"remove":"add",color:e.colorComputed},null,8,["icon","color"])]),e.$slots.checkbox?(d(),p("div",$,[m(e.$slots,"checkbox")])):h("",!0),e.$props.icon?(d(),p("div",O,[v(s,{name:e.$props.icon,color:e.getColor("info")},null,8,["name","color"])])):h("",!0),u("div",V,g(e.$props.label),1)]),e.isOpenCached?(d(),p("div",w,[u("div",I,[m(e.$slots,"default")])])):h("",!0)])}]]);export{q as _};

import './VaTreeCategory.css';
//# sourceMappingURL=VaTreeCategory.mjs.map
