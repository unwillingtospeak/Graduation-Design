{"version":3,"file":"VaChip.mjs","sources":["../../../../../src/components/va-chip/VaChip.vue"],"sourcesContent":["<template>\n  <component\n    v-if=\"valueComputed\"\n    class=\"va-chip\"\n    :is=\"tagComputed\"\n    :href=\"hrefComputed\"\n    :target=\"target\"\n    :to=\"to\"\n    :replace=\"replace\"\n    :exact=\"exact\"\n    :active-class=\"activeClass\"\n    :exact-active-class=\"exactActiveClass\"\n    :class=\"computedClass\"\n    :style=\"computedStyle\"\n  >\n    <span\n      class=\"va-chip__inner\"\n      v-on=\"keyboardFocusListeners\"\n      @focus=\"$emit('focus')\"\n      @mouseenter=\"onMouseEnter\"\n      @mouseleave=\"onMouseLeave\"\n    >\n      <va-icon\n        v-if=\"icon\"\n        class=\"va-chip__icon\"\n        :name=\"icon\"\n        :size=\"iconSize\"\n      />\n      <span class=\"va-chip__content\">\n        <slot></slot>\n      </span>\n      <va-icon\n        v-if=\"closeable\"\n        class=\"va-chip__close-icon\"\n        name=\"close\"\n        role=\"button\"\n        aria-label=\"close\"\n        aria-hidden=\"false\"\n        :tabindex=\"tabIndexComputed\"\n        :size=\"iconSize\"\n        @click.stop=\"close\"\n        @keydown.enter.stop=\"close\"\n        @keydown.space.stop=\"close\"\n      />\n    </span>\n  </component>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed, toRef } from 'vue'\n\nimport { getBoxShadowColor, getHoverColor, getFocusColor } from '../../services/color-config/color-functions'\nimport {\n  useKeyboardOnlyFocus,\n  useRouterLink, useRouterLinkProps,\n  useColors, useColorProps,\n  useStateful, useStatefulEmits, useStatefulProps,\n  useHover,\n  useTextColor,\n} from '../../composables'\n\nimport { VaIcon } from '../va-icon'\n\nexport default defineComponent({\n  name: 'VaChip',\n\n  components: { VaIcon },\n\n  emits: [...useStatefulEmits, 'focus'],\n\n  props: {\n    ...useRouterLinkProps,\n    ...useColorProps,\n    ...useStatefulProps,\n    modelValue: { type: Boolean, default: true },\n    closeable: { type: Boolean, default: false },\n    outline: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    square: { type: Boolean, default: false },\n    shadow: { type: Boolean, default: false },\n    flat: { type: Boolean, default: false },\n    icon: { type: String, default: '' },\n    tag: { type: String, default: 'span' },\n    size: {\n      type: String as PropType<'small' | 'medium' | 'large'>,\n      default: 'medium',\n      validator: (value: string) => ['small', 'medium', 'large'].includes(value),\n    },\n  },\n\n  setup (props, { emit }) {\n    const { getColor } = useColors()\n    const colorComputed = computed(() => getColor(props.color))\n    const borderColor = computed(() => props.outline ? colorComputed.value : '')\n    const isTransparentBackground = computed(() => Boolean(props.outline || props.flat))\n    const { textColorComputed } = useTextColor(toRef(props, 'color'), isTransparentBackground)\n    const size = {\n      small: '0.875rem',\n      medium: '1rem',\n      large: '1.25rem',\n    } as Record<string, string>\n\n    const { hasKeyboardFocus, keyboardFocusListeners } = useKeyboardOnlyFocus()\n    const shadowStyle = computed(() => {\n      if (!props.shadow || props.flat || props.outline || props.disabled || hasKeyboardFocus.value) {\n        return\n      }\n      return `0 0.125rem 0.19rem 0 ${getBoxShadowColor(colorComputed.value)}`\n    })\n\n    const { valueComputed } = useStateful(props, emit)\n    const { tagComputed, hrefComputed } = useRouterLink(props)\n    const { isHovered, onMouseEnter, onMouseLeave } = useHover()\n\n    return {\n      keyboardFocusListeners,\n      valueComputed,\n      hrefComputed,\n      tagComputed,\n      onMouseEnter,\n      onMouseLeave,\n      isHovered,\n\n      close: () => {\n        if (!props.disabled) {\n          valueComputed.value = false\n        }\n      },\n\n      iconSize: computed(() => size[props.size]),\n\n      tabIndexComputed: computed(() => props.disabled ? -1 : 0),\n\n      computedClass: computed(() => ({\n        'va-chip--small': props.size === 'small',\n        'va-chip--large': props.size === 'large',\n        'va-chip--square': props.square,\n        'va-chip--disabled': props.disabled,\n      })),\n\n      computedStyle: computed(() => {\n        const result = {\n          color: textColorComputed.value,\n          borderColor: borderColor.value,\n          background: '',\n          boxShadow: shadowStyle.value,\n        }\n\n        if (props.outline || props.flat) {\n          if (hasKeyboardFocus.value) {\n            result.background = getFocusColor(colorComputed.value)\n          } else if (isHovered.value) {\n            result.background = getHoverColor(colorComputed.value)\n          }\n        } else {\n          result.background = colorComputed.value\n        }\n\n        return result\n      }),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-chip {\n  display: var(--va-chip-display);\n  border: var(--va-chip-border, var(--va-control-border));\n  position: var(--va-chip-position);\n  border-radius: var(--va-chip-border-radius);\n  width: var(--va-chip-width);\n  height: var(--va-chip-height);\n  min-width: var(--va-chip-min-width);\n  min-height: var(--va-chip-min-height);\n  padding: var(--va-chip-padding);\n  color: var(--va-chip-color);\n  cursor: var(--va-chip-cursor);\n  font-size: var(--va-chip-font-size);\n  font-family: var(--va-font-family);\n  vertical-align: var(--va-chip-vertical-align);\n\n  &__inner {\n    display: var(--va-chip-inner-display);\n    align-items: var(--va-chip-inner-align-items);\n    width: var(--va-chip-inner-width);\n    vertical-align: inherit;\n  }\n\n  &:hover {\n    opacity: var(--va-chip-hover-opacity);\n  }\n\n  &__content {\n    display: var(--va-chip-content-display);\n    justify-content: var(--va-chip-content-justify-content);\n    align-items: var(--va-chip-content-align-items);\n    padding: var(--va-chip-content-padding);\n    line-height: var(--va-chip-content-line-height);\n    width: var(--va-chip-content-width);\n  }\n\n  &__close-icon {\n    cursor: pointer;\n\n    &:focus {\n      @include focus-outline;\n    }\n\n    @at-root {\n      .va-chip--disabled {\n        .va-chip__close-icon {\n          cursor: default !important;\n        }\n      }\n    }\n  }\n\n  &--square {\n    border-radius: var(--va-chip-square-border-radius, var(--va-square-border-radius));\n  }\n\n  &--small {\n    height: var(--va-sm-chip-height);\n    font-size: var(--va-sm-chip-font-size);\n  }\n\n  &--large {\n    height: var(--va-lg-chip-height);\n    font-size: var(--va-lg-chip-font-size);\n  }\n\n  &.va-chip--disabled {\n    @include va-disabled;\n  }\n}\n</style>\n"],"names":["_sfc_main","defineComponent","name","components","VaIcon","emits","useStatefulEmits","props","__spreadValues","useRouterLinkProps","useColorProps","useStatefulProps","modelValue","type","Boolean","default","closeable","outline","disabled","square","shadow","flat","icon","String","tag","size","validator","value","includes","setup","emit","getColor","useColors","colorComputed","computed","color","borderColor","isTransparentBackground","textColorComputed","useTextColor","toRef","small","medium","large","hasKeyboardFocus","keyboardFocusListeners","useKeyboardOnlyFocus","shadowStyle","getBoxShadowColor","valueComputed","useStateful","tagComputed","hrefComputed","useRouterLink","isHovered","onMouseEnter","onMouseLeave","useHover","close","iconSize","tabIndexComputed","computedClass","computedStyle","result","background","boxShadow","getFocusColor","getHoverColor","_hoisted_1","class","_ctx","openBlock","_createBlock","_resolveDynamicComponent","key","_normalizeClass","href","target","to","replace","exact","activeClass","exactActiveClass","style","_normalizeStyle","_createElementVNode","_mergeProps","_toHandlers","onFocus","_cache","$emit","onMouseenter","args","onMouseleave","_component_va_icon","_createCommentVNode","_renderSlot","$slots","role","tabindex","onClick","_withModifiers","onKeydown","_withKeys"],"mappings":"22CA+DA,MAAKA,EAAaC,EAAa,CAC7BC,KAAM,SAENC,WAAY,CAAEC,OAAAA,GAEdC,MAAO,IAAIC,EAAkB,SAE7BC,SAAOC,eAAAA,eAAAA,eAAA,GACFC,GACAC,GACAC,KAHE,CAILC,WAAY,CAAEC,KAAMC,QAASC,SAAS,GACtCC,UAAW,CAAEH,KAAMC,QAASC,SAAS,GACrCE,QAAS,CAAEJ,KAAMC,QAASC,SAAS,GACnCG,SAAU,CAAEL,KAAMC,QAASC,SAAS,GACpCI,OAAQ,CAAEN,KAAMC,QAASC,SAAS,GAClCK,OAAQ,CAAEP,KAAMC,QAASC,SAAS,GAClCM,KAAM,CAAER,KAAMC,QAASC,SAAS,GAChCO,KAAM,CAAET,KAAMU,OAAQR,QAAS,IAC/BS,IAAK,CAAEX,KAAMU,OAAQR,QAAS,QAC9BU,KAAM,CACJZ,KAAMU,OACNR,QAAS,SACTW,UAAYC,GAAkB,CAAC,QAAS,SAAU,SAASC,SAASD,gBAIxEE,MAAOtB,GAAOuB,KAAEA,IACR,MAAAC,SAAEA,GAAaC,IACfC,EAAgBC,GAAS,IAAMH,EAASxB,EAAM4B,SAC9CC,EAAcF,GAAS,IAAM3B,EAAMU,QAAUgB,EAAcN,MAAQ,KACnEU,EAA0BH,GAAS,IAAMpB,QAAQP,EAAMU,SAAWV,EAAMc,SACxEiB,kBAAEA,GAAsBC,EAAaC,EAAMjC,EAAO,SAAU8B,GAC5DZ,EAAO,CACXgB,MAAO,WACPC,OAAQ,OACRC,MAAO,YAGHC,iBAAEA,EAAkBC,uBAAAA,GAA2BC,IAC/CC,EAAcb,GAAS,KACvB,MAAC3B,EAAMa,QAAUb,EAAMc,MAAQd,EAAMU,SAAWV,EAAMW,UAAY0B,EAAiBjB,OAGhF,MAAA,wBAAwBqB,EAAkBf,EAAcN,aAG3DsB,cAAEA,GAAkBC,EAAY3C,EAAOuB,IACvCqB,YAAEA,EAAAC,aAAaA,GAAiBC,EAAc9C,IAC9C+C,UAAEA,EAAAC,aAAWA,EAAcC,aAAAA,GAAiBC,IAE3C,MAAA,CACLZ,uBAAAA,EACAI,cAAAA,EACAG,aAAAA,EACAD,YAAAA,EACAI,aAAAA,EACAC,aAAAA,EACAF,UAAAA,EAEAI,MAAO,KACAnD,EAAMW,WACT+B,EAActB,OAAQ,IAI1BgC,SAAUzB,GAAS,IAAMT,EAAKlB,EAAMkB,QAEpCmC,iBAAkB1B,GAAS,IAAM3B,EAAMW,YAAgB,IAEvD2C,cAAe3B,GAAS,KAAO,CAC7B,iBAAiC,UAAf3B,EAAMkB,KACxB,iBAAiC,UAAflB,EAAMkB,KACxB,kBAAmBlB,EAAMY,OACzB,oBAAqBZ,EAAMW,aAG7B4C,cAAe5B,GAAS,KACtB,MAAM6B,EAAS,CACb5B,MAAOG,EAAkBX,MACzBS,YAAaA,EAAYT,MACzBqC,WAAY,GACZC,UAAWlB,EAAYpB,OAalB,OAVHpB,EAAMU,SAAWV,EAAMc,KACrBuB,EAAiBjB,MACZoC,EAAAC,WAAaE,EAAcjC,EAAcN,OACvC2B,EAAU3B,QACZoC,EAAAC,WAAaG,EAAclC,EAAcN,QAGlDoC,EAAOC,WAAa/B,EAAcN,MAG7BoC,iBAlIH,MAAAK,EAAA,CAAAC,MAAM,gGA1BR,OAAAC,EADRrB,eAAAsB,IAAAC,EA4CYC,EAzCLH,EAAWnB,aAAA,CAAAuB,IAAA,EADhBL,MAAKM,EAAA,CAAC,UASEL,EAAaT,gBAPpBe,KAAMN,EAAAlB,aACNyB,OAAQP,EAAAO,OACRC,GAAIR,EAAAQ,GACJC,QAAST,EAAAS,QACTC,MAAOV,EAAAU,MACP,eAAcV,EAAAW,YACd,qBAAoBX,EAAAY,iBAEpBC,MAAKC,EAAEd,EAAaR,gBAAA,YAErB,IA6BO,CA7BPuB,EA6BO,OA7BPC,EA6BO,CA5BLjB,MAAM,kBACNkB,EAAMjB,EAAuBzB,wBAAD,CAC3B2C,QAAKC,eAAEnB,EAAKoB,MAAA,UACZC,aAAUF,EAAE,KAAAA,EAAA,GAAA,IAAAG,IAAAtB,EAAAf,cAAAe,EAAAf,gBAAAqC,IACZC,aAAUJ,EAAE,KAAAA,EAAA,GAAA,IAAAG,IAAAtB,EAAAd,cAAAc,EAAAd,gBAAAoC,MAAA,CAGLtB,EAAAhD,UADRkD,EAKEsB,EAAA,CAAApB,IAAA,EAHAL,MAAM,gBACLnE,KAAMoE,EAAAhD,KACNG,KAAM6C,EAAAX,UAAA,KAAA,EAAA,CAAA,OAAA,UAAAoC,EAAA,IAAA,GAETV,EAEO,OAFPjB,EAEO,CADL4B,EAAa1B,EAAA2B,OAAA,aAGP3B,EAAAtD,eADRwD,EAYEsB,EAAA,CAAApB,IAAA,EAVAL,MAAM,sBACNnE,KAAK,QACLgG,KAAK,SACL,aAAW,QACX,cAAY,QACXC,SAAU7B,EAAAV,iBACVnC,KAAM6C,EAAAX,SACNyC,QAAKC,EAAO/B,EAAKZ,MAAA,CAAA,SACjB4C,UAAO,CAAAC,EAAAF,EAAa/B,EAAKZ,MAAA,CAAA,SAAA,CAAA,UAAA6C,EAAAF,EACL/B,EAAKZ,MAAA,CAAA,SAAA,CAAA"}