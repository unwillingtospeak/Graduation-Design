{"version":3,"file":"VaTab.mjs","sources":["../../../../../../../src/components/va-tabs/components/VaTab/VaTab.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"tagComputed\"\n    ref=\"tabElement\"\n    class=\"va-tab\"\n    role=\"tab\"\n    :aria-selected=\"isActive\"\n    :aria-disabled=\"$props.disabled || parentDisabled\"\n    :href=\"hrefComputed\"\n    :target=\"target\"\n    :to=\"to\"\n    :replace=\"replace\"\n    :exact=\"exact\"\n    :active-class=\"activeClass\"\n    :exact-active-class=\"exactActiveClass\"\n    :class=\"classComputed\"\n    :style=\"computedStyle\"\n    @mouseenter=\"updateHoverState(true)\"\n    @mouseleave=\"updateHoverState(false)\"\n  >\n    <div\n      class=\"va-tab__content\"\n      v-on=\"keyboardFocusListeners\"\n      :tabindex=\"tabIndexComputed\"\n      @focus=\"onFocus\"\n      @click=\"onTabClick\"\n      @keydown.enter=\"onTabKeydown\"\n    >\n      <slot>\n        <va-icon\n          v-if=\"icon\"\n          class=\"va-tab__icon\"\n          size=\"small\"\n          :name=\"icon\"\n        />\n        <span\n          class=\"va-tab__label\"\n          v-text=\"label\"\n        />\n      </slot>\n    </div>\n  </component>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject, onBeforeUnmount, onMounted, ref, shallowRef } from 'vue'\n\nimport { useRouterLink, useRouterLinkProps, useKeyboardOnlyFocus, useColors } from '../../../../composables'\n\nimport { TabsViewKey, TabsView, TabComponent } from '../../types'\n\nimport { VaIcon } from '../../../va-icon'\n\nexport default defineComponent({\n  name: 'VaTab',\n  components: { VaIcon },\n  emits: ['click', 'keydown-enter', 'focus'],\n\n  props: {\n    ...useRouterLinkProps,\n    selected: { type: Boolean, default: false },\n    color: { type: String, default: '' },\n    icon: { type: String, default: '' },\n    label: { type: String, default: '' },\n    disabled: { type: Boolean },\n    name: { type: [String, Number] },\n    tag: { type: String, default: 'div' },\n  },\n\n  setup: (props, { emit }) => {\n    const tabElement = shallowRef<HTMLElement>()\n\n    const isActive = ref(false)\n    const hoverState = ref(false)\n    const rightSidePosition = ref(0)\n    const leftSidePosition = ref(0)\n    const { hasKeyboardFocus, keyboardFocusListeners } = useKeyboardOnlyFocus()\n    const { tagComputed, hrefComputed, isActiveRouterLink } = useRouterLink(props)\n    const classComputed = computed(() => ({ 'va-tab--disabled': props.disabled }))\n    const {\n      parentDisabled,\n      selectTab,\n      moveToTab,\n      registerTab,\n      unregisterTab,\n    } = inject<TabsView>(TabsViewKey, {\n      parentDisabled: false,\n      tabsList: [],\n      selectTab: (tab: TabComponent) => tab,\n      moveToTab: (tab: TabComponent) => tab,\n      registerTab: (tab: TabComponent) => tab,\n      unregisterTab: (tab: TabComponent) => tab,\n    })\n    const tabIndexComputed = computed(() => (props.disabled || parentDisabled) ? -1 : 0)\n\n    const { getColor } = useColors()\n    const colorComputed = computed(() => getColor(props.color))\n\n    const computedStyle = computed(() => ({\n      color: hasKeyboardFocus.value || hoverState.value || isActive.value ? colorComputed.value : 'inherit',\n    }))\n\n    const updateHoverState = (isHover: boolean) => {\n      hoverState.value = isHover\n    }\n\n    const updateSidePositions = () => {\n      const componentOffsetLeft = tabElement.value?.offsetLeft || 0\n      const componentOffsetWidth = tabElement.value?.offsetWidth || 0\n\n      rightSidePosition.value = componentOffsetLeft + componentOffsetWidth\n      leftSidePosition.value = componentOffsetLeft\n    }\n\n    const onTabClick = () => {\n      selectTab(tabComponent)\n      emit('click')\n    }\n\n    const onTabKeydown = () => {\n      selectTab(tabComponent)\n      emit('keydown-enter')\n    }\n\n    const onFocus = () => {\n      if (hasKeyboardFocus.value) {\n        moveToTab(tabComponent)\n      }\n\n      emit('focus')\n    }\n\n    const tabComponent: TabComponent = {\n      name: computed(() => props.name),\n      id: null,\n      tabElement,\n      isActive,\n      tabIndexComputed,\n      isActiveRouterLink,\n      rightSidePosition,\n      leftSidePosition,\n      onTabClick,\n      onTabKeydown,\n      onFocus,\n      updateSidePositions,\n    }\n\n    onMounted(() => {\n      registerTab(tabComponent)\n    })\n\n    onBeforeUnmount(() => {\n      unregisterTab(tabComponent)\n    })\n\n    return {\n      tabElement,\n      parentDisabled,\n      isActive,\n      hoverState,\n      hasKeyboardFocus,\n      keyboardFocusListeners,\n      tagComputed,\n      hrefComputed,\n      isActiveRouterLink,\n      colorComputed,\n      classComputed,\n      computedStyle,\n      tabIndexComputed,\n      rightSidePosition,\n      leftSidePosition,\n      updateHoverState,\n      updateSidePositions,\n      onTabClick,\n      onTabKeydown,\n      onFocus,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../styles/resources\";\n@import 'variables';\n\n.va-tab {\n  align-items: var(--va-tab-align-items);\n  display: var(--va-tab-display);\n  flex: var(--va-tab-flex);\n  font-weight: var(--va-tab-font-weight);\n  line-height: var(--va-tab-line-height);\n  height: var(--va-tab-height);\n  max-width: var(--va-tab-max-width);\n  text-align: var(--va-tab-text-align);\n  vertical-align: var(--va-tab-vertical-align);\n  color: var(--va-tab-color);\n\n  &__content {\n    align-items: var(--va-tab-content-align-items);\n    color: var(--va-tab-content-color);\n    display: var(--va-tab-content-display);\n    flex: var(--va-tab-content-flex);\n    height: var(--va-tab-content-height);\n    justify-content: var(--va-tab-content-justify-content);\n    max-width: var(--va-tab-content-max-width);\n    text-decoration: var(--va-tab-content-text-decoration);\n    transition: var(--va-tab-content-transition);\n    user-select: var(--va-tab-content-user-select);\n    white-space: var(--va-tab-content-white-space);\n    padding: var(--va-tab-content-padding);\n    cursor: var(--va-tab-content-cursor);\n  }\n\n  &__icon {\n    margin-right: var(--va-tab-icon-margin-right);\n  }\n\n  &.va-tab--disabled {\n    @include va-disabled();\n\n    pointer-events: none;\n  }\n}\n</style>\n"],"names":["_sfc_main","defineComponent","name","components","VaIcon","emits","props","useRouterLinkProps","selected","type","Boolean","default","color","String","icon","label","disabled","Number","tag","setup","emit","tabElement","shallowRef","isActive","ref","hoverState","rightSidePosition","leftSidePosition","hasKeyboardFocus","keyboardFocusListeners","useKeyboardOnlyFocus","tagComputed","hrefComputed","isActiveRouterLink","useRouterLink","classComputed","computed","parentDisabled","selectTab","moveToTab","registerTab","unregisterTab","inject","TabsViewKey","tabsList","tab","tabIndexComputed","getColor","useColors","colorComputed","computedStyle","value","updateSidePositions","componentOffsetLeft","_a","offsetLeft","componentOffsetWidth","_b","offsetWidth","onTabClick","tabComponent","onTabKeydown","onFocus","id","onMounted","onBeforeUnmount","updateHoverState","isHover","_openBlock","_createBlock","_resolveDynamicComponent","_ctx","class","_normalizeClass","role","href","target","to","replace","exact","activeClass","exactActiveClass","style","_normalizeStyle","onMouseenter","_cache","onMouseleave","_createElementVNode","_mergeProps","_toHandlers","tabindex","args","onClick","onKeydown","_renderSlot","_component_va_icon","key","size","_createCommentVNode","textContent","_toDisplayString","_hoisted_2"],"mappings":"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"}