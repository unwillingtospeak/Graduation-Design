var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,__defNormalProp=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{defineComponent as n,shallowRef as r,ref as s,reactive as v,computed as u,unref as d,provide as c,watch as p,resolveComponent as b,openBlock as f,createElementBlock as m,normalizeClass as g,createElementVNode as h,createBlock as _,createCommentVNode as y,normalizeStyle as P,createVNode as S,withCtx as C,renderSlot as w}from"vue";import"../../../vendor.mjs";import{u as x}from"../../composables/useColors.mjs";import"../../composables/useDropdown.mjs";import{u as T}from"../../composables/useResizeObserver.mjs";import{a as j,b as k}from"../../composables/useStateful.mjs";import{T as O}from"./types.mjs";import{V}from"../va-button/index.mjs";import{V as $}from"../va-config/VaConfig.mjs";import{_ as B}from"../../../plugin-vue_export-helper.mjs";const getClientWidth=e=>(null==e?void 0:e.clientWidth)||0,L=n({name:"VaTabs",components:{VaButton:V,VaConfig:$},emits:["update:modelValue","click:next","click:prev"],props:(A=((e,a)=>{for(var t in a||(a={}))i.call(a,t)&&__defNormalProp(e,t,a[t]);if(l)for(var t of l(a))o.call(a,t)&&__defNormalProp(e,t,a[t]);return e})({},j),I={modelValue:{type:[String,Number],default:null},left:{type:Boolean,default:!0},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},grow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hideSlider:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},color:{type:String,default:"primary"},prevIcon:{type:String,default:"chevron_left"},nextIcon:{type:String,default:"chevron_right"}},a(A,t(I))),setup:(e,{emit:a})=>{const t=r(),l=r(),i=r(),o=s([]),n=s(null),b=s(null),f=s(0),m=s(0),g=s(!1),h=s(0),_=s(0),y=s(!1),{valueComputed:P}=k(e,a),S=v({VaTab:{color:e.color}}),C=u((()=>{const{left:a,right:t,center:l,grow:i,disabled:o}=e;return{"va-tabs__container--left":a&&!t&&!l&&!i,"va-tabs__container--right":t,"va-tabs__container--center":l,"va-tabs__container--grow":i,"va-tabs__container--disabled":o}})),w=u((()=>({"va-tabs--vertical":e.vertical}))),{getColor:j}=x(),V=u((()=>j(e.color))),$=u((()=>e.hideSlider?{display:"none"}:{backgroundColor:V.value,height:e.vertical?`${n.value}px`:"",width:e.vertical?"":`${b.value}px`,transform:`translateY(-${m.value}px) translateX(${f.value}px)`,transition:y.value?"var(--va-tabs-slider-wrapper-transition)":""})),B=u((()=>e.vertical?{transform:"translateX(0px)"}:{transform:`translateX(${_.value-h.value}px)`,transition:y.value?"var(--va-tabs-slider-transition)":""})),L=u((()=>0===h.value)),A=u((()=>{const e=o.value[o.value.length-1],a=d(e.leftSidePosition),t=d(e.rightSidePosition),i=getClientWidth(l.value);return t<=h.value+i||a<=h.value})),resetSliderSizes=()=>{b.value=0,n.value=0},moveToTab=e=>{const a=getClientWidth(l.value),t=getClientWidth(i.value),o=d(e.leftSidePosition),n=d(e.rightSidePosition);g.value&&o+a<=t?h.value=o:g.value&&n>=a?h.value=n-a:h.value=0},updateStartingXPoint=()=>{if(_.value=0,!g.value)return;const a=getClientWidth(l.value),t=getClientWidth(i.value);e.right?_.value=t-a:e.center&&(_.value=Math.floor((t-a)/2))},updateTabsState=()=>{resetSliderSizes(),o.value.forEach((e=>{var a;e.updateSidePositions();const t=((null==(a=e.name)?void 0:a.value)||e.id)===P.value;e.isActive=e.isActiveRouterLink||t,e.isActive&&(moveToTab(e),updateSlider(e))}));const e=getClientWidth(l.value),a=getClientWidth(i.value);h.value+e>a&&o.value&&moveToTab(o.value[0]),updateStartingXPoint()},updatePagination=()=>{const e=getClientWidth(i.value),a=getClientWidth(t.value);g.value=!!(i.value&&t.value&&e>a)},updateSlider=a=>{var t;const i=d(a.tabElement),o=(null==i?void 0:i.offsetTop)||0,r=(null==i?void 0:i.offsetLeft)||0,s=(null==i?void 0:i.clientHeight)||0,v=(null==i?void 0:i.clientWidth)||0;if(e.vertical){const e=((null==(t=l.value)?void 0:t.clientHeight)||0)-o-s;m.value=Math.max(e,0),n.value=s,f.value=0,b.value=0}else f.value=r,b.value=v,m.value=0,n.value=0},includeAnimation=()=>{y.value||requestAnimationFrame((()=>{y.value=!0}))},redrawTabs=()=>{const e=g.value;updatePagination(),e===g.value?(updateTabsState(),includeAnimation()):requestAnimationFrame((()=>{updateTabsState(),includeAnimation()}))},selectTab=a=>{var t;a&&(P.value=(null==(t=a.name)?void 0:t.value)||a.id,e.stateful&&updateTabsState())};return c(O,{parentDisabled:e.disabled,selectTab:selectTab,moveToTab:moveToTab,registerTab:e=>{var a;const t=o.value.push(e)-1;e.id=(null==(a=e.name)?void 0:a.value)||t},unregisterTab:e=>{o.value=o.value.filter((a=>a.id!==e.id)),o.value.forEach(((e,a)=>{var t;e.id=(null==(t=e.name)?void 0:t.value)||a}))}}),p((()=>e.modelValue),updateTabsState),T([t,i],redrawTabs),{wrapper:t,container:l,tabs:i,tabsList:o,sliderHeight:n,sliderWidth:b,sliderOffsetX:f,sliderOffsetY:m,showPagination:g,tabsContentOffset:h,startingXPoint:_,animationIncluded:y,colorComputed:V,tabConfig:S,computedClass:C,computedTabsClass:w,tabSelected:P,sliderStyles:$,paginationControlledStyles:B,disablePaginationLeft:L,disablePaginationRight:A,resetSliderSizes:resetSliderSizes,moveToTab:moveToTab,updateStartingXPoint:updateStartingXPoint,updateTabsState:updateTabsState,updatePagination:updatePagination,movePaginationLeft:()=>{var e,t;const i=getClientWidth(l.value);let n=h.value-i;if(o.value)for(let a=0;a<o.value.length-1;a++){const l=d(null==(e=o.value[a])?void 0:e.leftSidePosition),i=d(null==(t=o.value[a+1])?void 0:t.leftSidePosition);if(l>n&&l<h.value||i>=h.value){n=l;break}}h.value=Math.max(0,n),a("click:prev")},movePaginationRight:()=>{var e;const t=getClientWidth(l.value),i=h.value+t;let n=i;if(o.value)for(let a=0;a<o.value.length-1;a++){if(d(o.value[a].rightSidePosition)>i&&(n=d(o.value[a].leftSidePosition),h.value<n))break}const r=d(null==(e=o.value[o.value.length-1])?void 0:e.rightSidePosition)-t;n=Math.min(r,n),h.value=Math.max(0,n),a("click:next")},updateSlider:updateSlider,includeAnimation:includeAnimation,redrawTabs:redrawTabs,selectTab:selectTab}}});var A,I;const R=["aria-disabled"],X=[h("div",{class:"va-tabs__slider"},null,-1)],M={class:"va-tabs__tabs-items"},z={class:"va-tabs__content"};var E=B(L,[["render",function _sfc_render(e,a,t,l,i,o){const n=b("va-button"),r=b("va-config");return f(),m("div",{class:g(["va-tabs",e.computedTabsClass])},[h("div",{ref:"wrapper",class:"va-tabs__wrapper",role:"tablist","aria-disabled":e.$props.disabled},[e.showPagination?(f(),_(n,{key:0,class:"va-tabs__pagination","aria-label":"move pagination left",size:"medium",disabled:e.disablePaginationLeft,color:e.color,flat:"",icon:e.$props.prevIcon,onClick:e.movePaginationLeft},null,8,["disabled","color","icon","onClick"])):y("",!0),h("div",{ref:"container",class:g(["va-tabs__container",e.computedClass])},[h("div",{ref:"tabs",class:"va-tabs__tabs",style:P(e.paginationControlledStyles)},[h("div",{class:"va-tabs__slider-wrapper","aria-hidden":"true",style:P(e.sliderStyles)},X,4),S(r,{components:e.tabConfig},{default:C((()=>[h("div",M,[w(e.$slots,"tabs")])])),_:3},8,["components"])],4)],2),e.showPagination?(f(),_(n,{key:1,class:"va-tabs__pagination","aria-label":"move pagination right",size:"medium",color:e.color,disabled:e.disablePaginationRight,flat:"",icon:e.$props.nextIcon,onClick:e.movePaginationRight},null,8,["color","disabled","icon","onClick"])):y("",!0)],8,R),h("div",z,[w(e.$slots,"default")])],2)}]]);export{E as _};

import './VaTabs.css';
//# sourceMappingURL=VaTabs.mjs.map
