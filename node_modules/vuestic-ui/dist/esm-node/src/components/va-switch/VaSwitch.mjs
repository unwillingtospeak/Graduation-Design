var e=Object.defineProperty,r=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,__defNormalProp=(r,a,l)=>a in r?e(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l,__spreadValues=(e,r)=>{for(var a in r||(r={}))o.call(r,a)&&__defNormalProp(e,a,r[a]);if(l)for(var a of l(r))s.call(r,a)&&__defNormalProp(e,a,r[a]);return e},__spreadProps=(e,l)=>r(e,a(l));import{defineComponent as t,shallowRef as i,computed as n,resolveComponent as u,openBlock as c,createBlock as d,normalizeClass as p,normalizeStyle as m,withCtx as b,createElementVNode as g,mergeProps as f,toHandlers as v,withKeys as y,withModifiers as L,createElementBlock as S,renderSlot as C,createTextVNode as h,toDisplayString as k,createCommentVNode as _}from"vue";import{p as j}from"../../../vendor.mjs";import{g as w}from"../../services/utils.mjs";import{u as I}from"../../composables/useBem.mjs";import{u as O}from"../../composables/useColors.mjs";import{u as x}from"../../composables/useKeyboardOnlyFocus.mjs";import"../../composables/useDropdown.mjs";import{u as B,a as V,b as $}from"../../composables/useSelectable.mjs";import{u as E}from"../../composables/useTextColor.mjs";import{V as F}from"../va-progress-circle/index.mjs";import"../va-input/index.mjs";import{_ as z}from"../../../plugin-vue_export-helper.mjs";import{V as A}from"../va-input/components/VaMessageListWrapper.mjs";const M=t({name:"VaSwitch",components:{VaProgressCircle:F,VaMessageListWrapper:A},emits:[...B,"focus","blur","update:modelValue"],props:__spreadProps(__spreadValues({},V),{id:{type:String,default:""},name:{type:String,default:""},modelValue:{type:[Boolean,Array,String,Object],default:!1},trueLabel:{type:String,default:null},falseLabel:{type:String,default:null},trueInnerLabel:{type:String,default:null},falseInnerLabel:{type:String,default:null},color:{type:String,default:"primary"},offColor:{type:String,default:"gray"},size:{type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)}}),setup(e,{emit:r,slots:a}){const t={container:i(),input:i(),label:i()},{getColor:u}=O(),{hasKeyboardFocus:c,keyboardFocusListeners:d}=x(),p=$(e,r,t),{isChecked:m,computedError:b,isIndeterminate:g,computedErrorMessages:f,validationAriaAttributes:v}=p,y=((e,r)=>{var a={};for(var t in e)o.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&l)for(var t of l(e))r.indexOf(t)<0&&s.call(e,t)&&(a[t]=e[t]);return a})(p,["isChecked","computedError","isIndeterminate","computedErrorMessages","validationAriaAttributes"]),L=n((()=>u(m.value?e.color:e.offColor))),{textColorComputed:S}=E(L),C=n((()=>e.trueInnerLabel&&m.value?e.trueInnerLabel:e.falseInnerLabel&&!m.value?e.falseInnerLabel:"")),h=n((()=>e.trueLabel&&m.value?e.trueLabel:e.falseLabel&&!m.value?e.falseLabel:e.label)),k=I("va-switch",(()=>__spreadProps(__spreadValues({},j(e,["readonly","disabled","leftLabel"])),{checked:m.value,indeterminate:g.value,small:"small"===e.size,large:"large"===e.size,error:b.value,onKeyboardFocus:c.value}))),_=n((()=>({lineHeight:f.value.length?1:0}))),B=n((()=>({small:"15px",medium:"20px",large:"25px"}[e.size]))),V=n((()=>({borderColor:e.error?u("danger"):"",backgroundColor:L.value}))),F=n((()=>({color:e.error?u("danger"):""}))),z=n((()=>({color:S.value}))),A=n((()=>`aria-label-id-${w()}`)),M=n((()=>__spreadValues({id:e.id||void 0,name:e.name||void 0,disabled:e.disabled,readonly:e.readonly,ariaDisabled:e.disabled,ariaReadOnly:e.readonly,ariaChecked:!!e.modelValue,"aria-labelledby":h.value||a.default?A.value:void 0},v.value)));return __spreadProps(__spreadValues({},y),{computedErrorMessages:f,isChecked:m,computedError:b,isIndeterminate:g,keyboardFocusListeners:d,computedInnerLabel:C,computedLabel:h,computedClass:k,styleComputed:_,progressCircleSize:B,trackStyle:V,labelStyle:F,trackLabelStyle:z,ariaLabelIdComputed:A,inputAttributesComputed:M})}}),P={class:"va-switch__checker-wrapper"},K={class:"va-switch__checker"},D=["id"];var W=z(M,[["render",function _sfc_render(e,r,a,l,o,s){const t=u("va-progress-circle"),i=u("VaMessageListWrapper");return c(),d(i,{class:p(["va-switch",e.computedClass]),style:m(e.styleComputed),disabled:e.$props.disabled,success:e.$props.success,messages:e.$props.messages,error:e.computedError,"error-messages":e.computedErrorMessages,"error-count":e.$props.errorCount},{default:b((()=>[g("div",{ref:"container",class:"va-switch__container",tabindex:"-1",onBlur:r[7]||(r[7]=(...r)=>e.onBlur&&e.onBlur(...r))},[g("div",{class:"va-switch__inner",onClick:r[3]||(r[3]=(...r)=>e.toggleSelection&&e.toggleSelection(...r))},[g("input",f({ref:"input",type:"checkbox",class:"va-switch__input",role:"switch"},e.inputAttributesComputed,v(e.keyboardFocusListeners),{onFocus:r[0]||(r[0]=(...r)=>e.onFocus&&e.onFocus(...r)),onBlur:r[1]||(r[1]=(...r)=>e.onBlur&&e.onBlur(...r)),onKeypress:r[2]||(r[2]=y(L(((...r)=>e.toggleSelection&&e.toggleSelection(...r)),["prevent"]),["enter"]))}),null,16),g("div",{class:"va-switch__track","aria-hidden":"true",style:m(e.trackStyle)},[e.computedInnerLabel||e.$slots.innerLabel?(c(),S("div",{key:0,class:"va-switch__track-label",style:m(e.trackLabelStyle)},[C(e.$slots,"innerLabel",{},(()=>[h(k(e.computedInnerLabel),1)]))],4)):_("",!0),g("div",P,[g("span",K,[e.$props.loading?(c(),d(t,{key:0,indeterminate:"",size:e.progressCircleSize,color:e.trackStyle.backgroundColor},null,8,["size","color"])):_("",!0)])])],4)]),e.computedLabel||e.$slots.default?(c(),S("div",{key:0,ref:"label",class:"va-switch__label",style:m(e.labelStyle),id:e.ariaLabelIdComputed,onBlur:r[4]||(r[4]=(...r)=>e.onBlur&&e.onBlur(...r)),onClick:r[5]||(r[5]=(...r)=>e.toggleSelection&&e.toggleSelection(...r)),onKeydown:r[6]||(r[6]=y(L(((...r)=>e.toggleSelection&&e.toggleSelection(...r)),["stop"]),["enter"]))},[C(e.$slots,"default",{},(()=>[h(k(e.computedLabel),1)]))],44,D)):_("",!0)],544)])),_:3},8,["class","style","disabled","success","messages","error","error-messages","error-count"])}]]);export{W as _};

import './VaSwitch.css';
//# sourceMappingURL=VaSwitch.mjs.map
