var e=Object.defineProperty,o=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,__defNormalProp=(o,a,l)=>a in o?e(o,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[a]=l;import{defineComponent as s,shallowRef as d,ref as u,computed as i,resolveComponent as n,openBlock as c,createElementBlock as p,normalizeClass as m,createElementVNode as v,mergeProps as b,toHandlers as y,withKeys as f,renderSlot as g,normalizeProps as h,guardReactiveProps as _,createBlock as C,createCommentVNode as j,toDisplayString as x,createVNode as O,normalizeStyle as S}from"vue";import{p as k}from"../../../vendor.mjs";import{u as F}from"../../composables/useBem.mjs";import{u as V}from"../../composables/useColors.mjs";import{u as w}from"../../composables/useKeyboardOnlyFocus.mjs";import"../../composables/useDropdown.mjs";import{u as A}from"../../composables/useResizeObserver.mjs";import{u as I}from"../../composables/useSyncProp.mjs";import{g as P}from"../../services/utils.mjs";import{u as $}from"../../composables/useTextColor.mjs";import{a as K}from"../va-accordion/hooks/useAccordion.mjs";import{V as B}from"../va-icon/index.mjs";import{_ as L}from"../../../plugin-vue_export-helper.mjs";const D=s({name:"VaCollapse",components:{VaIcon:B},props:{modelValue:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},header:{type:String,default:""},icon:{type:String,default:""},solid:{type:Boolean,default:!1},color:{type:String,default:"background"},textColor:{type:String,default:""},colorAll:{type:Boolean,default:!1}},emits:["focus","update:modelValue"],setup(e,{emit:s,slots:n}){const c=d(),[p]=I("modelValue",e,s,!1),{getColor:m,getHoverColor:v}=V(),{accordionProps:b,toggle:y}=K(p),{textColorComputed:f}=$(),g=u();A([c],(()=>{var e,o;g.value=null!=(o=null==(e=c.value)?void 0:e.clientHeight)?o:0}));const h=i((()=>p.value?g.value:0)),{hasKeyboardFocus:_,keyboardFocusListeners:C}=w(),getTransition=()=>{const e=h.value/1e3*.2;return`${e>.2?e:.2}s`},j=i(P),x=i((()=>`header-${j.value}`)),O=i((()=>`panel-${j.value}`)),S=i((()=>e.disabled?-1:0)),B=i((()=>({id:x.value,tabindex:S.value,"aria-controls":O.value,"aria-expanded":p.value,"aria-disabled":e.disabled,role:"button"}))),L=F("va-collapse",(()=>{return s=((e,o)=>{for(var a in o||(o={}))r.call(o,a)&&__defNormalProp(e,a,o[a]);if(l)for(var a of l(o))t.call(o,a)&&__defNormalProp(e,a,o[a]);return e})({},k(e,["disabled","solid"])),d={expanded:p.value,active:e.solid&&p.value,popout:!(!b.value.popout||!p.value),inset:!(!b.value.inset||!p.value)},o(s,a(d));var s,d}));return{body:c,height:h,toggle:y,computedModelValue:p,hasKeyboardFocus:_,keyboardFocusListeners:C,textColorComputed:f,headerIdComputed:x,headerAttributes:B,panelIdComputed:O,tabIndexComputed:S,computedClasses:L,headerStyle:i((()=>({paddingLeft:e.icon&&0,color:f.value,backgroundColor:e.color?m(e.color):""}))),contentStyle:i((()=>{var o;const a=p.value&&!!(null==(o=n.default)?void 0:o.call(n)[0]);return{visibility:a?"visible":"hidden",height:`${h.value}px`,transitionDuration:getTransition(),background:a&&e.color&&e.colorAll?v(m(e.color)):""}}))}}}),M={class:"va-collapse__header__text"},H=["id","aria-labelledby"];var z=L(D,[["render",function _sfc_render(e,o,a,l,r,t){const s=n("va-icon");return c(),p("div",{class:m(["va-collapse",e.computedClasses])},[v("div",b({class:"va-collapse__header-wrapper"},y(e.keyboardFocusListeners),{onFocus:o[0]||(o[0]=o=>e.$emit("focus")),onClick:o[1]||(o[1]=(...o)=>e.toggle&&e.toggle(...o)),onKeydown:[o[2]||(o[2]=f(((...o)=>e.toggle&&e.toggle(...o)),["enter"])),o[3]||(o[3]=f(((...o)=>e.toggle&&e.toggle(...o)),["space"]))]}),[g(e.$slots,"header",h(_({value:e.computedModelValue,hasKeyboardFocus:e.hasKeyboardFocus,bind:e.headerAttributes,attributes:e.headerAttributes})),(()=>[v("div",b(e.headerAttributes,{class:"va-collapse__header",style:e.headerStyle}),[e.icon?(c(),C(s,{key:0,class:"va-collapse__header__icon",name:e.icon,color:e.textColorComputed},null,8,["name","color"])):j("",!0),v("div",M,x(e.header),1),O(s,{class:"va-collapse__header__icon",name:e.computedModelValue?"expand_less":"expand_more",color:e.textColorComputed},null,8,["name","color"])],16)]))],16),v("div",{class:"va-collapse__body-wrapper",style:S(e.contentStyle)},[v("div",{class:"va-collapse_body",ref:"body",role:"region",id:e.panelIdComputed,"aria-labelledby":e.headerIdComputed},[g(e.$slots,"default")],8,H)],4)],2)}]]);export{z as _};

import './VaCollapse.css';
//# sourceMappingURL=VaCollapse.mjs.map
