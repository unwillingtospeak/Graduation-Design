import{defineComponent as r,ref as a,computed as e,watch as o,openBlock as l,createElementBlock as t,renderSlot as i,createCommentVNode as d,createElementVNode as s,normalizeStyle as n,withDirectives as g,vShow as v}from"vue";import{_ as p}from"../../../plugin-vue_export-helper.mjs";const c=r({name:"VaImage",emits:["loaded","error"],props:{ratio:{type:Number,default:1},contain:{type:Boolean,default:!1},src:{type:String,required:!0},alt:{type:String,default:""}},setup(r,{emit:l}){const t=a(!0),i=a(!1),d=e((()=>({objectFit:r.contain?"contain":"cover"}))),s=e((()=>({paddingBottom:1/r.ratio*100+"%"})));return o((()=>r.src),(()=>{t.value=!0,i.value=!1})),{loading:t,loadingError:i,imageStyles:d,paddingStyles:s,handleLoad:()=>{t.value=!1,l("loaded",r.src)},handleError:r=>{i.value=!0,t.value=!1,l("error",r)}}}}),m={class:"va-image","aria-live":"polite"},u={key:0,class:"va-image__error"},y={class:"va-image__img"},_=["src","alt"],f={class:"va-image__overlay"},h={key:1,class:"va-image__loader"};var E=p(c,[["render",function _sfc_render(r,a,e,o,p,c){return l(),t("div",m,[r.loadingError?(l(),t("div",u,[i(r.$slots,"error")])):d("",!0),s("div",{style:n(r.paddingStyles)},null,4),g(s("div",y,[s("img",{style:n(r.imageStyles),src:r.$props.src,alt:r.$props.alt,onError:a[0]||(a[0]=(...a)=>r.handleError&&r.handleError(...a)),onLoad:a[1]||(a[1]=(...a)=>r.handleLoad&&r.handleLoad(...a))},null,44,_)],512),[[v,!r.loadingError&&!r.loading]]),s("div",f,[i(r.$slots,"default")]),r.loading?(l(),t("div",h,[i(r.$slots,"loader")])):d("",!0)])}]]);export{E as _};

import './VaImage.css';
//# sourceMappingURL=VaImage.mjs.map
