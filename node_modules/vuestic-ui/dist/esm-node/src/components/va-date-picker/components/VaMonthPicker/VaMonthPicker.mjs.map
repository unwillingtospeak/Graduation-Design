{"version":3,"file":"VaMonthPicker.mjs","sources":["../../../../../../../src/components/va-date-picker/components/VaMonthPicker/VaMonthPicker.vue"],"sourcesContent":["<template>\n  <div class=\"va-month-picker\" v-bind=\"containerAttributes\">\n    <div\n      v-for=\"(month, monthIndex) in months\"\n      :key=\"monthIndex\"\n      class=\"va-month-picker__month-wrapper\"\n      @mouseenter=\"hoveredIndex = monthIndex\"\n      @mouseleave=\"hoveredIndex = -1\"\n    >\n      <va-date-picker-cell\n        :in-range=\"!!isInRange(month)\"\n        :selected=\"!!isSelected(month)\"\n        :disabled=\"!!isDisabled(month)\"\n        :today=\"!!isToday(month)\"\n        :focused=\"hoveredIndex === monthIndex\"\n        :highlight-today=\"highlightToday\"\n        :readonly=\"readonly\"\n        @click=\"onClick(month); focusedCellIndex = monthIndex\"\n      >\n        <slot name=\"month\" v-bind=\"{ monthIndex, month: monthNames[monthIndex] }\">\n          {{ monthNames[monthIndex] }}\n        </slot>\n      </va-date-picker-cell>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType, toRefs, watch } from 'vue'\n\nimport { useGridKeyboardNavigation } from '../../hooks/grid-keyboard-navigation'\nimport { useDatePicker } from '../../hooks/use-picker'\n\nimport { DatePickerMode, DatePickerView, DatePickerModelValue } from '../../types'\n\nimport VaDatePickerCell from '../VaDatePickerCell.vue'\n\nexport default defineComponent({\n  name: 'VaMonthPicker',\n\n  components: { VaDatePickerCell },\n\n  props: {\n    modelValue: { type: [Date, Array, Object] as PropType<DatePickerModelValue> },\n    monthNames: { type: Array as PropType<string[]>, required: true },\n    view: { type: Object as PropType<DatePickerView>, default: () => ({ type: 'month' }) },\n    allowedMonths: { type: Function as PropType<(date: Date) => boolean>, default: undefined },\n    highlightToday: { type: Boolean, default: true },\n    mode: { type: String as PropType<DatePickerMode>, default: 'auto' },\n    readonly: { type: Boolean, default: false },\n  },\n\n  emits: ['update:modelValue', 'hover:month', 'click:month'],\n\n  setup (props, { emit }) {\n    const { view } = toRefs(props)\n\n    const months = computed(() => Array.from(Array(12).keys()).map((month) => new Date(view.value.year, month)))\n\n    const {\n      hoveredIndex,\n      onClick,\n      isToday,\n      isSelected,\n      isInRange,\n    } = useDatePicker('month', months, props, emit)\n\n    const isDisabled = (date: Date) => props.allowedMonths === undefined ? false : !props.allowedMonths(date)\n\n    const {\n      focusedCellIndex, containerAttributes,\n    } = useGridKeyboardNavigation({\n      rowSize: 3,\n      start: 0,\n      end: months.value.length,\n      onSelected: (selectedIndex) => onClick(months.value[selectedIndex]),\n    })\n\n    watch(focusedCellIndex, (index) => { hoveredIndex.value = index })\n    watch(hoveredIndex, (index) => { focusedCellIndex.value = index })\n\n    return {\n      months,\n      hoveredIndex,\n      onClick,\n      isToday,\n      isSelected,\n      isInRange,\n      isDisabled,\n      containerAttributes,\n      focusedCellIndex,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.va-month-picker {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr); // 4 columns\n  grid-gap: var(--va-date-picker-cell-gap);\n  min-width: calc(var(--va-date-picker-cell-size) * 7 + var(--va-date-picker-cell-gap) * 6); // 7 days + gap\n  width: 100%;\n\n  &__month-wrapper {\n    border-radius: var(--va-date-picker-cell-radius);\n    text-align: center;\n    user-select: none;\n    overflow: hidden;\n  }\n}\n</style>\n"],"names":["_sfc_main","defineComponent","name","components","VaDatePickerCell","props","modelValue","type","Date","Array","Object","monthNames","required","view","default","allowedMonths","Function","highlightToday","Boolean","mode","String","readonly","emits","setup","emit","toRefs","months","computed","from","keys","map","month","value","year","hoveredIndex","onClick","isToday","isSelected","isInRange","useDatePicker","focusedCellIndex","containerAttributes","useGridKeyboardNavigation","rowSize","start","end","length","onSelected","selectedIndex","watch","index","isDisabled","date","_openBlock","_createElementBlock","_mergeProps","class","_ctx","_Fragment","_renderList","monthIndex","key","onMouseenter","onMouseleave","_cache","_createVNode","_component_va_date_picker_cell","selected","disabled","today","focused","$event","_renderSlot","$slots","_normalizeProps","_guardReactiveProps","_createTextVNode","_toDisplayString"],"mappings":"khBAqCA,MAAKA,EAAaC,EAAa,CAC7BC,KAAM,gBAENC,WAAY,CAAEC,iBAAAA,GAEdC,MAAO,CACLC,WAAY,CAAEC,KAAM,CAACC,KAAMC,MAAOC,SAClCC,WAAY,CAAEJ,KAAME,MAA6BG,UAAU,GAC3DC,KAAM,CAAEN,KAAMG,OAAoCI,QAAS,KAAO,CAAEP,KAAM,WAC1EQ,cAAe,CAAER,KAAMS,SAA+CF,aAAS,GAC/EG,eAAgB,CAAEV,KAAMW,QAASJ,SAAS,GAC1CK,KAAM,CAAEZ,KAAMa,OAAoCN,QAAS,QAC3DO,SAAU,CAAEd,KAAMW,QAASJ,SAAS,IAGtCQ,MAAO,CAAC,oBAAqB,cAAe,eAE5CC,MAAOlB,GAAOmB,KAAEA,IACR,MAAAX,KAAEA,GAASY,EAAOpB,GAElBqB,EAASC,GAAS,IAAMlB,MAAMmB,KAAKnB,MAAM,IAAIoB,QAAQC,KAAKC,GAAU,IAAIvB,KAAKK,EAAKmB,MAAMC,KAAMF,QAE9FG,aACJA,EAAAC,QACAA,EAAAC,QACAA,EAAAC,WACAA,EAAAC,UACAA,GACEC,EAAc,QAASb,EAAQrB,EAAOmB,IAIpCgB,iBACJA,EAAAC,oBAAkBA,GAChBC,EAA0B,CAC5BC,QAAS,EACTC,MAAO,EACPC,IAAKnB,EAAOM,MAAMc,OAClBC,WAAaC,GAAkBb,EAAQT,EAAOM,MAAMgB,MAM/C,OAHDC,EAAAT,GAAmBU,IAAYhB,EAAaF,MAAQkB,KACpDD,EAAAf,GAAegB,IAAYV,EAAiBR,MAAQkB,KAEnD,CACLxB,OAAAA,EACAQ,aAAAA,EACAC,QAAAA,EACAC,QAAAA,EACAC,WAAAA,EACAC,UAAAA,EACAa,WArBkBC,QAAuC,IAAxB/C,EAAMU,gBAAuCV,EAAMU,cAAcqC,GAsBlGX,oBAAAA,EACAD,iBAAAA,iHAzFJa,OAAAA,IAAAC,EAuBM,MAvBNC,EAuBM,CAvBDC,MAAM,mBAA0BC,EAAmBhB,qBAAA,EAAAY,GAAA,GACtDC,EAqBMI,EAAA,KAAAC,EApB0BF,EAAM/B,QAAA,CAA5BK,EAAO6B,SADjBN,EAqBM,MAAA,CAnBHO,IAAKD,EACNJ,MAAM,iCACLM,gBAAYL,EAAevB,aAAA0B,EAC3BG,aAAUC,eAAEP,EAAYvB,cAAA,IAAA,CAEzB+B,EAasBC,EAAA,CAZnB,aAAYT,EAAAnB,UAAUP,GACtBoC,WAAYV,EAAApB,WAAWN,GACvBqC,WAAYX,EAAAN,WAAWpB,GACvBsC,QAASZ,EAAArB,QAAQL,GACjBuC,QAASb,EAAiBvB,eAAA0B,EAC1B,kBAAiBH,EAAAxC,eACjBI,SAAUoC,EAAApC,SACVc,QAAKoC,IAAEd,EAAAtB,QAAQJ,GAA2B0B,EAAAjB,iBAAAoB,IAAU,YAErD,IAEO,CAFPY,EAEOf,EAFsBgB,OAAA,QAAAC,EAAAC,EAAA,CAAAf,WAAAA,EAAU7B,MAAS0B,EAAW9C,WAAAiD,OAA3D,IAEO,CAAAgB,EAAAC,EADFpB,aAAWG,IAAU"}