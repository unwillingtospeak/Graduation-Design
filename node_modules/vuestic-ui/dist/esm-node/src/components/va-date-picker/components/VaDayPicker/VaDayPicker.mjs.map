{"version":3,"file":"VaDayPicker.mjs","sources":["../../../../../../../src/components/va-date-picker/components/VaDayPicker/VaDayPicker.vue"],"sourcesContent":["<template>\n  <div class=\"va-day-picker\" v-bind=\"containerAttributes\">\n    <template v-if=\"!hideWeekDays\">\n      <div\n        v-for=\"weekday in weekdayNamesComputed\" :key=\"weekday\"\n        class=\"va-day-picker__weekday\"\n      >\n        <slot name=\"weekday\">\n          {{ weekday }}\n        </slot>\n      </div>\n    </template>\n\n    <div\n      class=\"va-day-picker__calendar__day-wrapper\"\n      v-for=\"(date, index) in calendarDates\"\n      :key=\"index\"\n      @mouseenter=\"hoveredIndex = index\"\n      @mouseleave=\"hoveredIndex = -1\"\n    >\n      <va-date-picker-cell\n        :hidden=\"isOtherMonth(date) && !showOtherMonths\"\n        :today=\"isToday(date)\"\n        :selected=\"isSelected(date)\"\n        :in-range=\"isInRange(date)\"\n        :other-month=\"isOtherMonth(date)\"\n        :weekend=\"isDateWeekend(date)\"\n        :disabled=\"isDateDisabled(date)\"\n        :focused=\"hoveredIndex === index\"\n        :highlight-today=\"highlightToday\"\n        :highlight-weekend=\"highlightWeekend\"\n        :readonly=\"readonly\"\n        @click=\"onClick(date); focusedCellIndex = index\"\n      >\n        <span class=\"va-date-picker-cell__day\">\n          <slot name=\"day\" v-bind=\"{ date }\">\n            {{ date.getDate() }}\n          </slot>\n        </span>\n      </va-date-picker-cell>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, toRefs, PropType, watch } from 'vue'\n\nimport { extractComponentProps, filterComponentProps } from '../../../../utils/child-props'\nimport { useGridKeyboardNavigation } from '../../hooks/grid-keyboard-navigation'\nimport { useDatePicker } from '../../hooks/use-picker'\nimport { useVaDatePickerCalendar } from './va-date-picker-calendar-hook'\n\nimport { DatePickerMode, DatePickerModelValue, DatePickerView } from '../../types'\n\nimport VaDatePickerCell from '../VaDatePickerCell.vue'\n\nconst VaDatePickerCellProps = extractComponentProps(VaDatePickerCell, ['date', 'selectedValue', 'focusedDate', 'focused'])\n\nexport default defineComponent({\n  name: 'VaDayPicker',\n\n  components: { VaDatePickerCell },\n\n  props: {\n    ...VaDatePickerCellProps,\n    monthNames: { type: Array as PropType<string[]>, required: true },\n    weekdayNames: { type: Array as PropType<string[]>, required: true },\n    firstWeekday: { type: String as PropType<'Monday' | 'Sunday'>, default: 'Sunday' },\n    hideWeekDays: { type: Boolean, default: false },\n    view: { type: Object as PropType<DatePickerView>, default: () => ({ type: 'day' }) },\n    modelValue: { type: [Date, Array, Object] as PropType<DatePickerModelValue> },\n    mode: { type: String as PropType<DatePickerMode>, default: 'auto' },\n    showOtherMonths: { type: Boolean, default: false },\n    allowedDays: { type: Function as PropType<(date: Date) => boolean> },\n    weekends: { type: Function as PropType<(date: Date) => boolean> },\n    highlightWeekend: { type: Boolean, default: false },\n    highlightToday: { type: Boolean, default: false },\n    readonly: { type: Boolean, default: false },\n  },\n\n  emits: ['update:modelValue', 'hover:day', 'click:day'],\n\n  setup (props, { emit }) {\n    const { firstWeekday, weekdayNames, view } = toRefs(props)\n\n    const VaDayPickerCellPropValues = filterComponentProps(props, VaDatePickerCellProps)\n\n    const { calendarDates, currentMonthStartIndex, currentMonthEndIndex } = useVaDatePickerCalendar(view, { firstWeekday })\n\n    const weekdayNamesComputed = computed(() => {\n      return firstWeekday.value === 'Sunday'\n        ? weekdayNames.value\n        : [...weekdayNames.value.slice(1), weekdayNames.value[0]]\n    })\n\n    const {\n      hoveredIndex,\n      onClick,\n      isToday,\n      isSelected,\n      isInRange,\n    } = useDatePicker('day', calendarDates, props, emit)\n\n    const gridStartIndex = computed(() => props.showOtherMonths ? 0 : currentMonthStartIndex.value)\n    const gridEndIndex = computed(() => props.showOtherMonths ? calendarDates.value.length : currentMonthEndIndex.value)\n\n    const {\n      focusedCellIndex, containerAttributes,\n    } = useGridKeyboardNavigation({\n      rowSize: 7,\n      start: gridStartIndex,\n      end: gridEndIndex,\n      onSelected: (selectedValue) => onClick(calendarDates.value[selectedValue]),\n    })\n\n    watch(focusedCellIndex, (index) => { hoveredIndex.value = index })\n    watch(hoveredIndex, (index) => { focusedCellIndex.value = index })\n\n    const isOtherMonth = (date: Date) => props.view.month !== date.getMonth()\n    const isDateDisabled = (date: Date) => props.allowedDays === undefined ? false : !props.allowedDays(date)\n    const isDateWeekend = (date: Date) => {\n      if (props.weekends === undefined) {\n        return date.getDay() === 6 || date.getDay() === 0 // 0 - Sunday, 6 - Saturday\n      }\n\n      return props.weekends(date)\n    }\n\n    return {\n      hoveredIndex,\n      calendarDates,\n      onClick,\n      isToday,\n      isSelected,\n      isInRange,\n      isOtherMonth,\n      isDateDisabled,\n      isDateWeekend,\n      containerAttributes,\n      weekdayNamesComputed,\n      VaDayPickerCellPropValues,\n      focusedCellIndex,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.va-day-picker {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr); // 7 columns\n  grid-gap: var(--va-date-picker-cell-gap);\n\n  &__weekday {\n    height: var(--va-date-picker-cell-size);\n    color: var(--va-secondary);\n    text-align: center;\n    font-size: var(--va-date-picker-weekday-font-size);\n    font-weight: bold;\n    line-height: var(--va-date-picker-cell-size);\n  }\n}\n</style>\n"],"names":["VaDatePickerCellProps","extractComponentProps","VaDatePickerCell","_sfc_main","defineComponent","name","components","props","monthNames","type","Array","required","weekdayNames","firstWeekday","String","default","hideWeekDays","Boolean","view","Object","modelValue","Date","mode","showOtherMonths","allowedDays","Function","weekends","highlightWeekend","highlightToday","readonly","emits","setup","emit","toRefs","VaDayPickerCellPropValues","filterComponentProps","calendarDates","currentMonthStartIndex","currentMonthEndIndex","useVaDatePickerCalendar","weekdayNamesComputed","computed","value","slice","hoveredIndex","onClick","isToday","isSelected","isInRange","useDatePicker","gridStartIndex","gridEndIndex","length","focusedCellIndex","containerAttributes","useGridKeyboardNavigation","rowSize","start","end","onSelected","selectedValue","watch","index","isOtherMonth","date","month","getMonth","isDateDisabled","isDateWeekend","getDay","_hoisted_2","class","_openBlock","_createElementBlock","_mergeProps","_ctx","openBlock","_Fragment","key","_renderList","weekday","_renderSlot","_createTextVNode","_toDisplayString","onMouseenter","onMouseleave","_cache","_createVNode","_component_va_date_picker_cell","hidden","today","selected","weekend","disabled","focused","$event","_createElementVNode","$slots","_normalizeProps","_guardReactiveProps","getDate"],"mappings":"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"}