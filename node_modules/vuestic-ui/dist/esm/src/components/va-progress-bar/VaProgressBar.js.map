{"version":3,"file":"VaProgressBar.js","sources":["../../../../../src/components/va-progress-bar/VaProgressBar.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-progress-bar\"\n    :class=\"rootClass\"\n    :style=\"rooStyle\"\n    v-bind=\"ariaAttributesComputed\"\n  >\n    <div\n      v-if=\"!$props.contentInside\"\n      class=\"va-progress-bar__info\"\n    >\n      <slot v-bind=\"{ value: $props.modelValue }\">\n        <template v-if=\"$props.showPercent\">\n          {{ $props.modelValue }}%\n        </template>\n      </slot>\n    </div>\n\n    <div class=\"va-progress-bar__wrapper\" :style=\"wrapperStyle\">\n      <div class=\"va-progress-bar__buffer\" :style=\"bufferStyle\">\n        <slot v-if=\"$props.contentInside\" v-bind=\"{ value: $props.modelValue }\">\n          <template v-if=\"$props.showPercent\">\n            {{ $props.modelValue }}%\n          </template>\n        </slot>\n      </div>\n\n      <template v-if=\"indeterminate\">\n        <div\n          class=\"va-progress-bar__progress--indeterminate-start\"\n          :style=\"intermediateStyle\"\n        />\n        <div\n          class=\"va-progress-bar__progress--indeterminate-end\"\n          :style=\"intermediateStyle\"\n        />\n      </template>\n      <div v-else class=\"va-progress-bar__progress\" :style=\"progressStyle\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType, StyleValue } from 'vue'\nimport clamp from 'lodash/clamp.js'\n\nimport { useColors, useTextColor } from '../../composables'\n\nexport default defineComponent({\n  name: 'VaProgressBar',\n\n  props: {\n    modelValue: { type: Number, default: 0 },\n    indeterminate: { type: Boolean, default: false },\n    color: { type: String, default: 'primary' },\n    size: {\n      type: [Number, String] as PropType<number | 'medium' | 'large' | 'small'>,\n      default: 'medium',\n    },\n    buffer: { type: Number, default: 100 },\n    rounded: { type: Boolean, default: true },\n    reverse: { type: Boolean, default: false },\n    contentInside: { type: Boolean, default: false },\n    showPercent: { type: Boolean, default: false },\n  },\n\n  setup (props) {\n    const { getColor, getHoverColor } = useColors()\n    const { textColorComputed } = useTextColor()\n    const colorComputed = computed(() => getColor(props.color))\n\n    const isTextSize = computed(() => typeof props.size === 'string' && ['small', 'medium', 'large'].includes(props.size))\n\n    const getCSSHeight = () => {\n      if (typeof props.size === 'number') { return `${props.size}px` }\n      if (isTextSize.value) { return }\n\n      return props.size\n    }\n\n    return {\n      rootClass: computed(() => ({\n        'va-progress-bar--square': !props.rounded,\n        [`va-progress-bar--${props.size}`]: isTextSize.value,\n      })),\n\n      rooStyle: computed(() => ({\n        '--va-progress-bar-color': colorComputed.value,\n        '--va-progress-bar-background-color': getHoverColor(colorComputed.value),\n      }) as StyleValue),\n\n      wrapperStyle: computed(() => ({\n        height: getCSSHeight(),\n      })),\n\n      bufferStyle: computed(() => ({\n        width: `${props.indeterminate ? 100 : clamp(props.buffer, 0, 100)}%`,\n        color: textColorComputed.value,\n        [props.reverse ? 'right' : 'left']: 0,\n      })),\n\n      progressStyle: computed(() => ({\n        width: `${clamp(props.modelValue, 0, 100)}%`,\n        marginLeft: props.reverse ? 'auto' : undefined,\n      })),\n\n      intermediateStyle: computed(() => ({\n        animationDirection: props.reverse ? 'reverse' : 'normal',\n      })),\n\n      ariaAttributesComputed: computed(() => ({\n        role: 'progressbar',\n        ariaLabel: 'progress state',\n        ariaValuenow: !props.indeterminate ? props.modelValue : undefined,\n      })),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import 'variables';\n\n.va-progress-bar {\n  $p: &;\n\n  width: var(--va-progress-bar-width);\n  position: var(--va-progress-bar-position);\n  overflow: var(--va-progress-bar-overflow);\n  font-family: var(--va-font-family);\n  line-height: var(--va-progress-bar-line-height);\n\n  &__info {\n    font-weight: var(--va-progress-bar-info-font-weight);\n    text-align: var(--va-progress-bar-info-text-align);\n    text-transform: var(--va-progress-bar-info-text-transform);\n\n    &:not(:empty) {\n      margin-bottom: var(--va-progress-bar-info-not-empty-margin-bottom);\n    }\n  }\n\n  &__wrapper {\n    position: var(--va-progress-bar--wrapper-position);\n    overflow: var(--va-progress-bar--wrapper-overflow);\n    border-radius: var(--va-progress-bar--wrapper-border-radius);\n\n    #{$p}--small & {\n      height: var(--va-progress-bar-sm-height);\n    }\n\n    #{$p}--medium & {\n      height: var(--va-progress-bar-height);\n    }\n\n    #{$p}--large & {\n      height: var(--va-progress-bar-lg-height);\n    }\n  }\n\n  &--square &__wrapper {\n    border-radius: var(--va-progress-bar-square-border-radius);\n  }\n\n  &__buffer {\n    position: var(--va-progress-bar-buffer-position);\n    top: var(--va-progress-bar-buffer-top);\n    height: inherit;\n    border-radius: inherit;\n    transition: var(--va-progress-bar-buffer-transition);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    letter-spacing: var(--va-progress-bar-letter-spacing);\n    font-size: var(--va-progress-bar-font-size);\n    font-weight: var(--va-progress-bar-font-weight);\n    background-color: var(--va-progress-bar-background-color);\n  }\n\n  &__progress {\n    height: inherit;\n    border-radius: inherit;\n    transition: var(--va-progress-bar-transition);\n    background-color: var(--va-progress-bar-color);\n\n    &--indeterminate-start {\n      background-color: var(--va-progress-bar-color);\n      animation: va-progress-bar-indeterminate-start 2s ease-in infinite;\n      position: absolute;\n      height: inherit;\n    }\n\n    &--indeterminate-end {\n      background-color: var(--va-progress-bar-color);\n      animation: va-progress-bar-indeterminate-end 2s ease-out 1s infinite;\n      position: absolute;\n      height: inherit;\n    }\n  }\n}\n\n@keyframes va-progress-bar-indeterminate-start {\n  0% {\n    width: 10%;\n    left: -10%;\n  }\n\n  50% {\n    width: 100%;\n    left: 100%;\n  }\n\n  100% {\n    width: 100%;\n    left: 100%;\n  }\n}\n\n@keyframes va-progress-bar-indeterminate-end {\n  0% {\n    width: 100%;\n    left: -100%;\n  }\n\n  50% {\n    width: 10%;\n    left: 100%;\n  }\n\n  100% {\n    width: 10%;\n    left: 100%;\n  }\n}\n</style>\n"],"names":["clamp","_openBlock","_createElementBlock","_mergeProps","_renderSlot","_normalizeProps","_guardReactiveProps","_Fragment","_createTextVNode","_toDisplayString","_createCommentVNode","_createElementVNode","_normalizeStyle"],"mappings":"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"}