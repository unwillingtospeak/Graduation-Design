{"version":3,"file":"VaCheckbox.js","sources":["../../../../../src/components/va-checkbox/VaCheckbox.vue"],"sourcesContent":["<template>\n  <VaMessageListWrapper\n    class=\"va-checkbox\"\n    :class=\"computedClass\"\n    :disabled=\"disabled\"\n    :success=\"success\"\n    :messages=\"messages\"\n    :error=\"computedError\"\n    :error-messages=\"computedErrorMessages\"\n    :error-count=\"errorCount\"\n  >\n    <div\n      ref=\"container\"\n      class=\"va-checkbox__input-container\"\n      @click=\"toggleSelection\"\n      @blur=\"onBlur\"\n    >\n      <div\n        class=\"va-checkbox__square\"\n        :style=\"inputStyle\"\n        @selectstart.prevent\n      >\n        <input\n          ref=\"input\"\n          type=\"checkbox\"\n          class=\"va-checkbox__input\"\n          :id=\"computedId\"\n          :indeterminate=\"indeterminate\"\n          :value=\"label\"\n          :checked=\"isActive\"\n          v-bind=\"inputAttributesComputed\"\n          v-on=\"keyboardFocusListeners\"\n          @focus=\"onFocus\"\n          @blur=\"onBlur\"\n          @click.stop.prevent\n          @keypress.prevent=\"toggleSelection\"\n        >\n        <va-icon\n          v-show=\"isActive\"\n          class=\"va-checkbox__icon\"\n          size=\"20px\"\n          :name=\"computedIconName\"\n          :color=\"textColorComputed\"\n        />\n      </div>\n      <label\n        v-if=\"label || $slots.label\"\n        ref=\"label\"\n        class=\"va-checkbox__label\"\n        :for=\"computedId\"\n        :style=\"labelStyle\"\n        @blur=\"onBlur\"\n      >\n        <slot name=\"label\">{{ label }}</slot>\n      </label>\n    </div>\n  </VaMessageListWrapper>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, PropType, shallowRef } from 'vue'\n\nimport { generateUniqueId } from '../../services/utils'\nimport {\n  useKeyboardOnlyFocus,\n  useColors, useTextColor,\n  useSelectable, useSelectableProps, useSelectableEmits, Elements,\n} from '../../composables'\n\nimport { VaMessageListWrapper } from '../va-input'\nimport { VaIcon } from '../va-icon/'\n\nconst VaCheckboxValueType = [Boolean, Array, String, Object] as PropType<boolean | null | string | number | Record<any, unknown> | unknown[]>\n\nexport default defineComponent({\n  name: 'VaCheckbox',\n  components: { VaMessageListWrapper, VaIcon },\n  emits: useSelectableEmits,\n  props: {\n    ...useSelectableProps,\n    modelValue: { type: VaCheckboxValueType, default: false },\n    color: { type: String, default: 'primary' },\n    checkedIcon: { type: String, default: 'check' },\n    indeterminate: { type: Boolean, default: false },\n    indeterminateValue: { type: VaCheckboxValueType, default: null },\n    indeterminateIcon: { type: String, default: 'remove' },\n    id: { type: String, default: '' },\n    name: { type: String, default: '' },\n    ariaLabel: { type: String, default: undefined },\n  },\n  setup (props, { emit }) {\n    const elements: Elements = {\n      container: shallowRef<HTMLElement>(),\n      input: shallowRef<HTMLElement>(),\n      label: shallowRef<HTMLElement>(),\n    }\n\n    const {\n      isChecked,\n      computedError,\n      isIndeterminate,\n      computedErrorMessages,\n      validationAriaAttributes,\n      toggleSelection,\n      onBlur,\n      onFocus,\n    } = useSelectable(props, emit, elements)\n    const { getColor } = useColors()\n    const { hasKeyboardFocus, keyboardFocusListeners } = useKeyboardOnlyFocus()\n    const { textColorComputed } = useTextColor()\n\n    const isActive = computed(() => isChecked.value || isIndeterminate.value)\n\n    const computedClass = computed(() => ({\n      'va-checkbox--selected': isChecked.value,\n      'va-checkbox--readonly': props.readonly,\n      'va-checkbox--disabled': props.disabled,\n      'va-checkbox--indeterminate': props.indeterminate,\n      'va-checkbox--error': computedError.value,\n      'va-checkbox--left-label': props.leftLabel,\n      'va-checkbox--on-keyboard-focus': hasKeyboardFocus.value,\n    }))\n\n    const labelStyle = computed(() => {\n      return {\n        color: computedError.value ? getColor('danger') : '',\n        padding: !props.label\n          ? ''\n          : props.leftLabel\n            ? '0 0.5rem 0 0'\n            : '0 0 0 0.5rem',\n      }\n    })\n\n    const inputStyle = computed(() => {\n      const style = {\n        background: isActive.value ? getColor(props.color) : '',\n        borderColor: isActive.value ? getColor(props.color) : '',\n      }\n\n      if (computedError.value) {\n        style.borderColor = getColor('danger')\n      }\n\n      return style\n    })\n\n    const computedIconName = computed(() => props.indeterminate && isIndeterminate.value\n      ? props.indeterminateIcon\n      : props.checkedIcon,\n    )\n\n    const uniqueId = computed(generateUniqueId)\n    const computedId = computed(() => props.id || uniqueId.value)\n    const computedName = computed(() => props.name || uniqueId.value)\n    const inputAttributesComputed = computed(() => ({\n      name: computedName.value,\n      disabled: props.disabled,\n      readonly: props.readonly,\n      tabindex: props.disabled ? -1 : 0,\n      ariaLabel: props.ariaLabel,\n      ariaDisabled: props.disabled,\n      ariaReadOnly: props.readonly,\n      ariaChecked: isActive.value,\n      ...validationAriaAttributes.value,\n    }))\n\n    return {\n      isActive,\n      computedClass,\n      labelStyle,\n      inputStyle,\n      computedIconName,\n      textColorComputed,\n      computedError,\n      computedErrorMessages,\n      keyboardFocusListeners,\n      toggleSelection,\n      onBlur,\n      onFocus,\n      inputAttributesComputed,\n      computedId,\n      computedName,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-checkbox {\n  display: var(--va-checkbox-display);\n  max-width: var(--va-checkbox-max-width);\n  font-family: var(--va-font-family);\n\n  &__input-container {\n    align-items: var(--va-checkbox-input-align-items);\n    display: var(--va-checkbox-input-display);\n    padding: var(--va-checkbox-input-padding);\n    cursor: var(--va-checkbox-input-cursor);\n    font-size: var(--va-checkbox-font-size);\n    line-height: var(--va-checkbox-line-height);\n\n    @at-root {\n      .va-checkbox--disabled & {\n        @include va-disabled();\n\n        cursor: var(--va-checkbox-disabled-cursor);\n      }\n\n      .va-checkbox--readonly & {\n        cursor: var(--va-checkbox-readonly-cursor);\n      }\n\n      .va-checkbox--left-label & {\n        flex-direction: row-reverse;\n      }\n    }\n  }\n\n  #{&}__square {\n    @include flex-center();\n\n    width: var(--va-checkbox-square-width);\n    min-width: var(--va-checkbox-square-min-width);\n    height: var(--va-checkbox-square-height);\n    position: var(--va-checkbox-square-position);\n    background-color: var(--va-checkbox-square-background-color, var(--va-background-color));\n    border: var(--va-checkbox-square-border, var(--va-control-border));\n    border-radius: var(--va-checkbox-square-border-radius);\n\n    @at-root {\n      .va-checkbox--on-keyboard-focus#{&} {\n        transition: all, 0.6s, ease-in;\n        box-shadow: 0 0 0.5rem 0 rgba(0, 0, 0, 0.3);\n      }\n    }\n  }\n\n  &__input {\n    @include visually-hidden;\n  }\n\n  &__label {\n    display: var(--va-checkbox-label-display);\n    position: var(--va-checkbox-label-position);\n  }\n\n  &__icon {\n    pointer-events: var(--va-checkbox-icon-pointer-events);\n    position: var(--va-checkbox-icon-position);\n  }\n\n  &--selected {\n    .va-checkbox {\n      &__icon {\n        color: var(--va-checkbox-selected-icon-color);\n      }\n    }\n  }\n\n  &--indeterminate {\n    .va-checkbox {\n      &__icon {\n        color: var(--va-checkbox-indeterminate-icon-color);\n      }\n    }\n  }\n}\n</style>\n"],"names":["_createBlock","_normalizeClass","_createElementVNode","_normalizeStyle","_withModifiers","_mergeProps","_toHandlers","_createVNode","_createElementBlock","_renderSlot","_createTextVNode","_toDisplayString"],"mappings":"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"}