{"version":3,"file":"VaButtonDropdown.js","sources":["../../../../../src/components/va-button-dropdown/VaButtonDropdown.vue"],"sourcesContent":["<template>\n  <div :class=\"computedClass\">\n    <va-dropdown\n      v-if=\"!$props.split\"\n      :disabled=\"$props.disabled\"\n      :placement=\"$props.placement\"\n      :offset=\"$props.offset\"\n      :keep-anchor-width=\"$props.keepAnchorWidth\"\n      :close-on-content-click=\"$props.closeOnContentClick\"\n      :stateful=\"$props.stateful\"\n      v-model=\"valueComputed\"\n    >\n      <template #anchor>\n        <va-button\n          :disabled=\"$props.disabled\"\n          :round=\"!$props.label && !$slots.label\"\n          v-bind=\"{ ...computedButtonIcons, ...computedViewStyles }\"\n          v-on=\"listeners\"\n          @keydown.esc.prevent=\"hideDropdown\"\n        >\n          <slot name=\"label\">\n            {{ label }}\n          </slot>\n        </va-button>\n      </template>\n\n      <va-dropdown-content>\n        <slot />\n      </va-dropdown-content>\n    </va-dropdown>\n\n    <va-button-group\n      v-else\n      :class=\"{ 'va-button-group__left-icon': $props.leftIcon }\"\n      v-bind=\"computedViewStyles\"\n    >\n      <va-button\n        v-if=\"!$props.leftIcon\"\n        :disabled=\"$props.disabled || $props.disableButton\"\n        v-bind=\"computedMainButtonProps\"\n        v-on=\"mainButtonListeners\"\n      >\n        <slot name=\"label\">\n          {{ label }}\n        </slot>\n      </va-button>\n\n      <va-dropdown\n        :disabled=\"$props.disabled || $props.disableDropdown\"\n        :placement=\"$props.placement\"\n        :offset=\"$props.offset\"\n        :stateful=\"$props.stateful\"\n        v-model=\"valueComputed\"\n      >\n        <template #anchor>\n          <va-button\n            aria-label=\"toggle dropdown\"\n            :disabled=\"$props.disabled || $props.disableDropdown\"\n            :icon=\"computedIcon\"\n            v-on=\"listeners\"\n            @keydown.esc.prevent=\"hideDropdown\"\n          />\n        </template>\n        <va-dropdown-content>\n          <slot />\n        </va-dropdown-content>\n      </va-dropdown>\n\n      <va-button\n        v-if=\"$props.leftIcon\"\n        :disabled=\"$props.disabled || $props.disableButton\"\n        v-bind=\"computedMainButtonProps\"\n        v-on=\"mainButtonListeners\"\n      >\n        <slot name=\"label\">\n          {{ label }}\n        </slot>\n      </va-button>\n    </va-button-group>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType } from 'vue'\nimport pick from 'lodash/pick.js'\n\nimport { useStateful, useStatefulProps, useEmitProxy, Placement, placementsPositions } from '../../composables'\n\nimport { VaDropdown, VaDropdownContent } from '../va-dropdown'\nimport { VaButton } from '../va-button'\nimport { VaButtonGroup } from '../va-button-group'\n\nconst { createEmits, createVOnListeners: createListeners } = useEmitProxy(\n  ['click'],\n)\n\nconst { createEmits: createMainButtonEmits, createVOnListeners: createMainButtonListeners } = useEmitProxy(\n  [{ listen: 'click', emit: 'main-button-click' }],\n)\n\nconst componentName = 'VaButtonDropdown'\n\nexport default defineComponent({\n  name: componentName,\n\n  components: {\n    VaButtonGroup,\n    VaButton,\n    VaDropdown,\n    VaDropdownContent,\n  },\n\n  emits: ['update:modelValue', ...createEmits(), ...createMainButtonEmits()],\n\n  props: {\n    ...useStatefulProps,\n    modelValue: { type: Boolean, default: false },\n    stateful: { type: Boolean, default: true },\n\n    color: { type: String, default: 'primary' },\n    textColor: { type: String, default: undefined },\n    size: {\n      type: String as PropType<'medium' | 'small' | 'large'>,\n      default: 'medium',\n      validator: (value: string) => ['medium', 'small', 'large'].includes(value),\n    },\n    outline: { type: Boolean, default: false },\n    flat: { type: Boolean, default: false },\n    rounded: { type: Boolean, default: true },\n    gradient: { type: Boolean, default: undefined },\n\n    icon: { type: String, default: 'expand_more' },\n    openedIcon: { type: String, default: 'expand_less' },\n    hideIcon: { type: Boolean, default: false },\n    leftIcon: { type: Boolean, default: false },\n\n    disableButton: { type: Boolean, default: false },\n    disableDropdown: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n\n    placement: {\n      type: String as PropType<Placement>,\n      default: 'bottom',\n      validator: (placement: string) => placementsPositions.includes(placement),\n    },\n    offset: { type: [Number, Array] as PropType<number | [number, number]>, default: 2 },\n    keepAnchorWidth: { type: Boolean, default: false },\n    closeOnContentClick: { type: Boolean, default: true },\n\n    split: { type: Boolean },\n    splitTo: { type: String, default: '' },\n    splitHref: { type: String, default: '' },\n\n    loading: { type: Boolean, default: false },\n    label: { type: String },\n  },\n\n  setup (props, { emit, slots }) {\n    const { valueComputed } = useStateful(props, emit)\n\n    const computedIcon = computed<string>(() => {\n      return valueComputed.value ? props.openedIcon : props.icon\n    })\n\n    const computedClass = computed(() => ({\n      'va-button-dropdown': true,\n      'va-button-dropdown--split': props.split,\n      'va-button-dropdown--normal': props.size === 'medium',\n      'va-button-dropdown--large': props.size === 'large',\n      'va-button-dropdown--small': props.size === 'small',\n    }))\n\n    const computedButtonIcons = computed(() => {\n      const propName = (props.label || slots.label) && !props.leftIcon ? 'icon-right' : 'icon'\n      return props.hideIcon ? {} : { [propName]: computedIcon.value }\n    })\n\n    const computedViewStyles = computed(\n      () => pick(props, ['outline', 'gradient', 'rounded', 'flat', 'size', 'color']),\n    )\n\n    const computedMainButtonProps = computed(() => ({\n      to: props.splitTo,\n      href: props.splitHref,\n      loading: props.loading,\n    }))\n\n    const hideDropdown = () => { valueComputed.value = false }\n\n    return {\n      hideDropdown,\n      valueComputed,\n      computedIcon,\n      computedClass,\n      listeners: createListeners(emit),\n      mainButtonListeners: createMainButtonListeners(emit),\n      computedButtonIcons,\n      computedViewStyles,\n      computedMainButtonProps,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n\n.va-button-dropdown {\n  display: inline-block;\n  font-family: var(--va-font-family);\n\n  .va-button {\n    margin: var(--va-button-dropdown-button-margin);\n  }\n\n  &--split {\n    .va-dropdown {\n      .va-dropdown__anchor {\n        margin: var(--va-button-dropdown-button-margin);\n      }\n    }\n\n    .va-button-group__left-icon {\n      .va-dropdown {\n        .va-button {\n          border-top-right-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n      }\n\n      > .va-button {\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n        border-left: none;\n      }\n    }\n\n    :not(.va-button-group__left-icon) {\n      .va-dropdown {\n        .va-button {\n          border-top-left-radius: 0;\n          border-bottom-left-radius: 0;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"names":["pick","_createElementBlock","_normalizeClass","_createBlock","_withCtx","_createVNode","_mergeProps","_toHandlers","_withKeys","_renderSlot","_createTextVNode","_toDisplayString","_openBlock"],"mappings":"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"}