{"version":3,"file":"VaCarousel.js","sources":["../../../../../src/components/va-carousel/VaCarousel.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-carousel\"\n    :class=\"{\n      'va-carousel--vertical': $props.vertical,\n      [`va-carousel--${$props.effect}`]: true\n    }\"\n    :style=\"{ height }\"\n    role=\"region\"\n    aria-label=\"carousel\"\n  >\n    <template v-if=\"$props.arrows\">\n      <div\n        v-if=\"doShowPrevButton\"\n        class=\"va-carousel__arrow va-carousel__arrow--left\"\n        @click=\"prev\"\n        @keydown.enter.stop=\"prev\"\n      >\n        <slot name=\"prev-arrow\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :color=\"hover ? computedHoverColor : computedColor\"\n              :icon=\"vertical ? 'expand_less' : 'chevron_left'\"\n              aria-label=\"go previous slide\"\n            />\n          </va-hover>\n        </slot>\n      </div>\n      <div\n        v-if=\"doShowNextButton\"\n        class=\"va-carousel__arrow va-carousel__arrow--right\"\n        @click=\"next\"\n        @keydown.enter.stop=\"next\"\n      >\n        <slot name=\"next-arrow\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :color=\"hover ? computedHoverColor : computedColor\"\n              :icon=\"vertical ? 'expand_more' : 'chevron_right'\"\n              aria-label=\"go next slide\"\n            />\n          </va-hover>\n        </slot>\n      </div>\n    </template>\n\n    <div class=\"va-carousel__indicators\" v-if=\"$props.indicators\">\n      <div\n        class=\"va-carousel__indicator\"\n        v-for=\"(item, index) in $props.items\" :key=\"index\"\n        :class=\"{ 'va-carousel__indicator--active': index === modelValue }\"\n        v-bind=\"indicatorTrigger === 'hover' ? { onmouseover: () => goTo(index) } : { onclick: () => goTo(index) }\"\n      >\n        <slot name=\"indicator\" v-bind=\"{ item, index, goTo, isActive: isCurrentSlide(index) }\">\n          <va-hover #default=\"{ hover }\" stateful>\n            <va-button\n              :aria-label=\"`go slide #${index + 1}`\"\n              round\n              :color=\"isCurrentSlide(index) ? computedActiveColor : (hover ? computedHoverColor : computedColor)\"\n            >\n              {{ index + 1 }}\n            </va-button>\n          </va-hover>\n        </slot>\n      </div>\n    </div>\n\n    <div class=\"va-carousel__content\">\n      <div\n        class=\"va-carousel__slides\"\n        :style=\"computedSlidesStyle\"\n        role=\"list\"\n      >\n        <div\n          class=\"va-carousel__slide\"\n          v-for=\"(item, index) in slides\" :key=\"item\"\n          :style=\"effect === 'fade' ? { animation: fadeKeyframe } : ''\"\n          role=\"listitem\"\n          :aria-hidden=\"!isCurrentSlide(index)\"\n          :aria-current=\"isCurrentSlide(index)\"\n          :aria-label=\"`slide ${index + 1} of ${slides.length}`\"\n        >\n          <slot v-bind=\"{ item, index, goTo, isActive: isCurrentSlide(index) }\">\n            <va-image\n              :src=\"isObjectSlides ? item.src : item\"\n              :alt=\"isObjectSlides ? item.alt : ''\"\n            />\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed } from 'vue'\nimport { useCarousel } from './hooks/useCarousel'\nimport { useCarouselAnimation } from './hooks/useCarouselAnimation'\nimport { useCarouselColor } from './hooks/useCarouselColors'\nimport { useStateful, useStatefulProps, useStatefulEmits } from '../../composables'\nimport { VaImage } from '../va-image'\nimport { VaButton } from '../va-button'\nimport { VaHover } from '../va-hover'\n\nexport default defineComponent({\n  name: 'VaCarousel',\n\n  components: { VaImage, VaButton, VaHover },\n\n  props: {\n    ...useStatefulProps,\n\n    modelValue: { type: Number, default: 0 },\n    items: { type: Array as PropType<any[]>, required: true },\n\n    // Animations\n    autoscroll: { type: Boolean, default: false },\n    autoscrollInterval: { type: Number, default: 1000 },\n    autoscrollPauseDuration: { type: Number, default: 2000 },\n    infinite: { type: Boolean, default: false },\n    fadeKeyframe: { type: String, default: 'va-carousel-fade-appear 1s' },\n\n    // Visual\n    arrows: { type: Boolean, default: true },\n    indicators: { type: Boolean, default: true },\n    indicatorTrigger: {\n      type: String as PropType<'click' | 'hover'>,\n      default: 'click',\n      validator: (value: string) => ['click', 'hover'].includes(value),\n    },\n    vertical: { type: Boolean, default: false },\n    height: { type: String, default: '300px' },\n    effect: {\n      type: String as PropType<'fade' | 'transition'>,\n      default: 'transition',\n      validator: (value: string) => ['fade', 'transition'].includes(value),\n    },\n    color: { type: String, default: 'primary' },\n  },\n\n  emits: useStatefulEmits,\n\n  setup (props, { emit }) {\n    const { valueComputed: currentSlide } = useStateful(props, emit, 0)\n\n    const {\n      goTo, next, prev,\n      doShowNextButton, doShowPrevButton,\n    } = useCarousel(props, currentSlide)\n\n    const { withPause, computedSlidesStyle, slides } = useCarouselAnimation(props, currentSlide)\n    const isObjectSlides = computed(() => {\n      return props.items.length && props.items.every((el) => !!el && typeof el === 'object' && !!el?.src)\n    })\n    const isCurrentSlide = (index: number) => +index === currentSlide.value\n\n    return {\n      doShowNextButton,\n      doShowPrevButton,\n      computedSlidesStyle,\n      goTo: withPause(goTo),\n      prev: withPause(prev),\n      next: withPause(next),\n      slides,\n      isObjectSlides,\n      isCurrentSlide,\n      ...useCarouselColor(),\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"./_variables.scss\";\n\n@keyframes va-carousel-fade-appear {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n\n.va-carousel {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  background: var(--va-carousel-background);\n  box-shadow: var(--va-carousel-box-shadow);\n  border-radius: var(--va-carousel-border-radius);\n  position: relative;\n  overflow: hidden;\n\n  &__content {\n    flex: 1;\n    width: 100%;\n    white-space: nowrap;\n  }\n\n  &__slides {\n    width: 100%;\n    height: 100%;\n    transition: var(--va-carousel-slides-transition);\n  }\n\n  &__slide {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  &__indicators {\n    width: 100%;\n    position: absolute;\n    bottom: var(--va-carousel-padding);\n    display: flex;\n    justify-content: center;\n    z-index: 2;\n    overflow-x: auto;\n    left: 50%;\n    transform: translateX(-50%);\n\n    @include va-scroll();\n\n    & > * {\n      margin: 0 var(--va-carousel-indicators-gap);\n    }\n  }\n\n  &__arrow {\n    z-index: 1;\n    width: max-content;\n    height: max-content;\n\n    &--right {\n      right: var(--va-carousel-padding);\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n\n    &--left {\n      left: var(--va-carousel-padding);\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n  }\n\n  &--vertical {\n    .va-carousel {\n      &__slide {\n        display: flex;\n      }\n\n      &__arrow {\n        z-index: 1;\n\n        &--right {\n          bottom: var(--va-carousel-padding);\n          top: auto;\n          left: 50%;\n          transform: translateX(-50%);\n        }\n\n        &--left {\n          top: var(--va-carousel-padding);\n          left: 50%;\n          transform: translateX(-50%);\n        }\n      }\n\n      &__indicators {\n        left: var(--va-carousel-padding);\n        flex-direction: column;\n        width: auto;\n        height: 100%;\n        top: 50%;\n        transform: translateY(-50%);\n        overflow-x: hidden;\n        overflow-y: auto;\n\n        & > * {\n          margin: var(--va-carousel-indicators-gap) 0;\n        }\n      }\n    }\n  }\n\n  .va-image {\n    height: 100%;\n    width: 100%;\n  }\n}\n</style>\n"],"names":["_createElementBlock","_normalizeClass","_normalizeStyle","_Fragment","_renderSlot","_createVNode","_withCtx","_openBlock","_renderList","_mergeProps","_normalizeProps","_guardReactiveProps","_createTextVNode","_toDisplayString","_createElementVNode"],"mappings":"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"}