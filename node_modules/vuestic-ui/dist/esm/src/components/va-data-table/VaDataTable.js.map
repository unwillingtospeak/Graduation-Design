{"version":3,"file":"VaDataTable.js","sources":["../../../../../src/components/va-data-table/VaDataTable.vue"],"sourcesContent":["<template>\n  <va-inner-loading\n    class=\"va-data-table\"\n    aria-live=\"polite\"\n    v-bind=\"computedAttributes\"\n    :loading=\"loading\"\n    :color=\"loadingColor\"\n  >\n    <table\n      class=\"va-data-table__table\"\n      v-bind=\"computedTableAttributes\"\n    >\n      <colgroup v-if=\"'colgroup' in $slots\">\n        <slot name=\"colgroup\" v-bind=\"columnsComputed\" />\n      </colgroup>\n\n      <thead\n        class=\"va-data-table__table-thead\"\n        :class=\"{ 'va-data-table__table-thead--sticky': $props.stickyHeader }\"\n      >\n        <slot name=\"headerPrepend\" />\n\n        <tr\n          v-if=\"!hideDefaultHeader\"\n          class=\"va-data-table__table-tr\"\n        >\n          <th\n            v-if=\"selectable\"\n            scope=\"col\"\n            class=\"va-data-table__table-th va-data-table__table-cell-select\"\n          >\n            <va-checkbox\n              v-if=\"selectMode === 'multiple'\"\n              aria-label=\"select all rows\"\n              :model-value=\"severalRowsSelected ? 'idl' : allRowsSelected\"\n              :true-value=\"true\"\n              :false-value=\"false\"\n              :color=\"selectedColor\"\n              indeterminate-value=\"idl\"\n              indeterminate\n              @update:model-value=\"toggleBulkSelection\"\n            />\n          </th>\n\n          <th\n            v-for=\"column in columnsComputed\"\n            :key=\"column.name\"\n            scope=\"col\"\n            :aria-sort=\"getColumnAriaSortOrder(column.name)\"\n            :aria-label=\"column.sortable ? `sort column by ${column.label}` : undefined\"\n            :title=\"column.thTitle\"\n            class=\"va-data-table__table-th\"\n            :class=\"getClass(column.thClass)\"\n            :style=\"[getHeaderCSSVariables(column), getStyle(column.thStyle)]\"\n            @click.exact=\"column.sortable && toggleSorting(column)\"\n            @keydown.enter.stop=\"column.sortable && toggleSorting(column)\"\n          >\n            <div class=\"va-data-table__table-th-wrapper\" :tabindex=\"column.sortable ? 0 : -1\">\n              <span v-if=\"`header(${column.name})` in $slots\">\n                <slot :name=\"`header(${column.name})`\" v-bind=\"{ label: column.label, key: column.key }\" />\n              </span>\n\n              <slot v-else name=\"header\" v-bind=\"{ label: column.label, key: column.key }\">\n                <span>{{ column.label }}</span>\n              </slot>\n\n              <div\n                v-if=\"column.sortable\"\n                class=\"va-data-table__table-th-sorting\"\n                aria-hidden=\"true\"\n                @selectstart.prevent\n              >\n                <va-icon\n                  :name=\"sortingOrderIconName\"\n                  size=\"small\"\n                  class=\"va-data-table__table-th-sorting-icon\"\n                  :class=\"{ active: sortBySync === column.name && sortingOrderSync !== null }\"\n                />\n              </div>\n            </div>\n          </th>\n        </tr>\n\n        <slot name=\"headerAppend\" />\n      </thead>\n\n      <tbody\n        class=\"va-data-table__table-tbody\"\n        :style=\"rowCSSVariables\"\n      >\n        <slot name=\"bodyPrepend\" />\n\n        <transition-group\n          :name=\"animationName\"\n          appear\n        >\n\n          <tr\n            v-if=\"showNoDataHtml\"\n            key=\"showNoDataHtml\"\n          >\n            <td\n              :colspan=\"columnsComputed.length + (selectable ? 1 : 0)\"\n              v-html=\"noDataHtml\"\n              class=\"no-data\"\n            />\n          </tr>\n\n          <tr\n            v-else-if=\"showNoDataFilteredHtml\"\n            key=\"showNoDataFilteredHtml\"\n          >\n            <td\n              :colspan=\"columnsComputed.length + (selectable ? 1 : 0)\"\n              v-html=\"noDataFilteredHtml\"\n              class=\"no-data\"\n            />\n          </tr>\n\n          <tr\n            v-for=\"row in rows\"\n            :key=\"`table-row_${row.initialIndex}`\"\n            class=\"va-data-table__table-tr\"\n            :class=\"[{ selected: isRowSelected(row) }]\"\n            v-bind=\"getRowBind(row)\"\n            @click=\"onRowClickHandler('row:click', $event, row)\"\n            @dblclick=\"onRowClickHandler('row:dblclick', $event, row)\"\n            @contextmenu=\"onRowClickHandler('row:contextmenu', $event, row)\"\n          >\n            <td\n              v-if=\"selectable\"\n              class=\"va-data-table__table-td va-data-table__table-cell-select\"\n              :key=\"`selectable_${row.initialIndex}`\"\n              @selectstart.prevent\n            >\n              <va-checkbox\n                :model-value=\"isRowSelected(row)\"\n                :color=\"selectedColor\"\n                :aria-label=\"`select row ${row.initialIndex}`\"\n                @click.shift.exact.stop=\"shiftSelectRows(row)\"\n                @click.ctrl.exact.stop=\"ctrlSelectRow(row)\"\n                @click.exact.stop=\"ctrlSelectRow(row)\"\n              />\n            </td>\n\n            <td\n              v-for=\"cell in row.cells\"\n              :key=\"`table-cell_${cell.column.name + cell.rowIndex}`\"\n              class=\"va-data-table__table-td\"\n              :class=\"getClass(cell.column.tdClass)\"\n              :style=\"[getCellCSSVariables(cell), getStyle(cell.column.tdStyle)]\"\n              v-bind=\"getCellBind(cell, row)\"\n            >\n              <slot\n                v-if=\"`cell(${cell.column.name})` in $slots\"\n                :name=\"`cell(${cell.column.name})`\"\n                v-bind=\"cell\"\n              />\n\n              <slot v-else name=\"cell\" v-bind=\"cell\">\n                {{ cell.value }}\n              </slot>\n            </td>\n          </tr>\n        </transition-group>\n\n        <slot name=\"bodyAppend\" />\n      </tbody>\n\n      <tfoot\n        v-if=\"footerClone\"\n        class=\"va-data-table__table-tfoot\"\n        :class=\"{ 'va-data-table__table-tfoot--sticky': $props.stickyFooter }\"\n      >\n        <slot name=\"footerPrepend\" />\n\n        <tr v-if=\"!hideDefaultHeader\" class=\"va-data-table__table-tr\">\n          <th v-if=\"selectable\" class=\"va-data-table__table-th\">\n            <va-checkbox\n              v-if=\"selectMode === 'multiple'\"\n              aria-label=\"select all rows\"\n              :model-value=\"severalRowsSelected ? 'idl' : allRowsSelected\"\n              :true-value=\"true\"\n              :false-value=\"false\"\n              :color=\"selectedColor\"\n              indeterminate-value=\"idl\"\n              indeterminate\n              @update:model-value=\"toggleBulkSelection\"\n            />\n          </th>\n\n          <th\n            v-for=\"column in columnsComputed\"\n            :key=\"column.name\"\n            :title=\"column.thTitle\"\n            :aria-label=\"allowFooterSorting && column.sortable ? `sort column by ${column.label}` : undefined\"\n            class=\"va-data-table__table-th\"\n            :class=\"getClass(column.thClass)\"\n            :style=\"[getFooterCSSVariables(column), getStyle(column.thStyle)]\"\n            @click.exact=\"allowFooterSorting && column.sortable && toggleSorting(column)\"\n            @keydown.enter.stop=\"allowFooterSorting && column.sortable && toggleSorting(column)\"\n          >\n            <div class=\"va-data-table__table-th-wrapper\" :tabindex=\"allowFooterSorting && column.sortable ? 0 : -1\">\n              <span v-if=\"`footer(${column.name})` in $slots\">\n                <slot :name=\"`footer(${column.name})`\" v-bind=\"{ label: column.label, key: column.key }\" />\n              </span>\n\n              <slot v-else name=\"footer\" v-bind=\"column\">\n                <span>{{ column.label }}</span>\n              </slot>\n\n              <div\n                v-if=\"allowFooterSorting && column.sortable\"\n                class=\"va-data-table__table-th-sorting\"\n                @selectstart.prevent\n              >\n                <va-icon\n                  :name=\"sortingOrderIconName\"\n                  size=\"small\"\n                  class=\"va-data-table__table-th-sorting-icon\"\n                  :class=\"{ active: sortBySync === column.name && sortingOrderSync !== null }\"\n                />\n              </div>\n            </div>\n          </th>\n        </tr>\n\n        <slot name=\"footerAppend\" />\n      </tfoot>\n    </table>\n  </va-inner-loading>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, HTMLAttributes, PropType, TableHTMLAttributes } from 'vue'\nimport omit from 'lodash/omit.js'\nimport pick from 'lodash/pick.js'\n\nimport useColumns, { sortingOptionsValidator } from './hooks/useColumns'\nimport useRows from './hooks/useRows'\nimport useFilterable from './hooks/useFilterable'\nimport useSortable from './hooks/useSortable'\nimport usePaginatedRows from './hooks/usePaginatedRows'\nimport useSelectableRow from './hooks/useSelectableRow'\nimport useStylable from './hooks/useStylable'\nimport useBinding from './hooks/useBinding'\nimport useAnimationName from './hooks/useAnimationName'\n\nimport type {\n  DataTableColumnSource,\n  DataTableItem,\n  DataTableRow,\n  DataTableFilterMethod,\n  DataTableSortingOrder,\n  DataTableSortingOptions,\n  DataTableSelectMode,\n  DataTableRowBind,\n  DataTableCellBind,\n  DataTableItemKey,\n} from './types'\n\nimport { VaInnerLoading } from '../va-inner-loading'\nimport { VaCheckbox } from '../va-checkbox'\nimport { VaIcon } from '../va-icon'\n\ntype emitNames = 'update:modelValue' |\n  'update:sortBy' |\n  'update:sortingOrder' |\n  'filtered' |\n  'sorted' |\n  'selectionChange' |\n  'row:click' |\n  'row:dblclick' |\n  'row:contextmenu'\n\n/*\n  TODO: consider a possibility to lazy-load the hooks with dynamic imports based on respective props' values. E.G.\n\n  if (selectable.value) {\n    const { default: useSelectableRow } = await import(\"./hooks/useSelectableRow\");\n  }\n\n  // Would be a cool feature (if possible at all).\n*/\n\nexport default defineComponent({\n  name: 'VaDataTable',\n\n  components: {\n    VaInnerLoading,\n    VaCheckbox,\n    VaIcon,\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    columns: { type: Array as PropType<DataTableColumnSource[]>, default: () => [] as DataTableColumnSource[] },\n    items: { type: Array as PropType<DataTableItem[]>, default: () => [] as DataTableItem[] },\n    itemsTrackBy: { type: [String, Function] as PropType<string | ((item: DataTableItem) => any)>, default: '' },\n    modelValue: { type: Array as PropType<(DataTableItem | DataTableItemKey)[]> }, // selectedItems\n    sortingOrder: { type: String as PropType<DataTableSortingOrder> }, // model-able\n    sortBy: { type: String }, // model-able\n    sortingOptions: {\n      type: Array as PropType<DataTableSortingOptions>,\n      default: () => ['asc', 'desc', null],\n      validator: sortingOptionsValidator,\n    },\n    filter: { type: String, default: '' },\n    filterMethod: { type: Function as PropType<DataTableFilterMethod> },\n    hoverable: { type: Boolean, default: false },\n    clickable: { type: Boolean, default: false },\n    animated: { type: Boolean, default: true },\n    selectable: { type: Boolean, default: false },\n    selectMode: { type: String as PropType<DataTableSelectMode>, default: 'multiple' },\n    selectedColor: { type: String, default: 'primary' },\n    perPage: { type: Number },\n    currentPage: { type: Number },\n    loading: { type: Boolean, default: false },\n    loadingColor: { type: String, default: 'primary' },\n    noDataHtml: { type: String, default: 'No items' },\n    noDataFilteredHtml: { type: String, default: 'No items match the provided filtering condition' },\n    hideDefaultHeader: { type: Boolean, default: false },\n    footerClone: { type: Boolean, default: false },\n    allowFooterSorting: { type: Boolean, default: false },\n    striped: { type: Boolean, default: false },\n    stickyHeader: { type: Boolean, default: false },\n    stickyFooter: { type: Boolean, default: false },\n    height: { type: [String, Number] },\n    rowBind: { type: null as unknown as PropType<DataTableRowBind> },\n    cellBind: { type: null as unknown as PropType<DataTableCellBind> },\n  },\n\n  emits: [\n    'update:modelValue', // `modelValue` is selectedItems\n    'update:sortBy',\n    'update:sortingOrder',\n    'filtered',\n    'sorted',\n    'selectionChange',\n    'row:click',\n    'row:dblclick',\n    'row:contextmenu',\n  ],\n\n  setup (props, { attrs, emit }) {\n    const { columnsComputed } = useColumns(props)\n\n    const { rowsComputed } = useRows(columnsComputed, props)\n\n    const { filteredRows } = useFilterable(rowsComputed, props, emit)\n\n    const {\n      sortBySync,\n      sortingOrderSync,\n      toggleSorting,\n      sortedRows,\n      sortingOrderIconName,\n    } = useSortable(columnsComputed, filteredRows, props, emit)\n\n    const { paginatedRows } = usePaginatedRows(sortedRows, props)\n\n    const {\n      ctrlSelectRow,\n      shiftSelectRows,\n      toggleBulkSelection,\n      isRowSelected,\n      severalRowsSelected,\n      allRowsSelected,\n    } = useSelectableRow(paginatedRows, props, emit)\n\n    const {\n      rowCSSVariables,\n      stickyCSSVariables,\n      getHeaderCSSVariables,\n      getCellCSSVariables,\n      getFooterCSSVariables,\n      getClass,\n      getStyle,\n    } = useStylable(props)\n\n    const { getRowBind, getCellBind } = useBinding(props)\n\n    const animationName = useAnimationName(props, paginatedRows)\n\n    const showNoDataHtml = computed(() => props.items.length === 0)\n\n    const showNoDataFilteredHtml = computed(() => paginatedRows.value.length === 0)\n\n    const onRowClickHandler = (name: emitNames, event: Event, row: DataTableRow) => {\n      if (props.clickable) {\n        emit(name, {\n          event,\n          item: row.source,\n          itemIndex: row.initialIndex,\n        })\n      }\n    }\n\n    const computedAttributes = computed(() => ({\n      class: [\n        { 'va-data-table--sticky': props.stickyHeader || props.stickyFooter },\n        { 'va-data-table--scroll': !!props.height },\n        attrs.class,\n      ],\n      style: [stickyCSSVariables.value, attrs.style],\n    }) as HTMLAttributes)\n\n    const computedTableAttributes = computed(() => ({\n      ...omit(attrs, ['class', 'style']),\n      class: pick(props, ['striped', 'selectable', 'hoverable', 'clickable']),\n    }) as TableHTMLAttributes)\n\n    const getColumnAriaSortOrder = (columnName: string) => sortingOrderSync.value && sortBySync.value === columnName\n      ? sortingOrderSync.value === 'asc' ? 'ascending' : 'descending'\n      : 'none'\n\n    return {\n      columnsComputed,\n      rows: paginatedRows,\n      ctrlSelectRow,\n      shiftSelectRows,\n      toggleBulkSelection,\n      isRowSelected,\n      severalRowsSelected,\n      allRowsSelected,\n      sortBySync,\n      sortingOrderSync,\n      toggleSorting,\n      sortingOrderIconName,\n      rowCSSVariables,\n      getHeaderCSSVariables,\n      getCellCSSVariables,\n      getFooterCSSVariables,\n      getClass,\n      getStyle,\n      showNoDataHtml,\n      showNoDataFilteredHtml,\n      onRowClickHandler,\n      computedAttributes,\n      computedTableAttributes,\n      animationName,\n      getColumnAriaSortOrder,\n      getRowBind,\n      getCellBind,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources/index.scss\";\n@import \"variables\";\n// The calculated variables are taken from a respective element's `style` attribute. See the `useStylable` hook\n\n.va-data-table {\n  overflow-x: auto;\n  overflow-y: hidden;\n  min-width: unset;\n  font-family: var(--va-font-family);\n\n  &--sticky,\n  &--scroll {\n    overflow-y: auto;\n    height: var(--va-data-table-scroll-table-height);\n\n    // 1) doesn't work in Firefox\n    // 2) doesn't disappear on mac (the standard one does)\n    // @include va-scroll(var(--scroll-table-color));\n  }\n\n  .va-data-table__table {\n    width: 100%;\n    cursor: default;\n    white-space: nowrap;\n\n    .va-data-table__table-thead {\n      border-bottom: var(--va-data-table-thead-border);\n      color: var(--va-data-table-thead-color);\n\n      th {\n        border-bottom: none;\n        box-shadow: var(--va-data-table-thead-border-bottom-shadow);\n      }\n\n      &--sticky {\n        position: sticky;\n        top: 0;\n        z-index: 1;\n        background-color: var(--va-data-table-scroll-table-color);\n      }\n    }\n\n    .va-data-table__table-tbody {\n      .no-data {\n        text-align: var(--va-data-table-no-data-text-align);\n        vertical-align: var(--va-data-table-no-data-vertical-align);\n      }\n    }\n\n    .va-data-table__table-tfoot {\n      border-top: var(--va-data-table-thead-border);\n      color: var(--va-data-table-thead-color);\n\n      th {\n        border-bottom: none;\n        box-shadow: var(--va-data-table-thead-border-top-shadow);\n      }\n\n      &--sticky {\n        position: sticky;\n        bottom: 0;\n        z-index: 1;\n        background-color: var(--va-data-table-scroll-table-color);\n      }\n    }\n\n    .va-data-table__table-th {\n      padding: var(--va-data-table-cell-padding);\n      width: var(--va-data-table-width);\n      min-width: var(--va-data-table-width);\n      text-align: var(--va-data-table-align);\n      vertical-align: var(--va-data-table-vertical-align);\n      font-size: var(--va-data-table-thead-font-size);\n      line-height: var(--va-data-table-thead-line-height);\n      font-weight: var(--va-data-table-thead-font-weight);\n      text-transform: var(--va-data-table-thead-text-transform);\n      letter-spacing: var(--va-data-table-thead-letter-spacing);\n      cursor: var(--va-data-table-cursor);\n\n      .va-data-table__table-th-wrapper {\n        display: flex;\n        align-items: center;\n\n        &:focus {\n          @include focus-outline($offset: 2px);\n        }\n      }\n\n      .va-data-table__table-th-sorting {\n        justify-self: end;\n        line-height: 1;\n      }\n\n      .va-data-table__table-th-sorting-icon {\n        opacity: 0;\n        user-select: none;\n        pointer-events: none;\n\n        &.active {\n          opacity: 1;\n          pointer-events: initial;\n        }\n      }\n\n      span {\n        flex-grow: 1;\n      }\n\n      &:hover {\n        .va-data-table__table-th-sorting-icon:not(.active) {\n          opacity: var(--va-data-table-hover-th-opacity);\n        }\n      }\n    }\n\n    .va-data-table__table-td {\n      padding: var(--va-data-table-cell-padding);\n      text-align: var(--va-data-table-align);\n      vertical-align: var(--va-data-table-vertical-align);\n    }\n\n    .va-data-table__table-th,\n    .va-data-table__table-td {\n      &.va-data-table__table-cell-select {\n        width: var(--va-data-table-selectable-cell-width);\n        min-width: var(--va-data-table-selectable-cell-width);\n        text-align: var(--va-data-table-selectable-cell-text-align);\n        vertical-align: var(--va-data-table-selectable-cell-vertical-align);\n        cursor: var(--va-data-table-selectable-tr-cursor);\n      }\n    }\n\n    .va-data-table__table-tr {\n      &.selected {\n        background-color: var(--va-data-table-selected-color);\n      }\n    }\n\n    &.clickable {\n      .va-data-table__table-tr {\n        cursor: pointer;\n      }\n    }\n\n    &.striped {\n      .va-data-table__table-tr {\n        position: relative;\n        z-index: 0;\n\n        &:nth-child(2n) {\n          &:not(.selected) {\n            @include va-background(var(--va-data-table-striped-tr-background-color), var(--va-data-table-striped--tr-opacity), -1);\n          }\n        }\n      }\n    }\n\n    &.selectable,\n    &.hoverable {\n      .va-data-table__table-tr {\n        &:hover {\n          background-color: var(--va-data-table-hover-color);\n        }\n      }\n\n      .va-data-table__table-tr:nth-child(2n) {\n        &:hover {\n          background-color: var(--va-data-table-hover-color);\n\n          @include va-background-opacity(transparent);\n        }\n      }\n    }\n\n    .table-transition-fade-leave-active {\n      transition: opacity var(--va-data-table-transition);\n    }\n\n    .table-transition-fade-enter-active {\n      transition: opacity var(--va-data-table-transition) 0.2s;\n    }\n\n    .table-transition-fade-enter-from,\n    .table-transition-shuffle-enter-from,\n    .table-transition-fade-leave-to,\n    .table-transition-shuffle-leave-to {\n      opacity: 0;\n    }\n\n    .table-transition-shuffle-move {\n      transition: transform var(--va-data-table-transition);\n    }\n\n    .table-transition-shuffle-leave-active {\n      transition: none;\n    }\n\n    .table-transition-shuffle-enter-active {\n      transition: opacity var(--va-data-table-transition);\n    }\n  }\n}\n</style>\n"],"names":["useStylable","useAnimationName","omit","pick","_openBlock","_createBlock","_mergeProps","_createElementVNode","_createElementBlock","_renderSlot","_createCommentVNode","_normalizeClass","_Fragment","_renderList","_normalizeStyle","_withModifiers","_withKeys","_normalizeProps","_toDisplayString","_createVNode","_TransitionGroup","_createTextVNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6RA,MAAK,YAAa,gBAAa;AAAA,EAC7B,MAAM;AAAA,EAEN,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAAA,EAEA,cAAc;AAAA,EAEd,OAAO;AAAA,IACL,SAAS,EAAE,MAAM,OAA4C,SAAS,MAAM,CAAA,EAA8B;AAAA,IAC1G,OAAO,EAAE,MAAM,OAAoC,SAAS,MAAM,CAAA,EAAsB;AAAA,IACxF,cAAc,EAAE,MAAM,CAAC,QAAQ,QAAQ,GAAwD,SAAS,GAAG;AAAA,IAC3G,YAAY,EAAE,MAAM,MAAwD;AAAA,IAC5E,cAAc,EAAE,MAAM,OAA0C;AAAA,IAChE,QAAQ,EAAE,MAAM,OAAO;AAAA,IACvB,gBAAgB;AAAA,MACd,MAAM;AAAA,MACN,SAAS,MAAM,CAAC,OAAO,QAAQ,IAAI;AAAA,MACnC,WAAW;AAAA,IACb;AAAA,IACA,QAAQ,EAAE,MAAM,QAAQ,SAAS,GAAG;AAAA,IACpC,cAAc,EAAE,MAAM,SAA4C;AAAA,IAClE,WAAW,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC3C,WAAW,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC3C,UAAU,EAAE,MAAM,SAAS,SAAS,KAAK;AAAA,IACzC,YAAY,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC5C,YAAY,EAAE,MAAM,QAAyC,SAAS,WAAW;AAAA,IACjF,eAAe,EAAE,MAAM,QAAQ,SAAS,UAAU;AAAA,IAClD,SAAS,EAAE,MAAM,OAAO;AAAA,IACxB,aAAa,EAAE,MAAM,OAAO;AAAA,IAC5B,SAAS,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IACzC,cAAc,EAAE,MAAM,QAAQ,SAAS,UAAU;AAAA,IACjD,YAAY,EAAE,MAAM,QAAQ,SAAS,WAAW;AAAA,IAChD,oBAAoB,EAAE,MAAM,QAAQ,SAAS,kDAAkD;AAAA,IAC/F,mBAAmB,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IACnD,aAAa,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC7C,oBAAoB,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IACpD,SAAS,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IACzC,cAAc,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC9C,cAAc,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC9C,QAAQ,EAAE,MAAM,CAAC,QAAQ,MAAM,EAAE;AAAA,IACjC,SAAS,EAAE,MAAM,KAA8C;AAAA,IAC/D,UAAU,EAAE,MAAM,KAA+C;AAAA,EACnE;AAAA,EAEA,OAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAAA,EAEA,MAAO,OAAO,EAAE,OAAO,QAAQ;AACvB,UAAA,EAAE,oBAAoB,WAAW,KAAK;AAE5C,UAAM,EAAE,iBAAiB,QAAQ,iBAAiB,KAAK;AAEvD,UAAM,EAAE,iBAAiB,cAAc,cAAc,OAAO,IAAI;AAE1D,UAAA;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE,YAAY,iBAAiB,cAAc,OAAO,IAAI;AAE1D,UAAM,EAAE,kBAAkB,iBAAiB,YAAY,KAAK;AAEtD,UAAA;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE,iBAAiB,eAAe,OAAO,IAAI;AAEzC,UAAA;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACEA,aAAY,KAAK;AAErB,UAAM,EAAE,YAAY,gBAAgB,WAAW,KAAK;AAE9C,UAAA,gBAAgBC,mBAAiB,OAAO,aAAa;AAE3D,UAAM,iBAAiB,SAAS,MAAM,MAAM,MAAM,WAAW,CAAC;AAE9D,UAAM,yBAAyB,SAAS,MAAM,cAAc,MAAM,WAAW,CAAC;AAE9E,UAAM,oBAAoB,CAAC,MAAiB,OAAc,QAAsB;AAC9E,UAAI,MAAM,WAAW;AACnB,aAAK,MAAM;AAAA,UACT;AAAA,UACA,MAAM,IAAI;AAAA,UACV,WAAW,IAAI;AAAA,QAAA,CAChB;AAAA,MACH;AAAA,IAAA;AAGI,UAAA,qBAAqB,SAAS,MAAO;AAAA,MACzC,OAAO;AAAA,QACL,EAAE,yBAAyB,MAAM,gBAAgB,MAAM,aAAa;AAAA,QACpE,EAAE,yBAAyB,CAAC,CAAC,MAAM,OAAO;AAAA,QAC1C,MAAM;AAAA,MACR;AAAA,MACA,OAAO,CAAC,mBAAmB,OAAO,MAAM,KAAK;AAAA,IAC3B,EAAA;AAEd,UAAA,0BAA0B,SAAS,MAAO,iCAC3CC,OAAK,OAAO,CAAC,SAAS,OAAO,CAAC,IADa;AAAA,MAE9C,OAAOC,OAAK,OAAO,CAAC,WAAW,cAAc,aAAa,WAAW,CAAC;AAAA,IAC/C,EAAA;AAEzB,UAAM,yBAAyB,CAAC,eAAuB,iBAAiB,SAAS,WAAW,UAAU,aAClG,iBAAiB,UAAU,QAAQ,cAAc,eACjD;AAEG,WAAA;AAAA,MACL;AAAA,MACA,MAAM;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AACF,CAAC;;;;EAvaS,OAAM;;;;EAIJ,OAAM;AAAA,EACN,OAAM;;;;;AAsEN,MAAA,aAAA,EAAA,KAAI;;AAWJ,MAAA,aAAA,EAAA,KAAI;;;;;EAkEsB,OAAM;;;;EACZ,OAAM;;;;;;;;;AAhLpC,SAAAC,UAAA,GAAAC,YAqOmB,6BArOnBC,WAqOmB;AAAA,IApOjB,OAAM;AAAA,IACN,aAAU;AAAA,EAAA,GACF,KAAkB,oBAAA;AAAA,IACzB,SAAS,KAAA;AAAA,IACT,OAAO,KAAA;AAAA,EAAA,CAAA,GAAA;AAAA,qBAER,MA6NQ;AAAA,MA7NRC,mBA6NQ,SA7NRD,WA6NQ,EA5NN,OAAM,0BACE,KAAuB,uBAAA,GAAA;AAAA,QAAA,cAED,4BAA9BE,mBAEW,YAAA,YAAA;AAAA,UADTC,WAAiD,2DAAnB,KAAe,eAAA,CAAA,CAAA;AAAA,QAAA,CAAA,KAAAC,mBAAA,IAAA,IAAA;AAAA,QAG/CH,mBAoEQ,SAAA;AAAA,UAnEN,OAAKI,eAAA,CAAC,8BAA4B,EAAA,sCACc,YAAO,aAAY,CAAA,CAAA;AAAA,QAAA,GAAA;AAAA,UAEnEF,WAA6B,KAAA,QAAA,eAAA;AAAA,UAGpB,CAAA,KAAA,oBAAAL,WAAA,GADTI,mBA2DK,MA3DL,YA2DK;AAAA,YAtDK,KAAA,aAAAJ,WAAA,GADRI,mBAgBK,MAhBL,YAgBK;AAAA,cAVK,KAAA,eAAU,2BADlBH,YAUE,wBAAA;AAAA,gBAAA,KAAA;AAAA,gBARA,cAAW;AAAA,gBACV,eAAa,2BAAmB,QAAW,KAAA;AAAA,gBAC3C,cAAY;AAAA,gBACZ,eAAa;AAAA,gBACb,OAAO,KAAA;AAAA,gBACR,uBAAoB;AAAA,gBACpB,eAAA;AAAA,gBACC,uBAAoB,KAAA;AAAA,cAAA,GAAA,MAAA,GAAA,CAAA,eAAA,SAAA,qBAAA,CAAA,KAAAK,mBAAA,IAAA,IAAA;AAAA;8BAIzBF,mBAoCKI,UAAA,MAAAC,WAnCc,KAAe,iBAAA,CAAzB,WAAM;kCADfL,mBAoCK,MAAA;AAAA,gBAlCF,KAAK,OAAO;AAAA,gBACb,OAAM;AAAA,gBACL,aAAW,KAAuB,uBAAA,OAAO,IAAI;AAAA,gBAC7C,cAAY,OAAO,WAAQ,kBAAqB,OAAO,UAAU;AAAA,gBACjE,OAAO,OAAO;AAAA,gBACf,OAAKG,eAAA,CAAC,2BACE,KAAA,SAAS,OAAO,OAAO,CAAA,CAAA;AAAA,gBAC9B,OAAKG,eAAG,CAAA,KAAA,sBAAsB,MAAM,GAAG,KAAA,SAAS,OAAO,OAAO,CAAA,CAAA;AAAA,gBAC9D,SAAKC,cAAA,CAAA,WAAQ,OAAO,YAAY,mBAAc,MAAM,GAAA,CAAA,OAAA,CAAA;AAAA,gBACpD,WAAOC,SAAAD,cAAA,CAAA,WAAa,OAAO,YAAY,mBAAc,MAAM,GAAA,CAAA,MAAA,CAAA,GAAA,CAAA,OAAA,CAAA;AAAA,cAAA,GAAA;AAAA,gBAE5DR,mBAsBM,OAAA;AAAA,kBAtBD,OAAM;AAAA,kBAAmC,UAAU,OAAO,WAAQ,IAAA;AAAA,gBAAA,GAAA;AAAA,4BAC/C,OAAO,WAAW,4BAAxCC,mBAEO,QAAA,YAAA;AAAA,oBADLC,WAA2F,uBAApE,OAAO,SAAIQ,2CAAsB,OAAO,OAAK,KAAO,OAAO,IAAG,CAAA,CAAA,CAAA;AAAA,kBAAA,CAGvF,KAAAR,WAEO,sEAFqC,OAAO,OAAK,KAAO,OAAO,IAAA,KAAtE,MAEO;AAAA,oBADLF,mBAA+B,QAAtB,MAAAW,gBAAA,OAAO,KAAK,GAAA,CAAA;AAAA,kBAAA,CAAA;AAAA,kBAIf,OAAO,yBADfV,mBAYM,OAAA;AAAA,oBAAA,KAAA;AAAA,oBAVJ,OAAM;AAAA,oBACN,eAAY;AAAA,oBACX,eAAW,OAAZ,MAAA,QAAA,KAAAO,cAAA,MAAA;AAAA,oBAAA,GAAoB,CAAA,SAAA,CAAA;AAAA,kBAAA,GAAA;AAAA,oBAEpBI,YAKE,oBAAA;AAAA,sBAJC,MAAM,KAAA;AAAA,sBACP,MAAK;AAAA,sBACL,OAAKR,eAAC,CAAA,wCAAsC,UAC1B,KAAe,eAAA,OAAO,QAAQ,KAAgB,qBAAA,KAAA,CAAA,CAAA;AAAA,oBAAA,GAAA,MAAA,GAAA,CAAA,QAAA,OAAA,CAAA;AAAA;;;;;UAO1EF,WAA4B,KAAA,QAAA,cAAA;AAAA,QAAA,GAAA,CAAA;AAAA,QAG9BF,mBAiFQ,SAAA;AAAA,UAhFN,OAAM;AAAA,UACL,OAAKO,eAAE,KAAe,eAAA;AAAA,QAAA,GAAA;AAAA,UAEvBL,WAA2B,KAAA,QAAA,aAAA;AAAA,UAE3BU,YAwEmBC,iBAAA;AAAA,YAvEhB,MAAM,KAAA;AAAA,YACP,QAAA;AAAA,UAAA,GAAA;AAAA,6BAGA,MASK;AAAA,cARG,KAAA,iBAAAhB,WAAA,GADRI,mBASK,MATL,YASK;AAAA,gBALHD,mBAIE,MAAA;AAAA,kBAHC,SAAS,KAAgB,gBAAA,SAAoB,MAAA,aAAA,IAAA;AAAA,kBAC9C,WAAQ,KAAA;AAAA,kBACR,OAAM;AAAA,gBAAA,GAAA,MAAA,GAAA,UAAA;AAAA,oBAKG,KADb,yBAAAH,WAAA,GAAAI,mBASK,MATL,YASK;AAAA,gBALHD,mBAIE,MAAA;AAAA,kBAHC,SAAS,KAAgB,gBAAA,SAAoB,MAAA,aAAA,IAAA;AAAA,kBAC9C,WAAQ,KAAA;AAAA,kBACR,OAAM;AAAA,gBAAA,GAAA,MAAA,GAAA,WAAA;AAAA;gCAIVC,mBA4CKI,UAAA,MAAAC,WA3CW,KAAI,MAAA,CAAX,QAAG;AADZ,uBAAAT,UAAA,GAAAI,mBA4CK,MA5CLF,WA4CK;AAAA,kBA1CF,KAAG,aAAe,IAAI;AAAA,kBACvB,OAAK,CAAC,2BAAyB,CAAA,EAAA,UACV,mBAAc,GAAG,EAAA,CAAA,CAAA;AAAA,gBAAA,GAC9B,gBAAW,GAAG,GAAA;AAAA,kBACrB,SAAK,CAAA,WAAE,KAAiB,kBAAA,aAAc,QAAQ,GAAG;AAAA,kBACjD,YAAQ,CAAA,WAAE,KAAiB,kBAAA,gBAAiB,QAAQ,GAAG;AAAA,kBACvD,eAAW,CAAA,WAAE,KAAiB,kBAAA,mBAAoB,QAAQ,GAAG;AAAA,gBAAA,CAAA,GAAA;AAAA,kBAGtD,KAAA,aAAAF,cADRI,mBAcK,MAAA;AAAA,oBAZH,OAAM;AAAA,oBACL,KAAG,cAAgB,IAAI;AAAA,oBACvB,eAAW,OAAZ,MAAA,QAAA,KAAAO,cAAA,MAAA;AAAA,oBAAA,GAAoB,CAAA,SAAA,CAAA;AAAA,kBAAA,GAAA;AAAA,oBAEpBI,YAOE,wBAAA;AAAA,sBANC,eAAa,mBAAc,GAAG;AAAA,sBAC9B,OAAO,KAAA;AAAA,sBACP,cAAU,cAAgB,IAAI;AAAA,sBAC9B,SAAK;AAAA,wBAAAJ,cAAA,CAAA,WAAmB,qBAAgB,GAAG,GAAA,CAAA,SAAA,SAAA,MAAA,CAAA;AAAA,wBAAAA,cAAA,CAAA,WACpB,mBAAc,GAAG,GAAA,CAAA,QAAA,SAAA,MAAA,CAAA;AAAA,wBAAAA,cAAA,CAAA,WACtB,mBAAc,GAAG,GAAA,CAAA,SAAA,MAAA,CAAA;AAAA,sBAAA;AAAA;;kBAIxCX,WAAA,IAAA,GAAAI,mBAiBKI,UAhBY,MAAAC,WAAA,IAAI,OAAK,CAAjB,SAAI;AADb,2BAAAT,UAAA,GAAAI,mBAiBK,MAjBLF,WAiBK;AAAA,sBAfF,KAAG,cAAgB,KAAK,OAAO,OAAO,KAAK;AAAA,sBAC5C,OAAK,CAAC,2BACE,KAAS,SAAA,KAAK,OAAO,OAAO,CAAA;AAAA,sBACnC,OAAK,CAAG,KAAoB,oBAAA,IAAI,GAAG,KAAS,SAAA,KAAK,OAAO,OAAO,CAAA;AAAA,oBACxD,GAAA,KAAA,YAAY,MAAM,GAAG,CAAA,GAAA;AAAA,sBAAA,QAGb,KAAK,OAAO,WAAW,KADvC,SAAAG,WAIE,qBAFe,KAAK,OAAO,SAAIQ,eAAAX,WAAA,EAAA,KAAA,EAAA,GACvB,IAAI,CAGd,CAAA,IAAAG,WAEO,KAF0B,QAAA,QAAAQ,eAAAX,WAAA,EAAA,KAAA,KAAA,IAAI,IAArC,MAEO;AAAA,wBAAAe,gBAAAH,gBADF,KAAK,KAAK,GAAA,CAAA;AAAA,sBAAA,CAAA;AAAA;;;;;;;UAMrBT,WAA0B,KAAA,QAAA,YAAA;AAAA,QAAA,GAAA,CAAA;AAAA,QAIpB,KAAA,cAAAL,cADRI,mBA2DQ,SAAA;AAAA,UAAA,KAAA;AAAA,UAzDN,OAAKG,eAAC,CAAA,8BAA4B,EACc,sCAAA,KAAA,OAAO,aAAY,CAAA,CAAA;AAAA,QAAA,GAAA;AAAA,UAEnEF,WAA6B,KAAA,QAAA,eAAA;AAAA,UAElB,CAAA,KAAA,oBAAAL,WAAA,GAAXI,mBAiDK,MAjDL,aAiDK;AAAA,YAhDO,KAAA,aAAAJ,WAAA,GAAVI,mBAYK,MAZL,aAYK;AAAA,cAVK,KAAA,eAAU,2BADlBH,YAUE,wBAAA;AAAA,gBAAA,KAAA;AAAA,gBARA,cAAW;AAAA,gBACV,eAAa,2BAAmB,QAAW,KAAA;AAAA,gBAC3C,cAAY;AAAA,gBACZ,eAAa;AAAA,gBACb,OAAO,KAAA;AAAA,gBACR,uBAAoB;AAAA,gBACpB,eAAA;AAAA,gBACC,uBAAoB,KAAA;AAAA,cAAA,GAAA,MAAA,GAAA,CAAA,eAAA,SAAA,qBAAA,CAAA,KAAAK,mBAAA,IAAA,IAAA;AAAA;8BAIzBF,mBAiCKI,UAAA,MAAAC,WAhCc,KAAe,iBAAA,CAAzB,WAAM;kCADfL,mBAiCK,MAAA;AAAA,gBA/BF,KAAK,OAAO;AAAA,gBACZ,OAAO,OAAO;AAAA,gBACd,cAAY,KAAsB,sBAAA,OAAO,WAAQ,kBAAqB,OAAO,UAAU;AAAA,gBACxF,OAAKG,eAAA,CAAC,2BACE,KAAA,SAAS,OAAO,OAAO,CAAA,CAAA;AAAA,gBAC9B,OAAKG,eAAG,CAAA,KAAA,sBAAsB,MAAM,GAAG,KAAA,SAAS,OAAO,OAAO,CAAA,CAAA;AAAA,gBAC9D,SAAKC,cAAQ,CAAA,WAAA,KAAA,sBAAsB,OAAO,YAAY,mBAAc,MAAM,GAAA,CAAA,OAAA,CAAA;AAAA,gBAC1E,WAAOC,SAAaD,cAAA,CAAA,WAAA,KAAA,sBAAsB,OAAO,YAAY,mBAAc,MAAM,GAAA,CAAA,MAAA,CAAA,GAAA,CAAA,OAAA,CAAA;AAAA,cAAA,GAAA;AAAA,gBAElFR,mBAqBM,OAAA;AAAA,kBArBD,OAAM;AAAA,kBAAmC,UAAU,KAAsB,sBAAA,OAAO,WAAQ,IAAA;AAAA,gBAAA,GAAA;AAAA,4BACrE,OAAO,WAAW,4BAAxCC,mBAEO,QAAA,aAAA;AAAA,oBADLC,WAA2F,uBAApE,OAAO,SAAIQ,2CAAsB,OAAO,OAAK,KAAO,OAAO,IAAG,CAAA,CAAA,CAAA;AAAA,kBAAA,CAAA,KAGvFR,WAEO,KAAA,QAAA,UAAAQ,eAAAX,WAAA,EAAA,KAAA,EAAA,GAF4B,MAAM,CAAA,GAAzC,MAEO;AAAA,oBADLC,mBAA+B,QAAtB,MAAAW,gBAAA,OAAO,KAAK,GAAA,CAAA;AAAA,kBAAA,CAAA;AAAA,kBAIf,KAAsB,sBAAA,OAAO,yBADrCV,mBAWM,OAAA;AAAA,oBAAA,KAAA;AAAA,oBATJ,OAAM;AAAA,oBACL,eAAW,OAAZ,MAAA,QAAA,KAAAO,cAAA,MAAA;AAAA,oBAAA,GAAoB,CAAA,SAAA,CAAA;AAAA,kBAAA,GAAA;AAAA,oBAEpBI,YAKE,oBAAA;AAAA,sBAJC,MAAM,KAAA;AAAA,sBACP,MAAK;AAAA,sBACL,OAAKR,eAAC,CAAA,wCAAsC,UAC1B,KAAe,eAAA,OAAO,QAAQ,KAAgB,qBAAA,KAAA,CAAA,CAAA;AAAA,oBAAA,GAAA,MAAA,GAAA,CAAA,QAAA,OAAA,CAAA;AAAA;;;;;UAO1EF,WAA4B,KAAA,QAAA,cAAA;AAAA,QAAA,GAAA,CAAA,KAAAC,mBAAA,IAAA,IAAA;AAAA;;;;;;;"}