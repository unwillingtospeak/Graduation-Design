{"version":3,"file":"VaDayPicker.js","sources":["../../../../../../../src/components/va-date-picker/components/VaDayPicker/VaDayPicker.vue"],"sourcesContent":["<template>\n  <div class=\"va-day-picker\" v-bind=\"containerAttributes\">\n    <template v-if=\"!hideWeekDays\">\n      <div\n        v-for=\"weekday in weekdayNamesComputed\" :key=\"weekday\"\n        class=\"va-day-picker__weekday\"\n      >\n        <slot name=\"weekday\">\n          {{ weekday }}\n        </slot>\n      </div>\n    </template>\n\n    <div\n      class=\"va-day-picker__calendar__day-wrapper\"\n      v-for=\"(date, index) in calendarDates\"\n      :key=\"index\"\n      @mouseenter=\"hoveredIndex = index\"\n      @mouseleave=\"hoveredIndex = -1\"\n    >\n      <va-date-picker-cell\n        :hidden=\"isOtherMonth(date) && !showOtherMonths\"\n        :today=\"isToday(date)\"\n        :selected=\"isSelected(date)\"\n        :in-range=\"isInRange(date)\"\n        :other-month=\"isOtherMonth(date)\"\n        :weekend=\"isDateWeekend(date)\"\n        :disabled=\"isDateDisabled(date)\"\n        :focused=\"hoveredIndex === index\"\n        :highlight-today=\"highlightToday\"\n        :highlight-weekend=\"highlightWeekend\"\n        :readonly=\"readonly\"\n        @click=\"onClick(date); focusedCellIndex = index\"\n      >\n        <span class=\"va-date-picker-cell__day\">\n          <slot name=\"day\" v-bind=\"{ date }\">\n            {{ date.getDate() }}\n          </slot>\n        </span>\n      </va-date-picker-cell>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, toRefs, PropType, watch } from 'vue'\n\nimport { extractComponentProps, filterComponentProps } from '../../../../utils/child-props'\nimport { useGridKeyboardNavigation } from '../../hooks/grid-keyboard-navigation'\nimport { useDatePicker } from '../../hooks/use-picker'\nimport { useVaDatePickerCalendar } from './va-date-picker-calendar-hook'\n\nimport { DatePickerMode, DatePickerModelValue, DatePickerView } from '../../types'\n\nimport VaDatePickerCell from '../VaDatePickerCell.vue'\n\nconst VaDatePickerCellProps = extractComponentProps(VaDatePickerCell, ['date', 'selectedValue', 'focusedDate', 'focused'])\n\nexport default defineComponent({\n  name: 'VaDayPicker',\n\n  components: { VaDatePickerCell },\n\n  props: {\n    ...VaDatePickerCellProps,\n    monthNames: { type: Array as PropType<string[]>, required: true },\n    weekdayNames: { type: Array as PropType<string[]>, required: true },\n    firstWeekday: { type: String as PropType<'Monday' | 'Sunday'>, default: 'Sunday' },\n    hideWeekDays: { type: Boolean, default: false },\n    view: { type: Object as PropType<DatePickerView>, default: () => ({ type: 'day' }) },\n    modelValue: { type: [Date, Array, Object] as PropType<DatePickerModelValue> },\n    mode: { type: String as PropType<DatePickerMode>, default: 'auto' },\n    showOtherMonths: { type: Boolean, default: false },\n    allowedDays: { type: Function as PropType<(date: Date) => boolean> },\n    weekends: { type: Function as PropType<(date: Date) => boolean> },\n    highlightWeekend: { type: Boolean, default: false },\n    highlightToday: { type: Boolean, default: false },\n    readonly: { type: Boolean, default: false },\n  },\n\n  emits: ['update:modelValue', 'hover:day', 'click:day'],\n\n  setup (props, { emit }) {\n    const { firstWeekday, weekdayNames, view } = toRefs(props)\n\n    const VaDayPickerCellPropValues = filterComponentProps(props, VaDatePickerCellProps)\n\n    const { calendarDates, currentMonthStartIndex, currentMonthEndIndex } = useVaDatePickerCalendar(view, { firstWeekday })\n\n    const weekdayNamesComputed = computed(() => {\n      return firstWeekday.value === 'Sunday'\n        ? weekdayNames.value\n        : [...weekdayNames.value.slice(1), weekdayNames.value[0]]\n    })\n\n    const {\n      hoveredIndex,\n      onClick,\n      isToday,\n      isSelected,\n      isInRange,\n    } = useDatePicker('day', calendarDates, props, emit)\n\n    const gridStartIndex = computed(() => props.showOtherMonths ? 0 : currentMonthStartIndex.value)\n    const gridEndIndex = computed(() => props.showOtherMonths ? calendarDates.value.length : currentMonthEndIndex.value)\n\n    const {\n      focusedCellIndex, containerAttributes,\n    } = useGridKeyboardNavigation({\n      rowSize: 7,\n      start: gridStartIndex,\n      end: gridEndIndex,\n      onSelected: (selectedValue) => onClick(calendarDates.value[selectedValue]),\n    })\n\n    watch(focusedCellIndex, (index) => { hoveredIndex.value = index })\n    watch(hoveredIndex, (index) => { focusedCellIndex.value = index })\n\n    const isOtherMonth = (date: Date) => props.view.month !== date.getMonth()\n    const isDateDisabled = (date: Date) => props.allowedDays === undefined ? false : !props.allowedDays(date)\n    const isDateWeekend = (date: Date) => {\n      if (props.weekends === undefined) {\n        return date.getDay() === 6 || date.getDay() === 0 // 0 - Sunday, 6 - Saturday\n      }\n\n      return props.weekends(date)\n    }\n\n    return {\n      hoveredIndex,\n      calendarDates,\n      onClick,\n      isToday,\n      isSelected,\n      isInRange,\n      isOtherMonth,\n      isDateDisabled,\n      isDateWeekend,\n      containerAttributes,\n      weekdayNamesComputed,\n      VaDayPickerCellPropValues,\n      focusedCellIndex,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.va-day-picker {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr); // 7 columns\n  grid-gap: var(--va-date-picker-cell-gap);\n\n  &__weekday {\n    height: var(--va-date-picker-cell-size);\n    color: var(--va-secondary);\n    text-align: center;\n    font-size: var(--va-date-picker-weekday-font-size);\n    font-weight: bold;\n    line-height: var(--va-date-picker-cell-size);\n  }\n}\n</style>\n"],"names":["_openBlock","_createElementBlock","_mergeProps","_Fragment","_renderList","_renderSlot","_createTextVNode","_toDisplayString","_createVNode","_createElementVNode","_normalizeProps","_guardReactiveProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA,MAAM,wBAAwB,sBAAsB,kBAAkB,CAAC,QAAQ,iBAAiB,eAAe,SAAS,CAAC;AAEzH,MAAK,YAAa,gBAAa;AAAA,EAC7B,MAAM;AAAA,EAEN,YAAY,EAAE,iBAAiB;AAAA,EAE/B,OAAO,iCACF,wBADE;AAAA,IAEL,YAAY,EAAE,MAAM,OAA6B,UAAU,KAAK;AAAA,IAChE,cAAc,EAAE,MAAM,OAA6B,UAAU,KAAK;AAAA,IAClE,cAAc,EAAE,MAAM,QAAyC,SAAS,SAAS;AAAA,IACjF,cAAc,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAC9C,MAAM,EAAE,MAAM,QAAoC,SAAS,MAAO,GAAE,MAAM,MAAA,GAAS;AAAA,IACnF,YAAY,EAAE,MAAM,CAAC,MAAM,OAAO,MAAM,EAAoC;AAAA,IAC5E,MAAM,EAAE,MAAM,QAAoC,SAAS,OAAO;AAAA,IAClE,iBAAiB,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IACjD,aAAa,EAAE,MAAM,SAA8C;AAAA,IACnE,UAAU,EAAE,MAAM,SAA8C;AAAA,IAChE,kBAAkB,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAClD,gBAAgB,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IAChD,UAAU,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,EAC5C;AAAA,EAEA,OAAO,CAAC,qBAAqB,aAAa,WAAW;AAAA,EAErD,MAAO,OAAO,EAAE,QAAQ;AACtB,UAAM,EAAE,cAAc,cAAc,SAAS,OAAO,KAAK;AAEnD,UAAA,4BAA4B,qBAAqB,OAAO,qBAAqB;AAE7E,UAAA,EAAE,eAAe,wBAAwB,yBAAyB,wBAAwB,MAAM,EAAE,cAAc;AAEhH,UAAA,uBAAuB,SAAS,MAAM;AAC1C,aAAO,aAAa,UAAU,WAC1B,aAAa,QACb,CAAC,GAAG,aAAa,MAAM,MAAM,CAAC,GAAG,aAAa,MAAM,EAAE;AAAA,IAAA,CAC3D;AAEK,UAAA;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE,cAAc,OAAO,eAAe,OAAO,IAAI;AAEnD,UAAM,iBAAiB,SAAS,MAAM,MAAM,kBAAkB,IAAI,uBAAuB,KAAK;AACxF,UAAA,eAAe,SAAS,MAAM,MAAM,kBAAkB,cAAc,MAAM,SAAS,qBAAqB,KAAK;AAE7G,UAAA;AAAA,MACJ;AAAA,MAAkB;AAAA,QAChB,0BAA0B;AAAA,MAC5B,SAAS;AAAA,MACT,OAAO;AAAA,MACP,KAAK;AAAA,MACL,YAAY,CAAC,kBAAkB,QAAQ,cAAc,MAAM,cAAc;AAAA,IAAA,CAC1E;AAEK,UAAA,kBAAkB,CAAC,UAAU;AAAE,mBAAa,QAAQ;AAAA,IAAA,CAAO;AAC3D,UAAA,cAAc,CAAC,UAAU;AAAE,uBAAiB,QAAQ;AAAA,IAAA,CAAO;AAEjE,UAAM,eAAe,CAAC,SAAe,MAAM,KAAK,UAAU,KAAK;AACzD,UAAA,iBAAiB,CAAC,SAAe,MAAM,gBAAgB,SAAY,QAAQ,CAAC,MAAM,YAAY,IAAI;AAClG,UAAA,gBAAgB,CAAC,SAAe;AAChC,UAAA,MAAM,aAAa,QAAW;AAChC,eAAO,KAAK,aAAa,KAAK,KAAK,OAAa,MAAA;AAAA,MAClD;AAEO,aAAA,MAAM,SAAS,IAAI;AAAA,IAAA;AAGrB,WAAA;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AACF,CAAC;;AA9Ga,MAAA,aAAA,EAAA,OAAM;;;AAjClB,SAAAA,UAAA,GAAAC,mBAwCM,OAxCNC,WAwCM,EAxCD,OAAM,mBAAwB,KAAmB,mBAAA,GAAA;AAAA,IAAA,CACnC,KACf,eAAAF,WAAA,IAAA,GAAAC,mBAOME,UANc,EAAA,KAAA,EAAA,GAAAC,WAAA,KAAA,sBAAoB,CAA/B,YAAO;0BADhBH,mBAOM,OAAA;AAAA,QANqC,KAAK;AAAA,QAC9C,OAAM;AAAA,MAAA,GAAA;AAAA,QAENI,WAEO,4BAFP,MAEO;AAAA,UAAAC,gBAAAC,gBADF,OAAO,GAAA,CAAA;AAAA,QAAA,CAAA;AAAA;;IAKhBP,WAAA,IAAA,GAAAC,mBA2BME,UAzBoB,MAAAC,WAAA,KAAA,eAAa,CAA7B,MAAM,UAAK;0BAFrBH,mBA2BM,OAAA;AAAA,QA1BJ,OAAM;AAAA,QAEL,KAAK;AAAA,QACL,cAAU,YAAE,KAAe,eAAA;AAAA,QAC3B,cAAU,sCAAE,KAAY,eAAA;AAAA,MAAA,GAAA;AAAA,QAEzBO,YAmBsB,gCAAA;AAAA,UAlBnB,QAAQ,KAAa,aAAA,IAAI,KAAM,CAAA,KAAA;AAAA,UAC/B,OAAO,aAAQ,IAAI;AAAA,UACnB,UAAU,gBAAW,IAAI;AAAA,UACzB,YAAU,eAAU,IAAI;AAAA,UACxB,eAAa,kBAAa,IAAI;AAAA,UAC9B,SAAS,mBAAc,IAAI;AAAA,UAC3B,UAAU,oBAAe,IAAI;AAAA,UAC7B,SAAS,KAAiB,iBAAA;AAAA,UAC1B,mBAAiB,KAAA;AAAA,UACjB,qBAAmB,KAAA;AAAA,UACnB,UAAU,KAAA;AAAA,UACV,SAAK,CAAA,WAAA;AAAE,iBAAA,QAAQ,IAAI;AAAsB,iBAAA,mBAAA;AAAA,UAAK;AAAA,QAAA,GAAA;AAAA,2BAE/C,MAIO;AAAA,YAJPC,mBAIO,QAJP,YAIO;AAAA,cAHLJ,WAEO,KAAA,QAAA,OAAAK,eAAAC,mBAAA,EAFoB,MAAI,CAAA,GAA/B,MAEO;AAAA,gBAAAL,gBAAAC,gBADF,KAAK,QAAO,CAAA,GAAA,CAAA;AAAA,cAAA,CAAA;AAAA;;;;;;;;;;"}