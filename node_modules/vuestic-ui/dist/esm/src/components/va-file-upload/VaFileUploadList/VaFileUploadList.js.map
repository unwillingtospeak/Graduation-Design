{"version":3,"file":"VaFileUploadList.js","sources":["../../../../../../src/components/va-file-upload/VaFileUploadList/VaFileUploadList.vue"],"sourcesContent":["<template>\n  <va-list\n    class=\"va-file-upload-list\"\n    :role=\"type !== 'single' ? 'list' : undefined\"\n    :class=\"`va-file-upload-list--${type}`\"\n  >\n    <template v-if=\"type === 'list'\">\n      <va-file-upload-list-item\n        v-for=\"(file, index) in filesList\"\n        :key=\"file.name\"\n        :file=\"file\"\n        :color=\"color\"\n        role=\"listitem\"\n        @remove=\"$emit('remove', index)\"\n      />\n    </template>\n    <template v-if=\"type === 'gallery'\">\n      <va-file-upload-gallery-item\n        v-for=\"(file, index) in filesList\"\n        :key=\"file.name\"\n        :file=\"file\"\n        :color=\"color\"\n        role=\"listitem\"\n        @remove=\"$emit('remove', index)\"\n      />\n    </template>\n    <template v-if=\"type === 'single' && filesList.length\">\n      <va-file-upload-single-item\n        :file=\"filesList[filesList.length - 1]\"\n        @remove=\"$emit('removeSingle')\"\n      />\n    </template>\n  </va-list>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, computed } from 'vue'\n\nimport { VaList } from '../../index'\nimport { VaFileUploadListItem } from '../VaFileUploadListItem'\nimport { VaFileUploadGalleryItem } from '../VaFileUploadGalleryItem'\nimport { VaFileUploadSingleItem } from '../VaFileUploadSingleItem'\n\nimport type { VaFile, ConvertedFile } from '../types'\n\nexport default defineComponent({\n  name: 'VaFileUploadList',\n  components: {\n    VaList,\n    VaFileUploadListItem,\n    VaFileUploadGalleryItem,\n    VaFileUploadSingleItem,\n  },\n  emits: ['remove', 'removeSingle'],\n  props: {\n    type: { type: String, default: '' },\n    files: { type: Array as PropType<VaFile[]>, default: null },\n    color: { type: String, default: 'success' },\n  },\n  setup (props) {\n    const filesList = computed(() => props.files.map(convertFile))\n\n    const convertFile = (file: VaFile): ConvertedFile => ({\n      name: file.name || file.url || '',\n      size: formatSize(file.size),\n      date: formatDate(new Date()),\n      image: file,\n    })\n\n    const formatSize = (bytes?: number) => {\n      if (bytes === 0) { return '0 Bytes' }\n      if (!bytes) { return '' }\n\n      const k = 1024\n      const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n    }\n\n    const formatDate = (date = new Date()) => {\n      return date.toLocaleDateString('en-US', {\n        hour: '2-digit',\n        minute: '2-digit',\n        month: 'short',\n        day: 'numeric',\n        year: 'numeric',\n      })\n    }\n\n    return {\n      filesList,\n    }\n  },\n})\n</script>\n\n<style lang='scss'>\n.va-file-upload-list {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 0 1.5rem;\n\n  &--gallery {\n    padding-bottom: 0.5rem;\n  }\n}\n</style>\n"],"names":["_createBlock","_normalizeClass","_openBlock","_createElementBlock","_Fragment","_renderList","_createCommentVNode"],"mappings":"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"}