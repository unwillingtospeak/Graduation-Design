{"version":3,"file":"useFocus.js","sources":["../../../../src/composables/useFocus.ts"],"sourcesContent":["import { ref, onMounted, onBeforeUnmount, Ref } from 'vue'\n\nexport const useFocusEmits = ['focus', 'blur']\n\nexport function useFocus (\n  el?: Ref<HTMLElement | null | undefined>,\n  emit?: (event: 'focus' | 'blur', e?: Event) => void,\n) {\n  const isFocused = ref(false)\n\n  const onFocus = (e?: Event) => {\n    isFocused.value = true\n    emit?.('focus', e)\n  }\n\n  const onBlur = (e?: Event) => {\n    isFocused.value = false\n    emit?.('blur', e)\n  }\n\n  const focus = (): void => {\n    el?.value?.focus()\n  }\n\n  const blur = (): void => {\n    el?.value?.blur()\n  }\n\n  if (el) {\n    onMounted(() => {\n      if (el?.value instanceof HTMLElement) {\n        el.value?.addEventListener('focus', onFocus)\n        el.value?.addEventListener('blur', onBlur)\n      }\n    })\n    onBeforeUnmount(() => {\n      if (el?.value instanceof HTMLElement) {\n        el.value?.removeEventListener('focus', onFocus)\n        el.value?.removeEventListener('blur', onBlur)\n      }\n    })\n  }\n\n  return {\n    isFocused,\n    onFocus,\n    onBlur,\n    focus,\n    blur,\n  }\n}\n"],"names":[],"mappings":";AAEa,MAAA,gBAAgB,CAAC,SAAS,MAAM;AAEtC,kBACL,IACA,MACA;AACM,QAAA,YAAY,IAAI,KAAK;AAErB,QAAA,UAAU,CAAC,MAAc;AAC7B,cAAU,QAAQ;AAClB,iCAAO,SAAS;AAAA,EAAC;AAGb,QAAA,SAAS,CAAC,MAAc;AAC5B,cAAU,QAAQ;AAClB,iCAAO,QAAQ;AAAA,EAAC;AAGlB,QAAM,QAAQ,MAAY;;AACxB,mCAAI,UAAJ,mBAAW;AAAA,EAAM;AAGnB,QAAM,OAAO,MAAY;;AACvB,mCAAI,UAAJ,mBAAW;AAAA,EAAK;AAGlB,MAAI,IAAI;AACN,cAAU,MAAM;;AACV,UAAA,0BAAI,kBAAiB,aAAa;AACjC,iBAAA,UAAA,mBAAO,iBAAiB,SAAS;AACjC,iBAAA,UAAA,mBAAO,iBAAiB,QAAQ;AAAA,MACrC;AAAA,IAAA,CACD;AACD,oBAAgB,MAAM;;AAChB,UAAA,0BAAI,kBAAiB,aAAa;AACjC,iBAAA,UAAA,mBAAO,oBAAoB,SAAS;AACpC,iBAAA,UAAA,mBAAO,oBAAoB,QAAQ;AAAA,MACxC;AAAA,IAAA,CACD;AAAA,EACH;AAEO,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;;"}