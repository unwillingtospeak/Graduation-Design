import { ref, watch } from "vue";
import { u as useRequestAnimationFrame } from "./useRequestAnimationFrame.js";
const keys = ["x", "y", "width", "height", "top", "left", "right", "bottom"];
const isDomRectEqual = (a, b) => {
  for (let i = 0; i < keys.length; i++) {
    if (a[keys[i]] !== b[keys[i]]) {
      return false;
    }
  }
  return true;
};
const useDomRect = (target) => {
  const domRect = ref(null);
  let prev = {};
  useRequestAnimationFrame(() => {
    if (!target.value) {
      return;
    }
    const rect = target.value.getBoundingClientRect();
    if (!isDomRectEqual(rect, prev)) {
      domRect.value = rect;
    }
    prev = rect;
  });
  watch(target, (newVal) => {
    if (newVal) {
      domRect.value = newVal.getBoundingClientRect();
    } else {
      domRect.value = null;
    }
  });
  return {
    domRect
  };
};
export { useDomRect as u };
//# sourceMappingURL=useDomRect.js.map
