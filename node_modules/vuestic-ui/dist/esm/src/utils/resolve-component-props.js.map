{"version":3,"file":"resolve-component-props.js","sources":["../../../../src/utils/resolve-component-props.ts"],"sourcesContent":["import { ComponentOptions, DefineComponent } from 'vue'\n\nfunction normalizeProps (props: any) {\n  switch (true) {\n    case Array.isArray(props):\n      return props.reduce((acc: Record<string, unknown>, prop: string) => ({ ...acc, [prop]: null }), {})\n    case typeof props === 'object' && props !== null:\n      return props\n    default:\n      return {}\n  }\n}\n\nfunction mergeProps (to: Record<string, any>, from: Record<string, any>, optionsType = 'props') {\n  const { mixins, extends: extendsOptions } = from\n\n  extendsOptions && mergeProps(to, extendsOptions, optionsType)\n  mixins && mixins.forEach((m: any) => mergeProps(to, m, optionsType))\n\n  const props = normalizeProps(from[optionsType])\n\n  for (const key in props) {\n    to[key] = props[key]\n  }\n}\n\nfunction getComponentOptions (component: DefineComponent): ComponentOptions {\n  if (component.options) {\n    return component.options\n  }\n\n  if (component.__vccOpts || component.__b) {\n    return { ...component.__vccOpts, ...component.__b }\n  }\n\n  return component\n}\n\nfunction resolveProps (options: any, optionsType = 'props') {\n  const mixins = options.mixins ?? []\n  const extendsOptions = options.extends ?? []\n  const result: Record<string, any> = {}\n\n  mergeProps(result, extendsOptions, optionsType)\n\n  for (let i = 0; i < mixins.length; i++) {\n    mergeProps(result, mixins[i], optionsType)\n  }\n\n  Object.assign(result, normalizeProps(options[optionsType]))\n\n  return result\n}\n\nexport const getComponentProps = (component: DefineComponent) => {\n  return resolveProps(getComponentOptions(component))\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAEA,wBAAyB,OAAY;AAC3B,UAAA;AAAA,SACD,MAAM,QAAQ,KAAK;AACf,aAAA,MAAM,OAAO,CAAC,KAA8B,SAAuB,iCAAA,MAAA,GAAM,OAAO,SAAS,CAAE,CAAA;AAAA,SAC/F,QAAO,UAAU,YAAY,UAAU;AACnC,aAAA;AAAA;AAEP,aAAO;;AAEb;AAEA,oBAAqB,IAAyB,MAA2B,cAAc,SAAS;AACxF,QAAA,EAAE,QAAQ,SAAS,mBAAmB;AAE1B,oBAAA,WAAW,IAAI,gBAAgB,WAAW;AAClD,YAAA,OAAO,QAAQ,CAAC,MAAW,WAAW,IAAI,GAAG,WAAW,CAAC;AAE7D,QAAA,QAAQ,eAAe,KAAK,YAAY;AAE9C,aAAW,OAAO,OAAO;AACvB,OAAG,OAAO,MAAM;AAAA,EAClB;AACF;AAEA,6BAA8B,WAA8C;AAC1E,MAAI,UAAU,SAAS;AACrB,WAAO,UAAU;AAAA,EACnB;AAEI,MAAA,UAAU,aAAa,UAAU,KAAK;AACxC,WAAO,kCAAK,UAAU,YAAc,UAAU;AAAA,EAChD;AAEO,SAAA;AACT;AAEA,sBAAuB,SAAc,cAAc,SAAS;AApC5D;AAqCQ,QAAA,SAAS,cAAQ,WAAR,YAAkB;AAC3B,QAAA,iBAAiB,cAAQ,YAAR,YAAmB;AAC1C,QAAM,SAA8B,CAAA;AAEzB,aAAA,QAAQ,gBAAgB,WAAW;AAE9C,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AAC3B,eAAA,QAAQ,OAAO,IAAI,WAAW;AAAA,EAC3C;AAEA,SAAO,OAAO,QAAQ,eAAe,QAAQ,YAAY,CAAC;AAEnD,SAAA;AACT;AAEa,MAAA,oBAAoB,CAAC,cAA+B;AACxD,SAAA,aAAa,oBAAoB,SAAS,CAAC;AACpD;;"}